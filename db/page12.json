[{"category": "", "categoryclass": "", "imagename": "d7591c43285c6817db432d56d014ac35.jpg", "infoid": 1007741, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u82f9\u679c\u516c\u53f8\u4eca\u5929\u5ba3\u5e03\u5bf9\u5176\u5904\u7406\u4e0e\u7b2c\u4e09\u65b9\u5f00\u53d1\u8005\u7ea0\u7eb7\u7684App Store\u65b9\u5f0f\u8fdb\u884c\u4e24\u9879\u91cd\u5927\u8c03\u6574\u3002\u9996\u5148\uff0c\u82f9\u679c\u73b0\u5728\u5c06\u5141\u8bb8\u5f00\u53d1\u8005\u5bf9\u8fdd\u53cdApp Store\u6307\u5bfc\u65b9\u9488\u7684\u5177\u4f53\u884c\u4e3a\u63d0\u51fa\u4e0a\u8bc9\uff0c\u800c\u4e14\u8fd8\u5c06\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u7a0b\u5e8f\u6765\u6311\u6218\u6307\u5bfc\u65b9\u9488\u672c\u8eab\u3002\u6b64\u5916\uff0c\u82f9\u679c\u516c\u53f8\u8868\u793a\uff0c\u7531\u4e8eApp Store\u7ea0\u7eb7\uff0c\u5b83\u5c06\u4e0d\u518d\u63a8\u8fdf\u65e8\u5728\u4fee\u590d\u6f0f\u6d1e\u548c\u5176\u4ed6\u6838\u5fc3\u529f\u80fd\u7684\u5e94\u7528\u7a0b\u5e8f\u66f4\u65b0\u3002\n\u201c\u6b64\u5916\uff0cAPP\u5ba1\u6838\u6d41\u7a0b\u5373\u5c06\u8fce\u6765\u4e24\u4e2a\u53d8\u5316\uff0c\u5e76\u5c06\u4e8e\u4eca\u5e74\u590f\u5929\u5b9e\u65bd\u3002\u9996\u5148\uff0c\u5f00\u53d1\u8005\u4e0d\u4ec5\u53ef\u4ee5\u5c31\u5e94\u7528\u7a0b\u5e8f\u662f\u5426\u8fdd\u53cdApp Store\u5ba1\u67e5\u6307\u5357\u7684\u7279\u5b9a\u6307\u5357\u63d0\u51fa\u4e0a\u8bc9\uff0c\u800c\u4e14\u8fd8\u5c06\u6709\u4e00\u79cd\u673a\u5236\u6765\u6311\u6218\u6307\u5357\u672c\u8eab\uff0c\u201c\u82f9\u679c\u516c\u53f8\u4eca\u5929\u4e0b\u5348\u53d1\u5e03\u7684\u4e00\u4efd\u65b0\u95fb\u7a3f\u4e2d\u5199\u9053\u3002\u201c\u5176\u6b21\uff0c\u5bf9\u4e8e\u5df2\u7ecf\u5728App Store\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u9664\u4e0e\u6cd5\u5f8b\u76f8\u5173\u7684\u95ee\u9898\u5916\uff0c\u9519\u8bef\u4fee\u590d\u5c06\u4e0d\u518d\u56e0\u8fdd\u53cd\u6307\u5bfc\u65b9\u9488\u800c\u5ef6\u8fdf\u3002\u76f8\u53cd\uff0c\u5f00\u53d1\u4eba\u5458\u5c06\u80fd\u591f\u5728\u4ed6\u4eec\u7684\u4e0b\u4e00\u6b21\u63d0\u4ea4\u4e2d\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u201c\u3002\n\u8fd9\u4e9b\u53d8\u5316\u53d1\u751f\u5728\u82f9\u679c\u4e0e\u8f6f\u4ef6\u5f00\u53d1\u5546Basecamp\u7684\u65b0\u7535\u5b50\u90ae\u4ef6\u670d\u52a1\u563f\u9ad8\u8c03\u644a\u724c\u4e4b\u540e\u3002\u8fd9\u9879\u670d\u52a1\u4e0a\u5468\u63a8\u51fa\uff0c\u662f\u4e00\u4e2a\u4ec5\u9650\u9080\u8bf7\u7684\u7f51\u7ad9\u548c\u914d\u5957\u7684iOS\u5e94\u7528\u7a0b\u5e8f\uff0c\u5b9a\u4e8e7\u6708\u4efd\u5168\u9762\u53d1\u5e03\u3002\u4f46\u5728\u6700\u521d\u6279\u51c6\u4e86\u8fd9\u6b3e\u5e94\u7528\u540e\uff0c\u82f9\u679c\u540e\u6765\u62d2\u7edd\u4e86Basecamp\u7684\u540e\u7eed\u66f4\u65b0\uff0c\u5e76\u5f15\u53d1\u4e86\u8be5\u516c\u53f8\u4e0eBasecamp\u7684\u8054\u5408\u521b\u59cb\u4eba\u3001\u9996\u5e2d\u6267\u884c\u5b98\u6770\u68ee\u00b7\u5f17\u91cc\u5fb7\u548c\u9996\u5e2d\u6280\u672f\u5b98\u5927\u536b\u00b7\u6d77\u5185\u8fc8\u5c14\u00b7\u6c49\u68ee\u4e4b\u95f4\u5173\u4e8e\u563f\u662f\u5426\u53ef\u4ee5\u4ee5\u76ee\u524d\u7684\u5f62\u5f0f\u5b58\u5728\u4e8e\u5e94\u7528\u5546\u5e97\u7684\u516c\u5f00\u4e89\u6267\u3002\u8fd9\u573a\u4e89\u6267\u7ed9\u82f9\u679c\u5e26\u6765\u4e86\u4e0d\u4fbf\uff0c\u6070\u9022\u6b27\u76df\u4e0a\u5468\u5ba3\u5e03\u4e86\u4e24\u9879\u53cd\u5784\u65ad\u8c03\u67e5\uff0c\u8fd9\u4e24\u9879\u8c03\u67e5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u662f\u7531Spotify\u7b49\u82f9\u679c\u957f\u671f\u7ade\u4e89\u5bf9\u624b\u7684\u6295\u8bc9\u5f15\u53d1\u7684\u3002\n\u672c\u6848\u7684\u6838\u5fc3\u4e89\u8bae\u662f\uff0c\u563f\u662f\u5426\u6709\u8d44\u683c\u8c41\u514d\u5e94\u7528\u5185\u8d2d\u4e70\u7684\u89c4\u5219\uff0cBasecamp\u51b3\u5b9a\u4e0d\u5305\u62ec\u8fd9\u4e00\u89c4\u5219\uff0c\u56e0\u4e3a\u8be5\u516c\u53f8\u4e0d\u60f3\u7ed9\u82f9\u679c\u63d0\u4f9b\u6807\u51c6\u7684App Store\u6536\u5165\u524a\u51cf\u3002\u82f9\u679c\u516c\u53f8\u8868\u793a\uff0c\u563f\u6ca1\u6709\uff0c\u5e76\u58f0\u79f0Basecamp\u7684iOS\u5e94\u7528\u7a0b\u5e8f\u8fdd\u53cd\u4e86\u4e09\u4e2aApp Store\u51c6\u5219\uff0c\u4e0d\u5141\u8bb8\u4f60\u6ce8\u518c\u6216\u4ece\u624b\u673a\u8d2d\u4e70\u8bbf\u95ee\u563f\u7684\u6743\u9650\u3002\u5f17\u91cc\u5fb7\u548c\u6d77\u5185\u6885\u5c14\u00b7\u6c49\u68ee(Heinemeier Hansson)\u58f0\u79f0\uff0c\u8003\u8651\u5230Netflix\u548c\u5546\u4e1a\u8f6f\u4ef6\u7b49\u4f17\u591a\u5e94\u7528\u7a0b\u5e8f\u786e\u5b9e\u6709\u8d44\u683c\u83b7\u5f97\u6b64\u7c7b\u8c41\u514d\uff0c\u800c\u4e14\u591a\u5e74\u6765\u4e00\u76f4\u5b58\u5728\u4e8eApp Store\u4e2d\uff0c\u6ca1\u6709\u5e94\u7528\u5185\u8d2d\u4e70\u9009\u9879\uff0c\u8fd9\u4e00\u51b3\u5b9a\u8bc1\u660e\u4e86\u82f9\u679c\u65b9\u9762\u7684\u4e0d\u4e00\u81f4\u548c\u8d2a\u5a6a\u3002\n\u5c24\u5176\u662f\u6d77\u5185\u6885\u5c14\u00b7\u6c49\u68ee(Heinemeier Hansson)\u53d8\u5f97\u975e\u5e38\u76f4\u8a00\u4e0d\u8bb3\uff0c\u79f0\u82f9\u679c\u4e3a\u201c\u9ed1\u5e2e\u201d\u3002\u4ed6\u7684\u8a00\u8bba\u89e6\u52a8\u4e86\u5f00\u53d1\u8005\u793e\u533a\u6210\u5458\u548c\u82f9\u679c\u6279\u8bc4\u8005\u7684\u795e\u7ecf\uff0c\u4ed6\u4eec\u957f\u671f\u4ee5\u6765\u4e00\u76f4\u62b1\u6028\u82f9\u679c\u5982\u4f55\u7ba1\u7406App Store\uff0c\u6536\u53d6\u8d39\u7528\uff0c\u4ee5\u53ca\u6709\u65f6\u5e26\u6709\u654c\u610f\u7684\u6307\u5bfc\u65b9\u9488\u548c\u6267\u6cd5\u3002\n\u82f9\u679c\u516c\u53f8\u5df2\u7ecf\u6279\u51c6\u563f\u5728\u6ca1\u6709IAP\u7684\u60c5\u51b5\u4e0b\u7528\u4e8eiOS 1.0.2\uff01\u6211\u4eec\u5df2\u7ecf\u63d0\u4ea4\u4e861.0.3\u4ee5\u83b7\u5f97\u6700\u7ec8\u7684\u3001\u6700\u7ec8\u7684\u6279\u51c6\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u7684\u514d\u8d39\u9009\u9879\u548c\u563f\u7528\u4e8e\u5de5\u4f5c\u3002\u6240\u4ee5\u73b0\u5728\u6211\u4eec\u5c31\u7b49\u7740\u5427\u3002\u8fd9\u573a\u5bf9\u5cd9\u80fd\u4ee5\u4f11\u6218\u544a\u7ec8\u5417\uff1fhttps://t.co/0x0UAYgM80\u3002\n-dhh(@dhh)2020\u5e746\u670822\u65e5\u3002\n\u7531\u6b64\u5f15\u53d1\u7684\u4e89\u8bae\u53ef\u80fd\u4f1a\u7ed9\u82f9\u679c\u5f15\u4eba\u6ce8\u76ee\u7684WWDC\u6d3b\u52a8\u8499\u4e0a\u9634\u5f71\u3002\u4eca\u5929\u65e9\u4e9b\u65f6\u5019\uff0c\u82f9\u679c\u53d1\u5e03\u4e86iOS14\u548cMacOS Big Sur\u7b49\u5927\u578b\u4ea7\u54c1\uff0c\u5e76\u53d1\u8868\u4e86\u865a\u62df\u4e3b\u65e8\u6f14\u8bb2\u3002\u82f9\u679c\u4e0a\u5468\u8bd5\u56fe\u901a\u8fc7\u5728App Review Board\u7b7e\u7f72\u7684\u4e00\u5c01\u4fe1\u4e2d\u6982\u8ff0\u5176\u7406\u7531\uff0c\u4ee5\u9632\u6b62\u8fd9\u573a\u4e89\u6267\u672a\u6765\u7684\u4efb\u4f55\u5347\u7ea7\u3002\u82f9\u679c\u5c06\u8fd9\u5c01\u4fe1\u5206\u53d1\u7ed9Basecamp\u548c\u5a92\u4f53\u7ec4\u7ec7\u3002\u82f9\u679c\u8425\u9500\u4e3b\u7ba1\u83f2\u5c14\u00b7\u5e2d\u52d2(Phil Schiller)\u4e5f\u63a5\u53d7\u4e86\u5a92\u4f53\u7684\u91c7\u8bbf\u3002\n\u4f46\u6d77\u5185\u8fc8\u5c14\u00b7\u6c49\u68ee(Heinemeier Hansson)\u672c\u5468\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u5728Twitter\u4e0a\u53d1\u8868\u6279\u8bc4\u82f9\u679c\u7684\u957f\u7bc7\u5e16\u5b50\uff0c\u5e76\u63a5\u53d7\u4e86\u81ea\u5df1\u7684\u91c7\u8bbf\uff0c\u4ed6\u5bf9\u8fd9\u5c01\u4fe1\u548c\u62d2\u7edd\u8d1d\u585e\u574e\u666e\u7684\u4e0a\u8bc9\u611f\u5230\u4e0d\u6ee1\u3002\u4ed6\u548c\u5f17\u83b1\u5fb7\u7ee7\u7eed\u53d1\u8868\u535a\u5ba2\u6587\u7ae0\u548c\u63a8\u6587\uff0c\u8c34\u8d23\u82f9\u679c\u516c\u53f8\u3002\n\u5468\u4e00\uff0c\u5728\u4e3b\u9898\u6f14\u8bb2\u4e4b\u524d\uff0c\u82f9\u679c\u653e\u5f03\u4e86\uff0c\u53ea\u6709\u5728Basecamp\u505a\u51fa\u59a5\u534f\u540e\uff0c\u624d\u5141\u8bb8\u563f\u7684\u66f4\u65b0\u901a\u8fc7\u3002\u5728\u59a5\u534f\u4e2d\uff0c\u8be5\u516c\u53f8\u73b0\u5728\u5141\u8bb8\u4f60\u6ce8\u518c\u4e00\u4e2a\u4e24\u5468\u540e\u5230\u671f\u7684\u523b\u5f55\u673a\u8d26\u6237\u3002\u8fd9\u4e00\u4e3e\u63aa\u662f\u5426\u80fd\u8ba9\u82f9\u679c\u6ee1\u610f\uff0c\u6216\u8005Basecamp\u672a\u6765\u662f\u5426\u9700\u8981\u505a\u51fa\u66f4\u591a\u6539\u53d8\u8fd8\u6709\u5f85\u89c2\u5bdf\uff1b\u8be5\u5e94\u7528\u7a0b\u5e8f\u4ecd\u4e0d\u5305\u62ec\u5e94\u7528\u5185\u8d2d\u4e70\u9009\u9879\u3002\n\u4f46\u770b\u8d77\u6765\uff0c\u8fd9\u573a\u6597\u4e89\uff0c\u5c3d\u7ba1\u4e11\u964b\uff0c\u53ef\u80fd\u5df2\u7ecf\u5bfc\u81f4App Store\u4e0a\u8bc9\u7a0b\u5e8f\u53d1\u751f\u4e86\u76f8\u5f53\u79ef\u6781\u548c\u5e7f\u6cdb\u7684\u53d8\u5316\uff0c\u6709\u5229\u4e8e\u5f00\u53d1\u8005\u3002\u5f53\u7136\u8fd8\u4e0d\u6e05\u695a\u6210\u529f\u6311\u6218App Store\u6307\u5bfc\u65b9\u9488\u6709\u591a\u5bb9\u6613\uff0c\u4f46\u73b0\u5728\u4f3c\u4e4e\u66f4\u5bb9\u6613\u5bf9\u82f9\u679c\u7684\u4efb\u4f55\u51b3\u5b9a\u63d0\u51fa\u4e0a\u8bc9\uff0c\u800c\u4e0d\u7528\u62c5\u5fc3\u4f60\u7684\u5e94\u7528\u88ab\u62d2\u7edd\u6216\u672a\u6765\u7684\u66f4\u65b0\u88ab\u63a8\u8fdf\u3002", "note_en": "Apple today  announced two major changes to how it handles App Store disputes with third-party developers. The first is that Apple will now allow developers to appeal a specific violation of an App Store guideline, and that there will also be a separate process for challenging the guideline itself. Additionally, Apple says it will no longer delay app updates intended to fix bugs and other core functions over App Store disputes.\n \u201cAdditionally, two changes are coming to the app review process and will be implemented this summer. First, developers will not only be able to appeal decisions about whether an app violates a given guideline of the App Store Review Guidelines, but will also have a mechanism to challenge the guideline itself,\u201d reads a  press release from Apple published this afternoon. \u201cSecond, for apps that are already on the App Store, bug fixes will no longer be delayed over guideline violations except for those related to legal issues. Developers will instead be able to address the issue in their next submission.\u201d\n  The changes come in the wake of Apple\u2019s high-profile showdown with Hey, a new email service from software developer Basecamp. The  service launched last week as an invite-only website and a companion iOS app, with a full launch slated for July. But after initially approving the app, Apple later  rejected Basecamp\u2019s subsequent updates and kicked off what became a very public feud between the company and Basecamp\u2019s co-founders, CEO Jason Fried and CTO David Heinemeier Hansson, over whether Hey could exist in the App Store in its current form at all. The feud, inconveniently for Apple, coincided with the announcement of  two antitrust probes from the European Union last week that were spurred in part from complaints from longtime Apple rivals like Spotify.\n The central dispute in this case was whether Hey qualified for an exemption to rules around in-app purchases, which Basecamp decided not to include because the company does not want to give Apple its standard App Store revenue cut. Apple said Hey did not and claimed Basecamp\u2019s iOS app violated three App Store guidelines by not allowing you to sign up or purchase access to Hey from mobile. Fried and Heinemeier Hansson claimed that the decision was evidence of inconsistency and greed on Apple\u2019s part given the numerous apps, like Netflix and business software, that do qualify for such exemptions and have existed in the App Store without in-app purchase options for years.\n Heinemeier Hansson in particular became very vocal, calling Apple \u201cgangsters.\u201d His comments touched a nerve among members of the developer community and Apple critics over long-held gripes with how the company manages the App Store, charges fees, and its sometimes antagonist guidelines and enforcement.\n Apple has approved HEY for iOS 1.0.2 without IAP!! We\u2019ve submitted 1.0.3 for final, definitive approval with a new free option and HEY for Work. SO NOW WE WAIT. CAN THIS STAND-OFF END IN A TRUCE?  https://t.co/0x0UAYgM80\n\u2014 DHH (@dhh)  June 22, 2020\n The resulting controversy risked overshadowing Apple\u2019s splashy WWDC event, which began earlier today with a virtual keynote address featuring big product announcements like iOS 14 and macOS Big Sur. Apple last week tried to  head off any future escalation of the feud by outlining its reasoning in a letter signed from the App Review Board, which it disseminated to Basecamp and media organizations. Apple marketing chief Phil Schiller also conducted interviews with members of the press.\n But Heinemeier Hansson, who spent most of the week engaging in lengthy Twitter threads critical of Apple and giving interviews of his own, was displeased with the letter and the denial of Basecamp\u2019s appeal. He and Fried continued to publish blog posts and tweets calling Apple out.\n On Monday, ahead of the keynote, Apple capitulated,  allowing Hey\u2019s updates to go through only after a compromise from Basecamp in which the company now lets you sign up for a burner account that expires after two weeks. It remains to be seen whether this move will satisfy Apple or whether Basecamp will need to make more changes in the future; the app still does not include an in-app purchase option.\n But it appears the fight, as ugly as it was, may have led to rather positive and broad changes to the App Store appeals process in favor of developers. It\u2019s certainly not clear how easy it will be to successfully challenge an App Store guideline, but it does seem as if it will be easier to appeal any decision from Apple now without fear of your app getting rejected or future updates delayed.", "posttime": "2020-06-23 09:18:51", "source_domain": "slashdot.org", "source_name": "slashdot", "tags": "\u82f9\u679c,apple,\u5f00\u53d1,\u5f00\u53d1\u8005", "title": "\u5728\u5f3a\u70c8\u6297\u8bae\u4e4b\u540e\uff0c\u82f9\u679c\u5c06\u8ba9\u5f00\u53d1\u8005\u6311\u6218App Store\u7684\u6307\u5bfc\u65b9\u9488", "title_en": "After Outcry, Apple Will Let Developers Challenge App Store Guidelines", "transed": 1, "url": "https://www.theverge.com/2020/6/22/21299814/apple-app-store-policies-ios-bug-fixes-approval-dispute-appeal", "via": "", "real_tags": ["\u82f9\u679c", "apple", "\u5f00\u53d1", "\u5f00\u53d1\u8005"]}, {"category": "", "categoryclass": "", "imagename": "16ddecdc7af2335a4b58e79b0e180301.png", "infoid": 1007740, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "UnrealCLR\u662f\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5b83\u4f7f\u7528\u516c\u5171\u8bed\u8a00\u8fd0\u884c\u5e93\u5c06.NET\u6838\u5fc3\u4e3b\u673a\u672c\u5730\u96c6\u6210\u5230\u865a\u5e7b\u5f15\u64ce\u4e2d\uff0c\u4ee5\u4fbf\u901a\u8fc7\u7528\u6237\u9a71\u52a8\u7684\u84dd\u56fe\u7ba1\u9053\u76f4\u63a5\u6267\u884c\u6258\u7ba1\u4ee3\u7801\uff0c\u4ece\u800c\u4f7f\u7528\u5177\u6709\u5f15\u64ceAPI\u7684.NET\u5de5\u5177\u7684\u5168\u90e8\u529f\u80fd\u6765\u6784\u5efa\u6e38\u620f\u903b\u8f91\u3002\u8be5\u9879\u76ee\u7684\u76ee\u6807\u662f\u7a33\u5b9a\u6027\u3001\u6027\u80fd\u548c\u53ef\u7ef4\u62a4\u6027\u3002\n\u4ece\u60ef\u7528\u7684C#\u7f16\u5199\u7684\u6258\u7ba1\u4ee3\u7801\u4e2d\u4e0d\u65ad\u53d1\u5c55\u8bbf\u95ee\u5f15\u64ceAPI\u7684\u6846\u67b6\u3002\n\u652f\u6301.NET\u5de5\u5177\uff0c\u5305\u62ec\u786c\u4ef6\u52a0\u901f\u7684\u6570\u5b66\u8fd0\u7b97\uff0c\u5e76\u900f\u660e\u5730\u91cd\u65b0\u6620\u5c04\u5230\u5f15\u64ce\u7684\u5411\u91cf\u7c7b\u578b\u3002\n\u652f\u6301\u7528\u4e8e\u8c03\u8bd5\u548c\u5206\u6790\u7684.NET\u5de5\u5177\uff0c\u5982JetBrains\u4ea7\u54c1\u7ebf\u3001dnSpy\u8c03\u8bd5\u5668\u7b49\u3002\n\u5b8c\u5168\u72ec\u7acb\u4e8e\u7a0b\u5e8f\u96c6\u7684\u7f16\u8bd1\u7ba1\u9053\uff0c\u5e76\u652f\u6301NuGet\u5305\u3001\u5206\u6790\u5668\u548c\u751f\u6210\u5668\u3002\n\u65b0\u5efa\u6216\u4f7f\u7528\u73b0\u6709\u7684\u865a\u5e7b\u5f15\u64ceC++\u6216BluePrints\u9879\u76ee\u3002\u514b\u9686\u5b58\u50a8\u5e93\u6216\u4ece\u53d1\u5e03\u90e8\u5206\u4e0b\u8f7d\u6240\u9700\u7684\u7248\u672c\u3002\u5bfc\u822a\u5230\u5b89\u88c5\u6587\u4ef6\u5939\uff0c\u7136\u540e\u8fd0\u884cDotNet Run\u547d\u4ee4\u3002\u6309\u7167\u5b89\u88c5\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\u3002\u5728\u5b89\u88c5\u8fc7\u7a0b\u5b8c\u6210\u540e\u6253\u5f00\u9879\u76ee\u3002\n\u8981\u5347\u7ea7\u63d2\u4ef6\uff0c\u8bf7\u91cd\u65b0\u8fd0\u884c\u5b89\u88c5\u8fc7\u7a0b\u3002\u4f7f\u7528\u66f4\u65b0\u7684\u6846\u67b6\u91cd\u65b0\u7f16\u8bd1\u81ea\u5b9a\u4e49\u4ee3\u7801\u3002\n\u65b0\u5efa\u6216\u4f7f\u7528\u73b0\u6709\u7684\u865a\u5e7b\u5f15\u64ceC++\u6216BluePrints\u9879\u76ee\u3002\u514b\u9686\u5b58\u50a8\u5e93\u6216\u4ece\u53d1\u5e03\u90e8\u5206\u4e0b\u8f7d\u6240\u9700\u7684\u7248\u672c\u3002\u5c06Source/Native\u6587\u4ef6\u5939\u7684\u5185\u5bb9\u590d\u5236\u5230%Project%/Plugins/UnrealCLR\u76ee\u5f55\u3002\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4ece\u6e90/\u6258\u7ba1/\u8fd0\u884c\u65f6\u6587\u4ef6\u5939\u7f16\u8bd1\u6258\u7ba1\u8fd0\u884c\u65f6\uff1aDotNet Publish--Configuration Release--framework netcoreapp3.1--Output&#34\uff1b%Project%/Plugins/UnrealCLR/Managed&#34\uff1b.\u3002\u91cd\u65b0\u542f\u52a8\u865a\u5e7b\u5f15\u64ce\uff0c\u6253\u5f00\u9879\u76ee\uff0c\u7136\u540e\u6784\u5efa\u63d2\u4ef6\u3002\n\u8981\u5feb\u901f\u5f00\u59cb\u6d4b\u8bd5\uff0c\u8bf7\u5728\u865a\u5e7b\u5f15\u64ce\u4e2d\u6253\u5f00\u5305\u542b\u8be5\u63d2\u4ef6\u7684\u9879\u76ee\uff0c\u5c06\u5b58\u50a8\u5e93\u5185\u5bb9\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u5939\u590d\u5236\u5230%Project%/Content\u76ee\u5f55\uff0c\u7136\u540e\u7b49\u5f85\u5b83\u4eec\u52a0\u8f7d\u5230\u5185\u5bb9\u6d4f\u89c8\u5668\u4e2d\u3002\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4eceSource/Managed/Tests\u6587\u4ef6\u5939\u7f16\u8bd1\u6258\u7ba1\u7a0b\u5e8f\u96c6\uff1a\n\u8981\u5347\u7ea7\uff0c\u8bf7\u4ece\u9879\u76ee\u4e2d\u5220\u9664\u63d2\u4ef6\u6587\u4ef6\u5939\uff0c\u7136\u540e\u91cd\u590d\u7f16\u8bd1\u90e8\u5206\u4e2d\u7684\u6240\u6709\u6b65\u9aa4\u3002\u4f7f\u7528\u66f4\u65b0\u7684\u6846\u67b6\u91cd\u65b0\u7f16\u8bd1\u81ea\u5b9a\u4e49\u4ee3\u7801\u3002\n\u63d2\u4ef6\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u52a0\u8f7d\u3002\u8981\u786e\u4fdd\u5b83\u5df2\u521d\u59cb\u5316\uff0c\u8bf7\u4eceWindows-&gt;\u5f00\u53d1\u4eba\u5458\u5de5\u5177-&&gt;\u8f93\u51fa\u65e5\u5fd7\u4e2d\u6253\u5f00\u63a7\u5236\u53f0\u7a97\u53e3\uff0c\u4f7f\u7528\u641c\u7d22\u8f93\u5165\u67e5\u627eUnrealCLR\u65e5\u5fd7\u3002\n\u5728\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u5e26\u6709\u6d4b\u8bd5\u7684\u573a\u666f\u5e76\u8fdb\u5165\u64ad\u653e\u6a21\u5f0f\u3002\u8981\u5207\u6362\u6d4b\u8bd5\uff0c\u8bf7\u5bfc\u822a\u5230BluePrints-&gt\uff1bOpen Level Blueprint\uff0c\u9009\u62e9Test Systems\u679a\u4e3e\uff0c\u7136\u540e\u5728\u53f3\u4fa7\u9762\u677f\u4e0a\u66f4\u6539\u9ed8\u8ba4\u503c\u3002\nUnrealCLR\u88ab\u8bbe\u8ba1\u4e3a\u5177\u6709\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002\u8be5\u63d2\u4ef6\u900f\u660e\u5730\u7ba1\u7406\u8fd0\u884c\u65f6\u7684\u6838\u5fc3\u529f\u80fd\uff0c\u7ed1\u5b9a\u548c\u7f13\u5b58\u6258\u7ba1\u73af\u5883\u7684\u5f15\u64ceAPI\u3002\u7a0b\u5e8f\u5458\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u901a\u8fc7\u84dd\u56fe\u7ba1\u9053\u7684\u6267\u884c\u6d41\uff0c\u8fd9\u4e9b\u7ba1\u9053\u5141\u8bb8\u7528\u6258\u7ba1\u903b\u8f91\u52a8\u6001\u7f16\u7ec7\u5f15\u64ce\u53ca\u5176\u5bf9\u8c61\u7684\u672c\u673a\u4e8b\u4ef6\u3002\u5728\u811a\u672c\u7684\u751f\u547d\u5468\u671f\u540e\u9762\u6ca1\u6709\u9690\u85cf\u7684\u72b6\u6001\u6216\u6a21\u7cca\u7684\u6267\u884c\u987a\u5e8f\u3002\n\u5728\u8fd0\u884c\u65f6\uff0cUnrealCLR\u5c06\u6258\u7ba1\u7a0b\u5e8f\u96c6\u52a0\u8f7d\u5230\u7f13\u5b58\u7684\u72ec\u7acb\u4e0a\u4e0b\u6587\u4e2d\u3002\u5b83\u5141\u8bb8\u5728\u4ece\u5185\u5b58\u4e2d\u5378\u8f7d\u7a0b\u5e8f\u96c6\u540e\u52a8\u6001\u66ff\u6362\u5b83\u4eec\uff0c\u56e0\u6b64\u7a0b\u5e8f\u5458\u65e0\u9700\u91cd\u65b0\u542f\u52a8\u7f16\u8f91\u5668\u5373\u53ef\u4f7f\u7528\u4ee3\u7801\u8fdb\u884c\u6301\u7eed\u5f00\u53d1\u3002\u7f16\u8bd1\u7ba1\u9053\u5b8c\u5168\u7531\u5f00\u53d1\u4eba\u5458\u51b3\u5b9a\uff0c\u5b83\u53ef\u4ee5\u4ee5\u4efb\u4f55\u7406\u60f3\u7684\u65b9\u5f0f\u7ec4\u7ec7\uff0c\u6ca1\u6709\u4efb\u4f55\u9650\u5236\uff0c\u5e76\u4e14\u5b8c\u5168\u652f\u6301NuGet\u5305\u3002\n\u63d2\u4ef6\u548c\u6846\u67b6\u4e00\u76f4\u5728\u53d1\u5c55\uff0c\u4ee5\u5c3d\u53ef\u80fd\u591a\u5730\u5229\u7528\u865a\u5e7b\u5f15\u64ce\u7684\u80fd\u529b\u3002\u62e5\u6709\u529f\u80fd\u4e30\u5bcc\u7684API\u81f3\u5173\u91cd\u8981\u3002\u8be5\u7cfb\u7edf\u5728\u521b\u5efa\u65f6\u8003\u8651\u5230\u4e86\u9ad8\u6027\u80fd\uff0c\u4f46\u6ca1\u6709\u8003\u8651\u5230\u4ea4\u6613\u5b89\u5168\u3002\u7edd\u5927\u591a\u6570\u4ee3\u7801\u90fd\u662f\u624b\u5de5\u7f16\u5199\u548c\u9a8c\u8bc1\u7684\uff0c\u4ee5\u9632\u6b62\u8fd0\u884c\u65f6\u51fa\u73b0\u4efb\u4f55\u610f\u5916\u884c\u4e3a\uff0c\u5e76\u786e\u4fdd\u7a33\u5b9a\u6027\u3002\n\u4f7f\u7528\u60a8\u559c\u6b22\u7684IDE\u548c.NET\u6838\u5fc3\u5de5\u5177\uff0c\u5b83\u4eec\u53ef\u4ee5\u50cf\u9644\u52a0\u5230\u5e38\u89c4.NET\u5e94\u7528\u7a0b\u5e8f\u4e00\u6837\u9644\u52a0\u5230\u5f15\u64ce\u8fdb\u7a0b\u4e2d\u8fdb\u884c\u8bc4\u6d4b\u548c\u8c03\u8bd5\u3002\u5b83\u975e\u5e38\u65b9\u4fbf\uff0c\u5f00\u7bb1\u5373\u7528\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u5916\u90e8\u52aa\u529b\u3002\u5206\u6790\u6027\u80fd\uff0c\u76d1\u63a7CPU\u4f7f\u7528\u60c5\u51b5\u548c\u5185\u5b58\u6d88\u8017\uff0c\u8c03\u8bd5\u6267\u884c\uff0c\u5b8c\u5168\u63a7\u5236\u4ee3\u7801\u3002\u63a2\u7d22\u65b0\u7684\u53ef\u80fd\u6027\uff0c\u7acb\u5373\u6269\u5c55\u60a8\u7684\u5de5\u5177\u96c6\u3002\n\u8fd0\u884c\u5e93\u5c06\u6240\u6709\u672a\u5904\u7406\u7684\u5f02\u5e38\u91cd\u5b9a\u5411\u5230\u5f15\u64ce\u7684\u65e5\u5fd7\u6587\u4ef6\u548c\u5c4f\u5e55\u6d88\u606f\uff0c\u4f46\u662f\uff0c\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528try/catch\u5757\u8986\u76d6\u81ea\u5b9a\u4e49\u5904\u7406\u7a0b\u5e8f\u7684\u91cd\u5b9a\u5411\u3002\u6709\u5fc5\u8981\u9644\u52a0\u4e00\u4e2a\u8c03\u8bd5\u5668\uff0c\u4ee5\u4fbf\u5728\u7f16\u8f91\u5668\u6216\u72ec\u7acb\u7f16\u8f91\u5668\u4e2d\u6b63\u786e\u8ddf\u8e2a\u5f02\u5e38\u3002\n\u865a\u5e7b\u5f15\u64ce\u4ee5\u53ca.NET\u8fd0\u884c\u65f6\u5229\u7528\u5783\u573e\u56de\u6536\u5668\u8fdb\u884c\u5185\u5b58\u7ba1\u7406\u3002\u65e0\u8bba\u5bf9\u8c61\u662f\u5982\u4f55\u521b\u5efa\u548c\u91ca\u653e\u7684\uff1a\u4f7f\u7528C++\u3001C#\u8fd8\u662f\u84dd\u56fe\uff0c\u8be5\u6846\u67b6\u7684\u8bbe\u8ba1\u90fd\u8981\u8003\u8651\u4e00\u81f4\u6027\uff0c\u4ee5\u9632\u6b62\u5d29\u6e83\u5e76\u5bf9\u7a0b\u5e8f\u5458\u900f\u660e\u5730\u9a8c\u8bc1\u5185\u5b58\u3002\n\u8be5\u63d2\u4ef6\u72ec\u7acb\u4e8e\u7528\u6237\u7a0b\u5e8f\u96c6\u7684\u7f16\u8bd1\u4f8b\u7a0b\u3002\u5b83\u6839\u636e\u7528\u6237\u9a71\u52a8\u7684\u84dd\u56fe\u7ba1\u9053\u4ece%Project%/Managed\u6587\u4ef6\u5939\u52a0\u8f7d\u7a0b\u5e8f\u96c6\uff0c\u5e76\u5728\u8fdb\u5165/\u9000\u51fa\u64ad\u653e\u6a21\u5f0f\u540e\u5728\u8fd0\u884c\u65f6\u89e3\u6790\u4f9d\u8d56\u9879\u3002\u5e26\u6709\u5f15\u64ceAPI\u7684\u63d2\u4ef6\u6846\u67b6\u88ab\u81ea\u52a8\u8bc6\u522b\u5e76\u4f5c\u4e3a\u4f9d\u8d56\u9879\u52a0\u8f7d\u3002\n\u8be5\u6846\u67b6\u590d\u5236\u4e86\u5177\u6709\u5b8c\u5168\u4e92\u64cd\u4f5c\u6027\u652f\u6301\u7684\u5f15\u64ce\u7684\u7c7b\u5c42\u6b21\u7ed3\u6784\u3002\u4efb\u4f55\u5916\u90e8C++\u4ee3\u7801\u3001\u84dd\u56fe\u548c\u63d2\u4ef6\u90fd\u53ef\u4ee5\u901a\u8fc7\u5f15\u64ceAPI\u4e0eUnrealCLR\u517c\u5bb9\u548c\u6269\u5c55\u3002", "note_en": "UnrealCLR is a plugin which natively integrates .NET Core host into the Unreal Engine with the Common Language Runtime for direct execution of the managed code through user-driven blueprint pipelines to build a game logic using the full power of .NET facilities with engine API. The project is aimed at stability, performance, and maintainability.\n   Continuously evolving framework for access to the engine API from the managed code written in idiomatic C#\n  Support of .NET facilities including hardware-accelerated math with transparent re-mapping to vector types of the engine\n Support of .NET tools for debugging and profiling such as  JetBrains product line,  dnSpy debugger, and others\n Full independence from the compilation pipeline of assemblies with support of  NuGet packages, analyzers, and generators\n       Create a new or use an existing Unreal Engine C++ or blueprints project. Clone the repository or download a desirable version from the  releases section. Navigate to  Install folder, and run  dotnet run command. Follow the installation instructions. Open the project after the installation process is complete.\n  To upgrade the plugin, re-run the installation process. Recompile custom code with an updated framework.\n    Create a new or use an existing Unreal Engine C++ or blueprints project. Clone the repository or download a desirable version from the  releases section. Copy the content of the  Source/Native folder to  %Project%/Plugins/UnrealCLR directory. Compile the managed runtime from  Source/Managed/Runtime folder by running the following command:  dotnet publish --configuration Release --framework netcoreapp3.1 --output &#34;%Project%/Plugins/UnrealCLR/Managed&#34;. Restart Unreal Engine, open the project, and build the plugin.\n  To quickly start testing, open a project with the plugin in Unreal Engine, copy all folders from the  Content of the repository to  %Project%/Content directory, and wait until they loaded in the Content Browser. Compile the managed assemblies from  Source/Managed/Tests folder by running the following commands:\n   To upgrade, delete the plugin folder from a project, and repeat all steps from the compilation section. Recompile custom code with an updated framework.\n   The plugin is automatically loaded at startup. To make sure that it&#39;s initialized open the console window from  Window -&gt; Developer Tools -&gt; Output Log, find  UnrealCLR logs using the search input.\n  Open the scene with tests in the editor and enter the play mode. To switch a test, navigate to  Blueprints -&gt; Open Level Blueprint, select the  Test Systems enumeration, and change default value on the right panel.\n   UnrealCLR is designed to be flexible and extensible. The plugin is transparently managing core functionality of the runtime, binding and caching the engine API for managed environment. The programmer has full control over execution flow through blueprint pipelines that allow to dynamically weave native events of the engine and its objects with managed logic. There&#39;s no hidden states or obscured order of execution behind the lifecycle of scripts.\n  At runtime, UnrealCLR loading managed assemblies into a cached isolated context. It allows dynamically replace assemblies after unloading them from memory, therefore the programmer can work with code without restarting the editor for continuous development. The compilation pipeline is entirely up to a developer, it can be organized in any desirable way without any limitations and with full support of  NuGet packages.\n  The plugin and framework are evolving all the time to utilize as much power of the Unreal Engine as possible. It&#39;s crucial to have a feature-rich API. The system is created with high-performance in mind but without trading safety. The vast majority of code is written and verified by hand to prevent any unexpected behaviors at runtime and to ensure stability.\n  Use your favorite IDE and .NET Core tools that can be attached to the process of the engine just as to a regular .NET application for profiling and debugging. It&#39;s very convenient and works out of the box without any external effort. Analyze performance, monitor CPU usage and memory consumption, debug execution, take full control over the code. Explore new possibilities and extend your toolset in no time.\n   The runtime redirects all unhandled exceptions to log files and on-screen messages of the engine, however, it&#39;s highly recommended to use  try/catch blocks to override redirections with custom handlers. It&#39;s necessary to have an attached debugger to properly trace exceptions in the editor or standalone.\n  Unreal Engine, as well as .NET runtime, utilizes a garbage collector for memory management. The framework is designed with consistency in mind to prevent crashes and validate memory transparently for a programmer, no matter how objects were created and freed: with C++, C#, or blueprints.\n  The plugin is independent of the compilation routine of user assemblies. It&#39;s loading assemblies from  %Project%/Managed folder in accordance with user-driven blueprint pipelines and resolving dependencies at runtime after entering/leaving the play mode. The framework of the plugin with the engine API is automatically recognized and loaded as a dependency.\n  The framework replicates the classes hierarchy of the engine with full interoperability support. Any external C++ code, blueprints, and plugins are compatible and extensible with UnrealCLR by design through the engine API.", "posttime": "2020-06-23 08:43:47", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u6838\u5fc3,core,\u5f15\u64ce", "title": "\u865a\u5e7b\u5f15\u64ce4.NET\u6838\u5fc3\u96c6\u6210", "title_en": "Unreal Engine 4 .NET Core integration", "transed": 1, "url": "https://github.com/nxrighthere/UnrealCLR", "via": "", "real_tags": ["\u6838\u5fc3", "core", "\u5f15\u64ce"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1007739, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u6240\u6709\u8fd9\u4e9b\u5de5\u4f5c\u90fd\u662f\u5728\u53bb\u5e7411\u6708\u5b8c\u6210\u7684\u3002\u4ece\u90a3\u4ee5\u540e\u6211\u5c31\u518d\u4e5f\u6ca1\u6709\u7814\u7a76\u8fc7\u5b83\uff0c\u4f46\u662f\u5176\u4ed6\u4eba\u5df2\u7ecf\u8868\u73b0\u51fa\u4e86\u5174\u8da3\uff0c\u6240\u4ee5\u73b0\u5728\u662f\u65f6\u5019\u628a\u5b83\u516c\u4e4b\u4e8e\u4f17\u4e86\u3002\n\u540c\u65f6\u8fdb\u884c\u7684\u9879\u76ee\u518d\u591a\u4e5f\u4e0d\u5acc\u591a\u3002\u867d\u7136\u7f16\u5199RTL\u5f88\u6709\u8da3\uff0c\u4f46\u6211\u4e5f\u559c\u6b22\u9006\u5411\u5de5\u7a0b\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u4ece\u4e00\u5757\u4f60\u4e00\u65e0\u6240\u77e5\u7684\u677f\u5b50\u5f00\u59cb\uff0c\u4e00\u6b65\u4e00\u6b65\u5730\u8d70\u5230\u5b83\u53d8\u6210\u6709\u7528\u7684\u4e1c\u897f\u7684\u5730\u6b65\u3002\nHackaday\u4e0a\u7684FPGA\u7535\u8def\u677f\u9ed1\u5ba2\u9879\u76ee\u5217\u51fa\u4e86\u4e00\u7cfb\u5217\u5546\u4e1a\u4e0a\u53ef\u4ee5\u4e70\u5230\u7684\u5e26\u6709FPGA\u7684PCB\u3002\u5b83\u4eec\u4e2d\u7684\u5927\u591a\u6570\u5e76\u6ca1\u6709\u771f\u6b63\u5730\u8fdb\u884c\u5168\u9762\u7684\u9006\u5411\u5de5\u7a0b\u3002\n\u652f\u6301PCIe\u7684FPGA\u5f00\u53d1\u677f\u4ece\u6765\u90fd\u4e0d\u4fbf\u5b9c\uff0c\u6240\u4ee5\u6211\u7279\u522b\u559c\u6b22Comtech\u7684AHA363PCIE0301G(AHA363)\u3002\u5982\u679c\u5b83\u80fd\u91cd\u65b0\u7528\u4f5c\u901a\u7528\u7684FPGA PCIe\u52a0\u901f\u677f\uff0c\u90a3\u5c31\u592a\u68d2\u4e86\u3002\nAHA363\u88ab\u5217\u4e3a\u5177\u6709Arria GX FPGA\uff0c\u5c3a\u5bf8\u672a\u77e5\u3002\u5b83\u7684\u771f\u6b63\u76ee\u7684\u662f\u4e00\u4e2agzip\u538b\u7f29\u548c\u89e3\u538b\u7f29\u52a0\u901f\u5668\uff0c\u8fd9\u662f\u9700\u8981\u4e3agzip\u538b\u7f29\u7f51\u9875\u63d0\u4f9b\u670d\u52a1\u7684\u6570\u636e\u4e2d\u5fc3\u7684\u5e38\u89c1\u64cd\u4f5c\u3002\n\u4e0d\u540c\u7684\u6613\u8da3\u5356\u5bb6\u4ee5\u975e\u5e38\u4e0d\u540c\u7684\u4ef7\u683c\u51fa\u552e\u76f8\u540c\u7684\u7535\u8def\u677f\uff1a1265\u7f8e\u5143\u3001185\u7f8e\u5143\u548c19\u7f8e\u5143\u3002\u4e3a\u4e86\u8ba9\u6211\u7684\u59bb\u5b50\u9ad8\u5174\uff0c\u6211\u9009\u62e9\u4e8619\u7f8e\u5143\u7684\u7248\u672c\u3002\u6216\u8005\u66f4\u597d\u7684\u662f\uff1a\u6211\u4e70\u4e86\u4e24\u4e2a\uff0c\u4ee5\u9632\u6211\u9700\u8981\u6bc1\u6389\u4e00\u4e2a\u6765\u627e\u51fa\u8054\u7cfb\u7b49\u7b49\u3002\n\u5728\u8fd9\u7bc7\u535a\u5ba2\u6587\u7ae0\u4e2d\uff0c\u6211\u63cf\u8ff0\u4e86\u4ece\u83b7\u5f97\u8463\u4e8b\u4f1a\u5230\u7528\u5b83\u505a\u4e00\u4e9b\u6709\u7528\u7684\u4e8b\u60c5\u7684\u8fc7\u7a0b\u3002\u4e0d\u80fd\u4fdd\u8bc1\u6210\u529f\uff1a\u5728\u5199\u8fd9\u7bc7\u6587\u7ae0\u7684\u65f6\u5019\uff0c\u6211\u8fd8\u4e0d\u80fd\u8ba9LED\u95ea\u70c1\uff0c\u4f46\u6211\u5df2\u7ecf\u5b66\u5230\u4e86\u4e00\u4e9b\u65b0\u7684\u6280\u672f\uff0c\u8fd9\u4e9b\u6280\u672f\u5c06\u5e2e\u52a9\u6211\u5728\u672a\u6765\u5bf9\u5176\u4ed6PCB\u8fdb\u884c\u53cd\u5411\u5de5\u7a0b\uff0c\u8fd9\u53ef\u80fd\u5bf9\u5176\u4ed6\u4eba\u4e5f\u5f88\u6709\u7528\u3002\n\u6ce8\u610f\uff1a\u5bf9\u4e8e\u90a3\u4e9b\u60f3\u8981\u590d\u5236/\u5e2e\u52a9\u8fdb\u884c\u53cd\u5411\u5de5\u7a0b\u7684\u4eba\u6765\u8bf4\uff1a\u73b0\u5728\u6211\u4eec\u77e5\u9053\u4e86FPGA\u7684\u7c7b\u578b\uff0c\u771f\u7684\u6ca1\u6709\u7406\u7531\u518d\u79fb\u9664\u6563\u70ed\u5668\u4e86\u3002\u8fd9\u964d\u4f4e\u4e86\u610f\u5916\u635f\u574f\u60a8\u7684\u51b2\u6d6a\u677f\u7684\u673a\u4f1a\u3002\nFPGA Board Hack\u9879\u76ee\u63d0\u5230\u4e86\u4e00\u6b3eArria GX FPGA\uff0c\u4f46\u7531\u4e8e\u5b83\u88ab\u6563\u70ed\u7247\u8986\u76d6\uff0c\u786e\u5207\u7684\u578b\u53f7\u4ecd\u4e0d\u5f97\u800c\u77e5\u3002\n\u6563\u70ed\u7247\u7262\u56fa\u5730\u5b89\u88c5\u5728\u82af\u7247\u4e0a\uff0c\u4e24\u8fb9\u5404\u67092\u4e2a\u5939\u5b50\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u5939\u5b54\u4e2d\u63d2\u5165\u5e73\u5934\u87ba\u4e1d\u5200\u5e76\u5c06\u5176\u63a8\u51fa\u6765\u5378\u4e0b\u5b83\u3002\u7a0d\u5fae\u6446\u52a8\u4e00\u4e0b\uff0c\u5b89\u88c5\u652f\u67b6\u5c31\u4f1a\u8131\u843d\u3002\u63a5\u4e0b\u6765\uff0c\u5728FPGA\u548c\u6c34\u69fd\u4e4b\u95f4\u6324\u538b\u76f8\u540c\u7684\u5e73\u5934\u87ba\u4e1d\u5200\uff0c\u975e\u5e38\u8f7b\u8f7b\u5730\u65cb\u8f6c\u5b83\uff0c\u5c06\u5b83\u4eec\u5206\u5f00\u3002\u6700\u7ec8\uff0c\u6c34\u69fd\u4f1a\u6389\u4e0b\u6765\uff0c\u79d8\u5bc6\u5c31\u4f1a\u63ed\u5f00\uff1a\n\u6211\u4eec\u8fd9\u91cc\u6709\u7684\u662fArria GX EP1AGX90E\uff1a\u62e5\u670990K\u903b\u8f91\u5143\u4ef6\u30014.4MB\u5757RAM\u548c176\u4e2a18x18\u4e58\u6cd5\u5668\u7684\u540c\u7c7b\u6700\u5927\u5668\u4ef6\u3002\u5373\u4f7f\u5728\u4eca\u5929\uff0c\u62e5\u6709\u8fd9\u79cd\u5c3a\u5bf8\u7684FPGA\u7684\u7535\u8def\u677f\u4e5f\u5728100\u7f8e\u5143\u5de6\u53f3\u3002\nAHA363\u7684PCB\u4e0a\u5c01\u88c5\u4e86\u5927\u91cf\u7684ASIC\u548c\u5143\u5668\u4ef6\u3002\u5b83\u662f\u4e00\u5757\u534a\u9ad8\u76844x PCIeboard\uff0c\u5e26\u6709\u76f8\u540c\u9ad8\u5ea6\u7684\u652f\u67b6\uff1a\u5bf9\u4e8e\u673a\u67b6\u5b89\u88c5\u7684\u670d\u52a1\u5668\u6765\u8bf4\uff0c\u8fd9\u5f88\u597d\uff0c\u4f46\u5b83\u4e0d\u9002\u5408\u653e\u5728\u666e\u901aPC\u4e2d\u3002\u60a8\u9700\u8981\u5148\u53d6\u4e0b\u90a3\u4e2a\u652f\u67b6\u3002\n\u8fd9\u6837\u505a\u4e4b\u540e\uff0c\u6251\u901a\u4e00\u58f0(\u7528\u6563\u70ed\u7247\uff01)\u3002\u5728\u6211\u666e\u901a\u7684Linux PC\u4e0a\uff0clspci\u7528\u4ee5\u4e0b\u6d88\u606f\u5411\u6211\u6253\u62db\u547c\uff1a\n\u6211\u7684\u9006\u5411\u5de5\u7a0b\u8fc7\u7a0b\u7684\u7b2c\u4e00\u6b65\u662f\u8fd1\u8ddd\u79bb\u62cd\u6444\u6240\u6709\u7ec4\u4ef6\u548c\u8fde\u63a5\u5668\u7684\u7167\u7247\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u7684iPhone 7 Plus\u7684x2\u5149\u5b66\u53d8\u7126\u9009\u9879\u5c31\u8db3\u591f\u4e86\uff0c\u4f46\u6709\u65f6\u6211\u4f1a\u5728\u663e\u5fae\u955c\u4e0a\u4f7f\u7528iPhone\u9002\u914d\u5668\u3002\u6211\u7684\u89c6\u529b\u4e00\u76f4\u5728\u4e0b\u964d\uff0c\u7167\u7247\u8ba9\u6211\u66f4\u5bb9\u6613\u8bc6\u522b\u5404\u79cd\u7ec4\u4ef6\u7684\u6807\u8bb0\u3002\n\u6211\u8fd8\u7528\u7ec4\u4ef6\u540d\u79f0\u3001\u8fde\u63a5\u5668\u5f15\u811a\u503c\u7b49\u6765\u6ce8\u91ca\u8fd9\u4e9b\u7167\u7247\u3002\u8fd9\u4f7f\u5f97\u5728\u63a2\u6d4b\u4e8b\u7269\u65f6\u9700\u8981\u67e5\u627e\u65b9\u4f4d\u65f6\u5bb9\u6613\u5f97\u591a\u3002\n\u9664\u4e86\u4e00\u4e9b\u5e7b\u706f\u7247\u548c\u8425\u9500\u6750\u6599\uff0c\u6211\u627e\u4e0d\u5230\u4efb\u4f55\u5173\u4e8e\u5b83\u7684\u6280\u672f\u6570\u636e\u8868\u3002\n\u57fa\u4e8eFPGA\u7684PCIe\u5361\u901a\u5e38\u4f7f\u7528\u5e76\u884c\u95ea\u5b58\uff0c\u800c\u4e0d\u662f\u66f4\u5e38\u7528\u7684\u4e32\u884c\u95ea\u5b58\uff1a\u5e76\u884c\u95ea\u5b58\u4e0d\u4ec5\u52a0\u8f7d\u901f\u5ea6\u66f4\u5feb\uff0c\u800c\u4e14\u8fd8\u652f\u6301\u540c\u4e00\u95ea\u5b58\u4e2d\u7684\u591a\u4e2a\u6bd4\u7279\u6d41\u56fe\u50cf\u5e76\u5728\u5b83\u4eec\u4e4b\u95f4\u8fdb\u884c\u9009\u62e9\u3002\u82f1\u7279\u5c14FPGA\u4e0d\u652f\u6301\u4e32\u884c\u95ea\u5b58\u3002\n\u7528\u4e8e\u5c06\u4f4d\u6d41\u4ece\u95ea\u5b58\u590d\u5236\u5230\u4e3bFPGA\u4e2d\u3002\u6b64CPLD\u7528\u4e8eAltera Arria GX\u5f00\u53d1\u5957\u4ef6\u4e2d\u7684\u76f8\u540c\u914d\u7f6e\uff0c\u4ee5\u53ca\u8fdc\u7a0b\u7cfb\u7edf\u5347\u7ea7\u8bbe\u8ba1\u7684\u53c2\u8003\u8bbe\u8ba1\u4e2d\u3002\n\u8fd9\u53ef\u80fd\u662fDC/DC\u8f6c\u6362\u5668\u5c06PCIe\u4f9b\u7535\u768412V\u964d\u81f3\u7c97\u7565\u8c03\u8282\u76845V\uff0c\u800c\u5176\u4ed6\u8c03\u8282\u5668\u5219\u505a\u66f4\u8be6\u7ec6\u7684\u5de5\u4f5c\u3002\n\u8fd9\u5757PCB\u7684\u5934\u90e8\u5438\u5f15\u529b\u548c\u5b83\u88ab\u9006\u5411\u5de5\u7a0b\u7684\u4e3b\u8981\u539f\u56e0\uff01\n\u4eba\u4eec\u9a6c\u4e0a\u5c31\u4f1a\u6ce8\u610f\u5230\uff0c\u8fd9\u5757\u677f\u5728\u63d2\u5165PC\u65f6\u4f1a\u53d8\u5f97\u76f8\u5f53\u70ed\uff0c\u5373\u4f7f\u5b83\u6ca1\u6709\u505a\u4efb\u4f55\u6709\u7528\u7684\u4e8b\u60c5\u3002\n\u5bf9PCB\u8fdb\u884c\u9006\u5411\u5de5\u7a0b\u6700\u91cd\u8981\u7684\u5de5\u5177\u662f\u5728\u77ed\u68c0\u6d4b\u6a21\u5f0f\u4e0b\u4f7f\u7528\u53cd\u5e94\u65f6\u95f4\u8f83\u77ed\u7684\u4e07\u7528\u8868\u3002\u8fd9\u4f7f\u5f97\u53ef\u4ee5\u975e\u5e38\u5feb\u901f\u5730\u68c0\u67e5\u8fc7\u5b54\u9635\u5217\uff0c\u4ee5\u5e0c\u671b\u89e6\u53d12\u4e2a\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u3002\n\u53e6\u4e00\u4e2a\u5173\u952e\u56e0\u7d20\u662f\u9996\u5148\u6d4b\u91cf\u8fde\u63a5\u7684\u80fd\u529b\uff1a\u5982\u679c\u60a8\u771f\u7684\u5f88\u5e78\u8fd0\uff0cPCB\u6709\u5f88\u591a\u6d4b\u8bd5\u70b9\u3002\u5982\u679c\u4f60\u8fd0\u6c14\u597d\u7684\u8bdd\uff0c\u6709\u5f88\u591a\u901a\u5b54\u6ca1\u6709\u642d\u5e10\u7bf7\u3002\u5982\u679c\u4f60\u6ca1\u6709\u6d4b\u8bd5\u70b9\uff0c\u901a\u5b54\u662f\u5b8c\u5168\u6ca1\u6709\u5e10\u7bf7\u7684\uff0c\u90a3\u4f60\u5c31\u5b8c\u5168\u4e0d\u8d70\u8fd0\u4e86\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u901a\u5e38\u4f1a\u653e\u5f03\u6574\u4e2a\u9006\u5411\u5de5\u7a0b\uff1a\u53d1\u73b0\u8054\u7cfb\u53d8\u5f97\u592a\u9ebb\u70e6\u4e86\u3002\nPano Logic G2\u6709\u4e3b\u677fPCB\uff0c\u6ca1\u6709\u5e10\u7bf7\u901a\u5b54\u3002\u60a8\u53ef\u4ee5\u5728\u6bcf\u4e2a\u901a\u5b54\u5468\u56f4\u770b\u5230\u53ef\u63a5\u8fd1\u7684\u7a7a\u767d\u94dc\u3002\n\u4f46\u662f\uff0cPano Logic G2\u8f85\u52a9\u677f\u6709\u8bb8\u591a\u53ef\u8bbf\u95ee\u7684\u6d4b\u8bd5\u70b9\uff0c\u4f46\u5176\u4f59\u901a\u5b54\u7684\u94dc\u7f06\u8986\u76d6\u8303\u56f4\u5982\u4e0b\uff1a\nAHA363\u677f\u7684\u6d4b\u8bd5\u70b9\u6570\u91cf\u4e4b\u591a\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\uff0c\u8fd9\u662f\u6211\u4ee5\u524d\u4ece\u672a\u89c1\u8fc7\u7684\u3002\u6240\u4ee5\u8fd9\u771f\u662f\u592a\u68d2\u4e86\u3002\u4f46\u5947\u602a\u7684\u662f\uff0c\u6211\u7684\u4e00\u5757\u6728\u677f\u4e0a\u6709\u5e10\u7bf7\u901a\u5b54\uff0c\u800c\u53e6\u4e00\u5757\u6728\u677f\u4e0a\u6ca1\u6709\u3002\u6211\u7528\u5e26\u5e10\u7bf7\u5b54\u7684\u90a3\u5757\u677f\u7528\u6211\u7684\u793a\u6ce2\u5668\u8bb0\u5f55\u8f68\u8ff9\uff0c\u7528\u903b\u8f91\u5206\u6790\u4eea\u68c0\u67e5\u52a8\u6001\u884c\u4e3a\uff0c\u6211\u7528\u53e6\u4e00\u5757\u677f\u63a2\u6d4b\u8fde\u63a5\u3002\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c06\u793a\u6ce2\u5668\u63a2\u5934\u7684\u5c16\u7aef\u538b\u5728\u5e10\u7bf7\u901a\u5b54\u4e0a\u901a\u5e38\u8db3\u4ee5\u7a81\u7834\u4fdd\u62a4\u5c42\uff0c\u4f7f\u5176\u7a0d\u5fae\u8131\u843d\u3002\u5728\u90a3\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u6beb\u4e0d\u8d39\u529b\u5730\u63a2\u6d4b\u5230\u8fd9\u4e9b\u901a\u5b54\u4e86\u3002\nArria GX\u4ea7\u54c1\u5bb6\u65cf\u73b0\u5728\u5df2\u7ecf\u76f8\u5f53\u8001\u4e86\uff0c\u4eca\u5929\u7684Quartus\u7248\u672c\u4e0d\u518d\u652f\u6301\u5b83\u3002\u652f\u6301\u7684\u6700\u540e\u4e00\u4e2a\u5b98\u65b9\u7248\u672c\u662fQuartus 13.0sp1\uff0c\u4f46\u90a3\u53ea\u662f\u6807\u51c6\u7684\u5546\u4e1a\u7248\u672c\u3002\u6700\u540e\u4e00\u4e2a\u201c\u514d\u8d39\u201d\u7248\u672c\u662fQuartus 11.0\u3002\u60a8\u53ef\u4ee5\u5728\u8fd9\u91cc\u4e0b\u8f7d\u3002\nQuartus Pin Assignment\u7f16\u8f91\u5668\u63d0\u4f9b\u5305\u88c5IO\u5f15\u811a\u7684\u51fa\u8272\u89c6\u56fe\uff0c\u80fd\u591f\u4ece\u9876\u90e8\u6216\u5e95\u90e8\u67e5\u770b\u5305\u88c5\uff0c\u5e76\u53ef\u4efb\u610f\u65cb\u8f6c\u3002\u5f53\u8bd5\u56fe\u5728PCB\u4e0a\u627e\u5230\u6b63\u786e\u7684IO\u710a\u76d8\u65f6\uff0c\u8fd9\u662f\u4e00\u4e2a\u6551\u547d\u7a3b\u8349\u3002\u5f53\u60a8\u5c06\u9f20\u6807\u60ac\u505c\u5728\u5176\u4e0a\u65f6\uff0c\u8d4b\u503c\u7f16\u8f91\u5668\u8fd8\u4f1a\u7528\u6b63\u786e\u7684\u503c\u6ce8\u91ca\u6240\u6709\u7279\u6b8a\u7684IO\u710a\u76d8\u3002\n\u4ee5\u4e0b\u662f\u5f15\u811a\u5206\u914d\u7f16\u8f91\u5668\u7684\u5c4f\u5e55\u622a\u56fe\uff0c\u663e\u793a\u4e86\u4ecePCB\u5e95\u90e8\u770b\u5230\u7684Arria GX FPGA\uff0cPCIe\u6536\u53d1\u5668\u4e5f\u4f4d\u4e8e\u5e95\u90e8\u3002\n\u5f53\u60a8\u518d\u6b21\u5e78\u8fd0\u65f6\uff0cPCB\u5728FPGA\u4e0b\u9762\u6709\u901a\u5b54\uff0c\u76f4\u63a5\u6620\u5c04\u5230FPGA\u5c01\u88c5\u4e0a\u7684\u7403\u3002\n\u5f53\u60a8\u7684PCB\u6ca1\u6709\u6b64\u529f\u80fd\u65f6\uff0c\u60a8\u53ef\u80fd\u4f1a\u88ab\u8feb\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\u5c06\u67d0\u4e2a\u7535\u8def\u677f\u7684FPGA\u8131\u673a\u3002\n\u5728AHA363\u7684\u60c5\u51b5\u4e0b\uff0c\u5728FPGA\u4e0b\u9762\u6709\u4e00\u4e2a\u76f8\u5f53\u4e0d\u9519\u7684\u8fc7\u5b54\u7f51\u683c\uff0c\u4f46\u8981\u627e\u5230\u8fc7\u5b54\u548c\u5305\u88c5\u4e0a\u7684\u7403\u4e4b\u95f4\u7684\u76f8\u5173\u6027\u4ecd\u7136\u6709\u70b9\u56f0\u96be\u3002\n\u662f\u65f6\u5019\u62ff\u51fa\u4e00\u4e2a\u56fe\u50cf\u7f16\u8f91\u5668\u4e86(\u6211\u4f7f\u7528Inkscape\uff0c\u56e0\u4e3a\u5b83\u65e2\u53ef\u4ee5\u5728\u6211\u5b9e\u9a8c\u5ba4\u7684Linux PC\u4e0a\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u5728\u6211\u7684Mac\u4e0a\u8fd0\u884c)\uff0c\u5e76\u5f00\u59cb\u7528\u6700\u5408\u7406\u7684Pad\u540d\u79f0\u6ce8\u91ca\u8fc7\u5b54\u3002\u8fd9\u5e76\u4e0d\u603b\u662f\u8fd9\u91cc\u63cf\u8ff0\u7684\u7ebf\u6027\u8fc7\u7a0b\uff1a\u6211\u9996\u5148\u5b9a\u4f4d\u4e86\u4e00\u4e9bJTAG\u5f15\u811a(\u53c2\u89c1\u4e0b\u4e00\u6b65)\uff0c\u7136\u540e\u6ce8\u91ca\u4e86\u8fd9\u4e9b\u5f15\u811a\uff0c\u7136\u540e\u5b9a\u4f4d\u4e86\u4e00\u4e9b\u65f6\u949f(\u66f4\u5f80\u4e0b\u770b)\uff0c\u6ce8\u91ca\u4e86\u8fd9\u4e9b\u5f15\u811a\u7b49\u7b49\u3002\n\u5217\u548c\u884c\u6279\u6ce8\u4f4d\u4e8e\u9876\u90e8\u548c\u5de6\u4fa7\u3002\u6211\u6bcf5\u4e2aBGA\u7403\u52a0\u4e00\u6761\u7f51\u683c\u7ebf\u3002\n\u6ce8\u610fV\u5217\u548cW\u5217\u4e4b\u95f4\u591a\u4e86\u4e00\u5217\u7403\uff0c17\u884c\u548c18\u884c\u4e4b\u95f4\u591a\u4e86\u4e00\u6392\u7403\u3002\u8fd9\u5c31\u662f\u6211\u5904\u7406\u8fc7\u7684\u6240\u6709PCB\u7684\u60c5\u51b5\uff1a\u901a\u5b54\u4e0eBGA\u4e0a\u7684\u7403\u4e0d\u91cd\u5408\uff0c\u4f46\u5b83\u4eec\u6b63\u597d\u843d\u5728\u4e2d\u95f4\uff0c\u6240\u4ee5\u4e2d\u95f4\u603b\u4f1a\u6709\u4e00\u884c\u6216\u4e00\u5217\u989d\u5916\u7684\u7403\u3002\u8fd9\u5c31\u662f\u6211\u5904\u7406\u8fc7\u7684\u6240\u6709PCB\u7684\u60c5\u51b5\uff1a\u901a\u5b54\u4e0eBGA\u4e0a\u7684\u7403\u4e0d\u4e00\u81f4\uff0c\u4f46\u5b83\u4eec\u6b63\u597d\u843d\u5728\u4e2d\u95f4\uff0c\u6240\u4ee5\u4e2d\u95f4\u603b\u662f\u6709\u4e00\u884c\u6216\u4e00\u5217\u989d\u5916\u7684\u7403\u3002\n\u5728\u5bf9\u57fa\u4e8eFPGA\u7684PCB\u8fdb\u884c\u53cd\u5411\u5de5\u7a0b\u65f6\uff0c\u6ca1\u6709\u4ec0\u4e48\u6bd4\u8ba9JTAG\u63a5\u53e3\u5de5\u4f5c\u66f4\u91cd\u8981\u7684\u4e86\uff0c\u56e0\u4e3a\u5b83\u662fFPGA\u5f00\u53d1\u671f\u95f4\u52a0\u8f7d\u4f4d\u6d41\u7684\u4e3b\u8981\u65b9\u6cd5\u3002\u6b64\u5916\uff0cFPGA\u8fd8\u5177\u6709\u9002\u7528\u4e8e\u5927\u591a\u6570IO\u710a\u76d8\u7684\u8fb9\u754c\u626b\u63cf\u5bc4\u5b58\u5668\uff0c\u4f7f\u5f97\u6709\u65f6\u53ef\u4ee5\u63d0\u53d6\u6709\u5173\u5982\u4f55\u914d\u7f6eIO(\u8f93\u5165\u6216\u8f93\u51fa)\u7684\u91cd\u8981\u9644\u52a0\u4fe1\u606f\u3001\u5b9a\u4f4d\u65f6\u949f\u4ee5\u53caIO\u6b63\u5728\u9a71\u52a8\u6216\u6b63\u5728\u8bfb\u53d6\u7684\u503c\u3002\n\u8bb8\u591a\u57fa\u4e8eFPGA\u7684PCB\u7684JTAG\u63a5\u53e3\u5f88\u5bb9\u6613\u83b7\u5f97\uff0c\u751a\u81f3\u5728\u6700\u7ec8\u7684\u751f\u4ea7\u677f\u4e0a\u4e5f\u662f\u5982\u6b64\uff0c\u56e0\u4e3a\u5b83\u901a\u5e38\u7528\u4f5c\u5de5\u5382\u751f\u4ea7\u7ebf\u4e0a\u7684\u751f\u4ea7\u56fa\u4ef6\u548c\u4f4d\u6d41\u7f16\u7a0b\u7684\u4e3b\u63a5\u53e3\u3002\nAHA363\u6709\u4e00\u4e2a\u7a81\u51fa\u768410\u9488\u8fde\u63a5\u5668\uff0c\u6211\u9884\u8ba1\u5b83\u4f1a\u5305\u542bJTAGS\u5f15\u811a\uff0c\u6240\u4ee5\u4e0b\u4e00\u6b65\u662f\u627e\u51fa\u8fd9\u4e9b\u5f15\u811a\u662f\u5982\u4f55\u8fde\u63a5\u7684\u3002\n10\u4e2a\u5f15\u811a\u4e2d\u67094\u4e2a\u63a5\u5730\u3002\u5b83\u4eec\u90fd\u5728PCB\u7684\u524d\u9762(\u7ec4\u4ef6)\u4e00\u4fa7\u3002\n\u76ee\u89c6\u68c0\u67e5\u65f6\uff0c\u524d\u7aef\u7684\u5176\u4f59\u5f15\u811a\u4f3c\u4e4e\u672a\u8fde\u63a5(\u56e0\u4e3a\u6ca1\u6709\u4ece\u8fde\u63a5\u5668\u91d1\u5c5e\u5230\u4efb\u4f55\u5730\u65b9\u7684\u901a\u5b54)\u3002\n\u8fd9\u6837\u5c31\u5269\u4e0b5\u4e2a\u5f15\u811a\uff1aTCK\u3001TMS\u3001TDI\u3001TDO\u548cVREF\u3002VREF\u662f\u4ecePCB\u5230JTAG\u52a0\u5bc6\u72d7\u4e2d\u7684\u7535\u538b\u7535\u5e73\u79fb\u4f4d\u5668\u7684IO\u7535\u6e90\u7535\u538b\u3002\n\u53d1\u73b0\u8fc7\u7a0b\u975e\u5e38\u7b80\u5355\uff1a\u4ece\u94fe\u4e2d\u6240\u6709\u82af\u7247(TCK\u6216TMS)\u5171\u4eab\u7684\u4e00\u4e2aJTAG\u5f15\u811a\u5f00\u59cb\u3002\u60a8\u53ef\u4ee5\u68c0\u67e5FPGA\u4e0a\u7684\u90a3\u4e9bIO\u710a\u76d8\u548c\u5176\u4e2d\u4e00\u4e2a\u8fde\u63a5\u5668\u5f15\u811a\u4e4b\u95f4\u662f\u5426\u6709\u8fde\u63a5\u3002\u641e\u5b9a\u4e86\uff01\n\u6211\u80fd\u5f88\u5feb\u8fa8\u522b\u51faTCK\u548cTMS\uff0c\u4f46\u5bf9TDI\u548cTDO\u5c31\u6ca1\u90a3\u4e48\u5e78\u8fd0\u4e86\u3002\n\u95ee\u9898\u662fTDI\u548cTDO\u662f\u70b9\u5bf9\u70b9\u7684\uff0c\u5b83\u4eec\u53ef\u4ee5\u662f\u94fe\u7684\u4e00\u90e8\u5206\u3002\u5982\u679cFPGA\u5904\u4e8eJTAG\u94fe\u7684\u4e2d\u95f4\uff0c\u5219FPGA\u5c01\u88c5\u4e0a\u7684\u8fd9\u4e9b\u5f15\u811a\u5c06\u4e0d\u4f1a\u8fde\u63a5\u5230\u8fde\u63a5\u5668\u3002\n\u56e0\u6b64\uff0c\u4e0b\u4e00\u6b65\u662f\u68c0\u67e5CPLD\u7684TDI\u5f15\u811a\uff0c\u7b54\u5bf9\u4e86\uff1a\u5b83\u76f4\u63a5\u8fde\u63a5\u5230JTAG\u8fde\u63a5\u5668\uff01\n\u6211\u8fd8\u786e\u8ba4CPLD\u7684TDO\u5f15\u811a\u8fde\u63a5\u5230FPGA\u7684TDI\u5f15\u811a\u3002\n\u7531\u4e8eFPGA TDO\u548c\u8fde\u63a5\u5668\u4e4b\u95f4\u6ca1\u6709\u8fde\u63a5\uff0c\u56e0\u6b64\u8fd9\u4e24\u4e2aASIC\u5f88\u53ef\u80fd\u4e5f\u662fJTAG\u94fe\u7684\u4e00\u90e8\u5206\u3002\u6211\u4eec\u5bf9\u4ed6\u4eec\u7684\u5b9a\u4f4d\u4e00\u65e0\u6240\u77e5\uff0c\u6240\u4ee5\u8fd9\u662f\u4e2a\u6b7b\u80e1\u540c\u3002\n\u4f46\u5982\u679c\u5176\u4e2d\u4e00\u4e2a\u5f15\u811a\u662fVREF\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u68c0\u67e5\u4e24\u4e2a\u5f15\u811a\u4e4b\u4e00\u4e0eVDD\u4e4b\u95f4\u662f\u5426\u6709\u8fde\u63a5\u3002\u800c\u4e14\uff0c\u786e\u5b9e\u662f\u6709\u7684\uff01\u56e0\u4e3a\u73b0\u5728\u53ea\u5269\u4e0b\u672a\u77e5\u7684\u4e86\uff0c\u6240\u4ee5\u8fd9\u4e2a\u53ef\u4ee5\u5206\u914d\u7ed9tdo\u3002\n\u5f04\u6e05\u695aJTAG\u8fde\u63a5\u5668\u4e4b\u540e\uff0c\u4e0b\u4e00\u6b65\u5c31\u662f\u8ba9\u626b\u63cf\u94fe\u6b63\u5e38\u5de5\u4f5c\u3002\n\u8fd9\u663e\u7136\u53ea\u6709\u5728\u7535\u8def\u677f\u901a\u7535\u65f6\u624d\u6709\u53ef\u80fd\uff0c\u4f46PCIe\u5361\u53ef\u4ee5\u6709\u4e00\u4e2a\u6f5c\u5728\u7684\u590d\u6742\u7535\u6e90\u67b6\u6784\uff1aPCIe\u8fde\u63a5\u5668\u670912V\u30013.3V\u548c3.3Vaux\u5f15\u811a\uff0c\u76ee\u524d\u8fd8\u4e0d\u6e05\u695a\u8fd9\u5757\u677f\u4f7f\u7528\u4e86\u54ea\u4e9b\u5f15\u811a\u3002\n\u5e78\u8fd0\u7684\u662f\uff0c\u4e0d\u662f\u5728\u5b9e\u9a8c\u5ba4\u5de5\u4f5c\u53f0\u4e0a\u7ed9\u7535\u8def\u677f\u4f9b\u7535\uff0c\u8fd8\u6709\u4e00\u79cd\u7b80\u5355\u5f97\u591a\u7684\u65b9\u6cd5\uff1a\u628a\u5b83\u63d2\u5230\u4e00\u53f0\u6b63\u5e38\u5de5\u4f5c\u7684\u673a\u5668\u4e0a\uff01\u5e78\u8fd0\u7684\u662f\uff0c\u6211\u80fd\u591f\u4ece\u5783\u573e\u7bb1\u91cc\u6551\u51fa\u4e00\u53f0\u975e\u5e38\u65e7\u7684Mac Pro\uff0c\u9664\u4e86\u901f\u5ea6\u6162\u4e4b\u5916\uff0c\u5b83\u8fd8\u80fd\u6b63\u5e38\u5de5\u4f5c\u3002\n\u6211\u5c06AHA363 JTAG\u5f15\u811a\u4e0a\u7684\u4e00\u4e9b\u7535\u7ebf\u710a\u63a5\u5230\u91c7\u7528\u82f1\u7279\u5c14USB-Blaster\u6392\u5217\u768410\u5f15\u811a\u8fde\u63a5\u5668\u4e0a\uff0c\u6700\u540e\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a\n\u6211\u542f\u52a8\u4e86Quartus\u7a0b\u5e8f\u5458\uff0c\u5728\u6309\u4e0b\u201cAuto Detect\u201d\u4e4b\u540e\uff0c\u6211\u770b\u5230\u4e86\u4ee5\u4e0b\u5185\u5bb9\uff1a\n\u6b63\u5982\u9884\u671f\u7684\u90a3\u6837\uff0c2\u67b6AHA363\u662fJTAG\u94fe\u7684\u4e00\u90e8\u5206\u3002\u8fd9\u5f88\u5feb\u5c31\u4f1a\u7ed9\u6211\u5e26\u6765\u5927\u95ee\u9898\u2026\u3002\n\u5728\u4e0a\u56fe\u4e2d\uff0c\u60a8\u53ef\u4ee5\u770b\u5230MAX-II CPLD\u662f\u5982\u4f55\u5c06128Mbit\u5e76\u884c\u95ea\u5149\u706f\u8fde\u63a5\u5230\u5b83\u7684\u3002\n\u6211\u4eec\u53ef\u80fd\u4f1a\u901a\u8fc7\u5c06\u65b0\u7684\u6bd4\u7279\u6d41\u7f16\u7a0b\u5230\u95ea\u5b58\u4e2d\u6765\u6446\u5f04\u95ea\u5b58\u7684\u5185\u5bb9\uff0c\u6240\u4ee5\u73b0\u5728\u662f\u5907\u4efd\u5b83\u7684\u597d\u65f6\u673a\u3002\n\u5728Quartus Programmer\u4e2d\uff0c\u9009\u62e9\u201cCFI_128Mb\u201d\u65c1\u8fb9\u7684\u201c\u68c0\u67e5\u201d\u6807\u5fd7\uff0c\u7136\u540e\u6309\u201c\u5f00\u59cb\u201d\u6309\u94ae\u3002\ncfg_128Mb-&gt\uff1b\u53f3\u952e\u5355\u51fb\uff1a\u66f4\u6539\u6587\u4ef6(\u4e0d\u662f\u6dfb\u52a0\u6587\u4ef6\uff01)-&gt\uff1b\u9009\u62e9.pof\u6587\u4ef6-&gt\uff1b\u5f00\u59cb\u3002\n\u5f53\u7535\u8def\u677f\u4f4d\u4e8ePC\u673a\u7bb1\u5185\u65f6\uff0c\u8981\u5bf9\u5176\u8fdb\u884c\u53cd\u5411\u5de5\u7a0b\u771f\u7684\u5f88\u96be\uff01\n\u4e0b\u4e00\u6b65\u662f\u5728\u8463\u4e8b\u4f1a\u72ec\u81ea\u5750\u5728\u957f\u6905\u4e0a\u65f6\u68c0\u6d4bJTAG\u94fe\u3002\n\u6211\u4eec\u77e5\u9053\u7535\u529b\u662f\u901a\u8fc7PCIe\u8fde\u63a5\u5668\u8fdb\u5165\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728\u90a3\u91cc\u710a\u63a5\u4e00\u4e9b\u7535\u7ebf\u3002\u4f46\u6211\u4eec\u4e5f\u5e0c\u671b\u4ecd\u7136\u80fd\u591f\u5c06\u7535\u8def\u677f\u63d2\u5165\u5230\u5de5\u4f5c\u6b63\u5e38\u7684PC\u4e2d\u3002\n\u4e95\u2026\u3002\u6211\u7684\u96f6\u914d\u4ef6\u5305\u91cc\u6ca1\u6709\uff0c\u4f46\u6211\u786e\u5b9e\u6709\u4e00\u5757\u53c8\u65e7\u53c8\u574f\u7684\u4e3b\u677f\uff01\u5728\u5fb7\u96f7\u6885\u5c14\u884c\u52a8\u7684\u51e0\u5206\u949f\u540e\uff0c\u6211\u6709\u4e86\u8fd9\u6837\u7684\u611f\u89c9\uff1a\n\u6211\u5f88\u5e78\u8fd0\u6709\u8fd9\u6837\u7684\u7535\u6e90\u73af\u5883\uff1aPCIe\u8fde\u63a5\u5668\u76843.3V\u548c3.3Vaux\u5f15\u811a\u4e0d\u4f1a\u5728PCB\u4e0a\u7684\u4efb\u4f55\u5730\u65b9\uff0c\u6240\u4ee5\u6574\u4e2aPCB\u53ea\u753112V\u4f9b\u7535\u3002\n\u6240\u4ee5\u6211\u8981\u505a\u7684\u5c31\u662f\u5728\u6bcdPCIE\u8fde\u63a5\u5668\u4e0a\u63a5\u4e0a12V\u7684\u9488\u811a\u3002\n\u5f53\u5bf9FPGA\u7535\u8def\u677f\u8fdb\u884c\u9006\u5411\u5de5\u7a0b\u65f6\uff0c\u521b\u5efa\u5fae\u5c0f\u7684\u8bbe\u8ba1\u6765\u9a8c\u8bc1\u5f15\u811a\u8f93\u51fa\u7684\u5047\u8bbe\uff0c\u7136\u540e\u901a\u8fc7JTAG\u5c06\u8be5\u6bd4\u7279\u6d41\u52a0\u8f7d\u5230FPGA\u4e2d\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002\n\u4f46\u8bf7\u8bb0\u4f4fJTAG\u626b\u63cf\u94fe\u662f\u5982\u4f55\u5305\u542b4\u4e2a\u5668\u4ef6\u7684\uff1a\u4e00\u4e2aMAX-II CPLD\u3001\u6211\u4eec\u611f\u5174\u8da3\u7684Arria GX\u548c2\u4e2aAHA363\u82af\u7247\u3002\n\u4e0d\u7ba1\u600e\u6837\uff0c\u6211\u65e0\u6cd5\u5c06SOF\u6587\u4ef6\u52a0\u8f7d\u5230FPGA\u4e2d\u3002SOF\u53ef\u4ee5\u6b63\u786e\u5207\u6362\uff0c\u4f46\u5f88\u5febFPGA\u5c31\u4f1a\u6536\u5230\u6765\u81eaCPLD\u7684\u91cd\u7f6e\u3002\u6211\u4e00\u76f4\u5728\u5c1d\u8bd5\u8ba9\u5b83\u5de5\u4f5c\uff0c\u4f46\u5c31\u662f\u4e0d\u2026\u3002\n\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528\u6240\u9700\u7684\u4f4d\u6d41\u5bf9FPGA\u7684\u5e76\u884c\u95ea\u5b58\u8fdb\u884c\u91cd\u65b0\u7f16\u7a0b\uff0c\u4f46\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u60a8\u9700\u8981\u77e5\u9053\u8be5\u5e76\u884c\u95ea\u5b58\u7684\u5e03\u5c40\u3002\nPOF\u6587\u4ef6\u5305\u542b\u5177\u6709\u4e0d\u540c\u7c7b\u578b\u4fe1\u606f\u7684\u591a\u4e2a\u6bb5\u3002\u5982\u679c\u60a8\u77e5\u9053\u8fd9\u4e9b\u6bb5\u7684\u5185\u5bb9\uff0c\u60a8\u53ef\u4ee5\u81ea\u5df1\u521b\u5efa\u4e00\u4e2a\u65b0\u7684POF\u6587\u4ef6\u5e76\u5c06\u5176\u52a0\u8f7d\u5230FPGA\u4e2d\u3002\n\u6211\u5728\u7f51\u4e0a\u627e\u5230\u4e86\u4e00\u4efd\u63cf\u8ff0POF\u6587\u4ef6\u683c\u5f0f\u7684\u6587\u6863\uff01\u5b83\u53ea\u67092\u9875\uff0c\u5e76\u4e14\u63d0\u5230\u4e86\u6700\u521d\u7684Altera Max CPLD\u8bbe\u5907\uff0c\u6240\u4ee5\u5b83\u53ef\u80fd\u670920\u591a\u5e74\u7684\u5386\u53f2\u4e86\u3002\u4f46\u603b\u6bd4\u4ec0\u4e48\u90fd\u6ca1\u6709\u5f3a\u3002\n\u5f53\u6211\u5728\u524d\u9762\u4ece\u7535\u8def\u677f\u4e0a\u8f6c\u50a8\u7684\u4f4d\u6d41\u4e0a\u6267\u884c\u6b64\u5de5\u5177\u65f6\uff0c\u6211\u5f97\u5230\u4e86\u4e00\u4e2a\u5305\u542b\u6240\u6709\u4e0d\u540c\u5757\u7684\u6587\u4ef6\u3002\n=\u3002\n\u6709\u4e86\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6211\u5c31\u80fd\u591f\u521b\u5efa\u4e00\u4e2a.cof\u6587\u4ef6\uff1aQuartus Convert Programming File\u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u5c06.sof\u6587\u4ef6\u8f6c\u6362\u4e3a.pof\u6587\u4ef6\u3002\n\u6211\u73b0\u5728\u53ef\u4ee5\u95ea\u5b58\u4e00\u4e2a\u65b0\u7684\u6bd4\u7279\u6d41\u4fe1\u606f\u5e76\u884c\u95ea\u5b58\uff01\u5927\u83b7\u6210\u529f\uff01\n\u4e0d\u5e78\u7684\u662f\uff0c\u8fd9\u5e76\u6ca1\u6709\u7ed9\u6211\u5e26\u6765\u4efb\u4f55\u6709\u8da3\u7684\u4e1c\u897f\uff1a\u4e00\u65e6\u6211\u52a0\u8f7d\u4e86\u4e00\u4e9b\u65b0\u7684\u6bd4\u7279\u6d41\uff0c\u677f\u5b50\u5c31\u62d2\u7edd\u5de5\u4f5c\u3002\u6211\u6000\u7591\u67d0\u4e9bFPGA IO\u6b63\u5728\u63a7\u5236\u7535\u8def\u677f\u4e0a\u7684\u7535\u538b\u8c03\u8282\u5668\uff0c\u800c\u6211\u7684\u4ee3\u7801\u663e\u7136\u6ca1\u6709\u505a\u5230\u8fd9\u4e00\u70b9\u3002\n\u6211\u53ea\u80fd\u901a\u8fc7\u5c06\u4e3b\u677f\u63d2\u5165Mac Pro\uff0c\u7136\u540e\u5237\u65b0\u539f\u59cb\u56fa\u4ef6\u6765\u6062\u590d\u4e3b\u677f\u3002\n\u8fd8\u6709\u5176\u4ed6\u65b9\u6cd5\u53ef\u4ee5\u7ee7\u7eed\uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528JTAG\u6765\u8f6c\u50a8\u6240\u6709FPGA IO\u7684\u65b9\u5411\u3001\u8fd9\u4e9bIO\u6240\u9a71\u52a8\u7684\u503c\u6216\u5b83\u4eec\u6b63\u5728\u63a5\u6536\u7684\u503c\u3002", "note_en": "All this work was done in November last year. I haven\u2019t worked on it since, butothers have shown interest in picking this up, so it\u2019s about time this getsthrown out in the open.\n   One can never have enough projects going in parallel. And while programming RTL is fun, I also love the whole process of reverse engineering, starting from a board that you don\u2019t know nothingabout and step-by-step getting to the point where it becomes something useful.\n The  FPGA board hack project on Hackaday lists a bunch of commercially available PCBs that have an FPGA in them. Most of them haven\u2019t really been comprehesively reverse engineered.\n FPGA development boards with PCIe support are never cheap, so I was particularly attracted to the Comtech AHA363PCIE0301G (AHA363). It\u2019d be fantastic if it could be repurposed as a general FPGA PCIe accelerator board.\n The AHA363 is listed as having an Arria GX FPGA, size unknown. Its real purpose is a gzip compression and decompression accelerator, a common operation in data centers that need to serve gzip compressed web pages.\n Various eBay vendors sell the same board for wildly differing prices: $1265, $185, and $19. In an attempt to keep my wife happy, I settled on the $19 version. Or better: I bought 2 of them, in case I needed to destroy one to figure out connections etc.\n  In this blog post, I\u2019m describing the journey from acquiring the board to getting to the point of doing something useful with it. There is no guarantee of success: at the time of writing this, I haven\u2019t been able to get an LED to blink yet, but I\u2019ve already learned some new techniques that will help me reverse engineer other PCBs in the future, and that might be useful for others as well.\n    Note: for those who\u2019d like to replicate/help out with reverse engineering this thing: now that we know the type of the FPGA, there\u2019s really no reason to remove the heatsink anymore. This reduces the chances of accidentally destroying your board.\n The FPGA Board Hack project mentioned an Arria GX FPGA, but since it\u2019s covered by a heat sink, the exact type was still unknown.\n The heat sink is mounted solidly to the chip with 2 clips on 2 sides. You can remove it by inserting a flat head screwdriver in the clip holes and pushing them out. After a bit of wiggling, the mounting bracket will come off. Next, squeeze the same flat head screwdriver between the FPGA and sink, and rotate it very gently separate them. Eventually, the sink will come off, and the secret is revealed:\n What we have here is an  Arria GX EP1AGX90E: the largest device of its class with 90K logic elements, 4.4Mbits of block RAM, and 176 18x18 multipliers. Even today, boards with FPGAs of this size are in the ~$100 range.\n   The PCB of the AHA363 is packed with a large number of ASICs and components. It\u2019s a half-height 4x PCIeboard with a bracket of the same height: that\u2019s fine for a rack-mounted server, but it won\u2019t fit inside a regular PC. You need to remove that bracket first.\n After doing that and plopping the board (with the heat sink!) into my regular Linux PC,  lspci greetedme with the following message:\n   The first step of my reverse engineering process is to take photographs at close range of all the components and connectors. In most cases, the x2 optical zoom option of my iPhone 7 Plus is sufficient for that, but sometimes I use the  iPhone adapter on my microscope.My eye sight has been declining, and photos make it so much easier to identify the markings of various components.\n I also annotate these photos with the component names, connector pins values etc. This makes it much easier when needing to find your bearings when probing things.\n   Other than some slide sets and marketing material, I could not find any technical datasheets about it.\n  It\u2019s common for FPGA-based PCIe card to have parallel flash instead of the more commonly used serial flash: parallel flash not only loads faster, but it also support multiple bitstream images in the same flash and selecting between them. Intel FPGAs don\u2019t support that with serial flash.\n  Used to copy the bitstream from flash into the main FPGA. This CPLD is used in the same configuration in the Altera Arria GX development kit, and in the reference designs for  remote system upgrade designs.\n    This is probably the DC/DC convertor to bring down the PCIe supplied 12V to some rough regulated 5V, with other regulators doing the more detailed work.\n        The head attraction of this PCB and the main reason why it gets reverse engineered!\n One immediately notices that this board get pretty warm when plugged into the PC, even when it\u2019s not doing anything useful.\n  The most important tool for reverse engineering a PCB are a multi-meter with a low reaction time when using it in short-detect mode. This makes it possible to go over an array of vias very quickly in the hope to triggering a connection between 2 points.\n Another key element is the ability to measure connections in the first place: if you\u2019re really lucky, the PCB has plenty of test points. If you\u2019re a bit lucky, there are tons of vias that are not  tented. You\u2019re totally out of luck if your doesn\u2019t have test points and vias are tented at all. In those cases, I usually bail on the whole reverse engineeringthing: discovering connections becomes simply too cumbersome.\n The Pano Logic G2 has motherboard PCB doesn\u2019t have tented vias. You can see accessible blank copper around eachvia hole.\n  However, the Pano Logic G2 auxiliary board has a number of accessible test points, but the remaining viashave their copper covered:\n  The AHA363 board has an incredibly amount of test points, more than I\u2019ve ever seen before. So that\u2019s fantastic. But strangely enough, one of my boards had tented vias and the other did not. I\u2019m using the one with tented vias to record traces with my scope and logic analyzer to check dynamic behavior, and I\u2019m using the other board to probe out connections.\n That said, pressing the sharp tip of my oscilloscope\u2019s probes on the tented vias is usually sufficient to break through the protective layer and make it peel off a little bit. After that, those vias can be probed withoutmuch difficulty.\n  The Arria GX product family is pretty old now, and not supported anymore by today\u2019s versions of Quartus. The last official release with support was Quartus 13.0sp1, but that was only for the standard, commercial version. The last \u2018free\u2019 release was Quartus 11.0. You can download it  here.\n  The Quartus Pin Assignment editor gives an excellent view of the IO pins of the package, with the ability to view the package from the top or bottem, and at any desired rotation. This is a life saver when trying to find pinpoint the right IO pad on the PCB. The assignment editor also annotated all the special IO pads with the right value when you mouse over it.\n Here\u2019s a screenshot of the Pin Assignment Editor showing the Arria GX FPGA as seen from the bottom of the PCB, with the PCIe transceivers located at the bottom too.\n     When you\u2019re lucky again, the PCB has vias underneath the FPGA that map directly to the balls on the FPGA package.\n When your PCB doesn\u2019t have this, you may be forced to desolder the FPGA of one of your boards at one point or another.\n In the case of the AHA363, there is a pretty decent grid of vias underneath the FPGA, but it\u2019s still a bit of a struggle to find the correlation between the vias and the ball on the package.\n Time to bring out an image editor (I use Inkscape because it works both on the Linux PC in my lab and on myMac) and start annotating the vias with the most plausible pad name. This is not always the linear process that\u2019s describe here: I first located some JTAG pins (see next step), then annotated thosepins, then located some the clock (see down even further), annotated those etc.\n   The column and row annotations are at the top and the left. I add grid lines every 5 BGA balls.\n Notice how there\u2019s an extra column of balls between columns V and W and and an extra row of balls betweenrows 17 and 18. This has been the case for all PCBs that I\u2019ve dealt with: the vias don\u2019t coincide with theballs on the BGA, but they fall right in between, so there\u2019s always an extra row or column right downthe middle.\n  Nothing is more important while reverse engineering an FPGA-based PCB than getting the JTAG interface to work, since it\u2019s the prime method of loading bitstreams during FPGA development. In addition, FPGAs also have boundary scan registers for most IO pads that make it possible to extract sometimes crucial additional information about how IOs are configured (input or output), locate the clocks, and the values that are being driven or that are being read by the IOs.\n Many FPGA based PCBs have their JTAG interface easily available, even on the final production board, since it\u2019s often used as the main interface to program production firmware and bitstreams on the factory production line.\n The AHA363 has a prominent 10-pin connector that I expected to contain JTAGs pins, so the next step is to figure out how those pins are connected.\n 4 of the 10 pins are connected to ground. They are all on the front (component) side of the PCB.\n  on visual inspection, the remaining pin on the front side seemed to be unconnected (since there was no via from the connector metal to anywhere.)\n  that leaves 5 more pins: TCK, TMS, TDI, TDO, and VREF. VREF is the IO supply voltage that goes from the PCB to the voltage level shifters in the JTAG dongle.\n The discovery process is pretty straight forward: you start with one of the JTAG pins that is shared between all chips in the chain, TCK or TMS. You check if there\u2019s a connection between those IO pads on the FPGA and one of the connector pins. Done!\n I was able to identify TCK and TMS quickly, but had no such luck for TDI and TDO.\n The thing is that TDI and TDO are point-to-point, and they can be part of a chain. If the FPGA is in the middle of a JTAG chain, then these pins on the FPGA package will not be connected to the connector.\n So the next step is to check the TDI pin of the CPLD, and bingo: it goes straight to the JTAG connector!\n I also confirmed that the TDO pin of the CPLD is connected to the TDI pin of the FPGA.\n Since there is no connection between the FPGA TDO and the connector, it\u2019s likely that the 2 ASICs are part of the JTAG chain as well. We don\u2019t know anything of their pin-out, so that\u2019s a dead-end.\n But if one of the pins is VREF, you can try checking if there\u2019s a connection between one of the 2 pins and VDD. And, indeed, there is! And since there\u2019s now only unknown left, that one can be assigned to TDO.\n   With the JTAG connector figured out, the next step is to get the scan chain working.\n That\u2019s obviously only possible when the board is powered up, but a PCIe card can have a potentiallycomplex power supply architecture: the PCIe connector has 12V, 3.3V and 3.3Vaux pins, andit\u2019s not yet clear which ones are used by this board.\n Luckily, instead of powering the board on a lab bench, there\u2019s a much simpler way: you plug it intoa working machine! As luck would have it, I was able to save a very old Mac Pro from the dumpster and otherthan being slow, it just works.\n I soldered some wires from the AHA363 JTAG pins to a 10-pin connector with Intel USB-Blaster arrangementand ended up with this:\n   I fired up Quartus Programmer, and after pressing \u201cAuto Detect\u201d, I was greeted with the following:\n   As expected, the 2 AHA363 are part of the JTAG chain. This will soon give me major problems\u2026\n  In the previous image, you can see how the Max-II CPLD has the 128Mbit parallel flashconnected to it.\n We\u2019re probably going to messing around with the contents of the flash by programming a newbitstream into it, so now is a good time to make a backup of that.\n In Quartus Programmer, select the \u201cExamine\u201d flag next to \u201cCFI_128Mb\u201d and press the \u201cStart\u201d button.\n      CFG_128Mb -&gt; Right click: Change File (NOT Add File!!!) -&gt; Select .pof file -&gt; Start\n  It\u2019s really hard to reverse engineer a board when it\u2019s sitting inside a PC enclosure!\n The next step is to detect the JTAG chain while the board is sitting alone on the bench.\n We know that that power comes in through the PCIe connector, so we could solder some wireon there. But we also want to be able to still plug in the board into a working PC.\n  Well\u2026 I didn\u2019t have that in my parts kit, but I did have an old, broken motherboard! A fewminutes of Dremel action later, I had this:\n    I was lucky with the power supply situation: the 3.3V and 3.3Vaux pins of the PCIe connectoraren\u2019t going anywhere on the PCB, so the whole PCB is only powered by the 12V.\n So all I had to do was wire up 12V pins on the female PCIe connector.\n   When reverse engineering an FPGA board, creating tiny designs to verify assumptions aboutpinout and then loading that bitstream into the FPGA through JTAG is essential.\n  But remember how the JTAG scan chain contains 4 devices: a Max-II CPLD, the Arria GX thatwe\u2019re interested in, and the 2 AHA363 chips.\n One way or the other, I was not able to load an SOF file into the FPGA. The SOF wouldshift in correctly, but soon after the FPGA would receive a reset from the CPLD.I tried forever to make it work and it just didn\u2019t\u2026\n  The alternative is to reprogram the parallel flash of the FPGA with the desired bitstream.But for that, you need to know the layout of this parallel flash.\n The POF files contains multiple segments with different kinds of information. If you knowthe contents of these segments, you can create a new POF file yourself and load thatinto the FPGA.\n  I found  a document online that describes the POF file format!It\u2019s only 2 pages, and refers to the original Altera MAX CPLD devices, so it\u2019s probably more than20 years old. But it\u2019s better than nothing.\n   When I execute this tool on the bitstream that I dumped from the board earlier, I get  a file with all the different chunks.\n  ==============================Tag: 26 (Flash Chunks &lt;unofficial&gt;)Length: 124 (0x0000007c)Field 0: 0x00ff0000 (16711680)Field 1: 0x03800000 (58720256)Field 2: 0x00010000 (65536)Content:mCFI_128Mb 00000000 08000000mPage_0 00000000 00D90000mPage_1 00800000 00D90000oOPTION_BITS 00FF0000 00000408\n  Armed with that information, I was able to create  a  .cof file: a configurationfile for the Quartus Convert Programming File tool that is used to convert a .sof file into a .pof file.\n I was now able to flash a new bitstream info the parallel flash! A major success!\n  Unfortunately, it didn\u2019t get me anywhere interesting: as soon as I load some new bitstream theboard refuses to work. I suspect that some FPGA IOs are controlling the voltage regulators on theboard, and my code is clearly not doing that.\n I\u2019m only able to recover the board back by plugging it into the Mac Pro and then reflashingthe original firmware.\n There are other ways to proceed though: you can use JTAG to dump the direction of all FPGA IOs, thevalue that these are IOs are driving or the value that they are receiving.", "posttime": "2020-06-23 08:25:54", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u9006\u5411\u5de5\u7a0b,\u9006\u5411,engineering,fpga", "title": "\u5bf9Comtech AHA363 PCIe Gzip\u52a0\u901f\u677f\u8fdb\u884c\u9006\u5411\u5de5\u7a0b", "title_en": "Reverse Engineering the Comtech AHA363 PCIe Gzip Accelerator Board", "transed": 1, "url": "https://tomverbeure.github.io/2020/06/14/AHA363-Reverse-Engineering.html", "via": "", "real_tags": ["\u9006\u5411\u5de5\u7a0b", "\u9006\u5411", "fpga"]}, {"category": "", "categoryclass": "", "imagename": "36385c5a1a4f0ae5306b26f8c86f9882.png", "infoid": 1007737, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5728\u5468\u4e00\u4e3e\u884c\u7684\u4e00\u5e74\u4e00\u5ea6\u7684\u5168\u7403\u5f00\u53d1\u8005\u5927\u4f1a\u4e0a\uff0c\u82f9\u679c\u53d1\u5e03\u4e86\u5176\u53ef\u7a7f\u6234\u64cd\u4f5c\u7cfb\u7edfWatchOS 7\u7684\u4e0b\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u3002\nWatchOS 7\u589e\u52a0\u4e86\u5907\u53d7\u671f\u5f85\u7684\u7761\u7720\u8ddf\u8e2a\u529f\u80fd\uff0c\u5305\u62ecWind Down\u6a21\u5f0f\uff0c\u5e2e\u52a9\u4f60\u51c6\u65f6\u4e0a\u5e8a\u7761\u89c9\u3002\u5f53\u4f60\u9192\u6765\u65f6\uff0c\u4f60\u4f1a\u770b\u5230\u524d\u4e00\u5929\u665a\u4e0a\u7684\u7761\u7720\u60c5\u51b5\uff0c\u5305\u62ec\u9192\u7740\u548c\u7761\u89c9\u7684\u65f6\u95f4\uff0c\u8fd8\u6709\u4e00\u5f20\u663e\u793a\u6bcf\u5468\u7761\u7720\u8d8b\u52bf\u7684\u56fe\u8868\u3002\n\u867d\u7136\u8fd9\u6b3e\u624b\u8868\u6ca1\u6709\u624b\u8868\u8868\u9762\u5b58\u50a8\uff0c\u4f46\u65b0\u8f6f\u4ef6\u589e\u52a0\u4e86\u5171\u4eab\u5b9a\u5236\u624b\u8868\u8868\u9762\u548c\u590d\u6742\u60c5\u51b5\u7684\u80fd\u529b\u3002\u5982\u679c\u5171\u4eab\u7684\u624b\u8868\u8868\u9762\u4f7f\u7528\u4e86\u4f60\u6ca1\u6709\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u5c06\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u4e0b\u8f7d\u5b83\u4eec\u3002\u60a8\u8fd8\u53ef\u4ee5\u8f7b\u677e\u5730\u4e0e\u8054\u7cfb\u4eba\u6216\u5728\u793e\u4ea4\u5a92\u4f53\u4e0a\u5171\u4eab\u60a8\u81ea\u5df1\u521b\u5efa\u7684\u9762\u5b54\u3002\n\u5728\u5065\u5eb7\u548c\u5065\u8eab\u65b9\u9762\uff0cWatchOS 7&#39\uff1b\u7684\u5065\u8eab\u5e94\u7528\u7a0b\u5e8f\u589e\u52a0\u4e86\u5bf9\u56db\u79cd\u65b0\u953b\u70bc\u7684\u652f\u6301\uff1a\u6838\u5fc3\u8bad\u7ec3\u3001\u821e\u8e48\u3001\u529f\u80fd\u529b\u91cf\u8bad\u7ec3\u548c\u964d\u6e29\u3002\u4f60\u7528\u6765\u8ddf\u8e2a\u953b\u70bc\u7684\u6d3b\u52a8\u5e94\u7528\u7a0b\u5e8f\u73b0\u5728\u5c06\u88ab\u79f0\u4e3aFitness\uff0c\u5b83\u5c06\u5305\u62ec\u4e00\u4e2a\u65b0\u7684\u6458\u8981\u9009\u9879\u5361\uff0c\u8ba9\u4f60\u53ef\u4ee5\u5728\u4e00\u4e2a\u89c6\u56fe\u4e2d\u8f7b\u677e\u5730\u67e5\u770b\u4f60\u7684\u6d3b\u52a8\u5386\u53f2\u3001\u953b\u70bc\u548c\u8d8b\u52bf\u3002\n\u4f7f\u7528WatchOS7\uff0c\u60a8\u5c06\u80fd\u591f\u4f7f\u7528Siri\u76f4\u63a5\u4ece\u624b\u8155\u7ffb\u8bd1\u591a\u79cd\u8bed\u8a00\u3002\u5c31\u50cf\u5728iOS14\u4e0a\u4e00\u6837\uff0c\u5728WatchOS7\u4e0a\u7684\u82f9\u679c\u5730\u56fe\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4f60\u53ef\u4ee5\u5728\u4e00\u4e9b\u57ce\u5e02\u7684\u624b\u8868\u4e0a\u770b\u5230\u7279\u5b9a\u4e8e\u9a91\u81ea\u884c\u8f66\u7684\u65b9\u5411\u3002\n\u5728\u51a0\u72b6\u75c5\u6bd2\u5927\u6d41\u884c\u7684\u60c5\u51b5\u4e0b\uff0cWatchOS\u5c06\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6765\u786e\u5b9a\u4f60\u4ec0\u4e48\u65f6\u5019\u5f00\u59cb\u6d17\u624b\uff0c\u5e76\u8bbe\u7f6e\u4e00\u4e2a\u8ba1\u65f6\u5668\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u77e5\u9053\u4f60\u5c06\u5f97\u5230\u63a8\u8350\u768420\u79d2\u6d17\u624b\u65f6\u95f4\u3002\n\u5c0a\u91cd\u4ed6\u4eba\uff0c\u4fdd\u6301\u6587\u660e\u793c\u8c8c\uff0c\u4e0d\u79bb\u9898\u3002\u6211\u4eec\u5220\u9664\u8fdd\u53cd\u6211\u4eec\u653f\u7b56\u7684\u8bc4\u8bba\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u9605\u8bfb\u8fd9\u4e9b\u8bc4\u8bba\u3002\u6211\u4eec\u53ef\u4ee5\u968f\u65f6\u5173\u95ed\u8ba8\u8bba\u7ebf\u7a0b\u3002", "note_en": "At its annual   Worldwide Developers Conference on Monday,  Apple unveiled the next major release of its wearable OS,  WatchOS 7.\n WatchOS 7 adds much-anticipated\u00a0  sleep tracking features, including a Wind Down mode to help you get to bed on time. When you wake up, you&#39;ll see a visualization of your previous night&#39;s sleep, including periods of wake and sleep, and a chart showing weekly sleep trends.\n                                              While the watch   lacks a watch face store, the new software adds the ability to   share customized watch faces and complications. If a shared watch face uses apps you don&#39;t have, you&#39;ll be able to download them easily. You can also easily share a face you&#39;ve created yourself with a contact, or across social media.\n In terms of health and fitness, WatchOS 7&#39;s Workout app adds support for four new workouts: core training, dance, functional strength training and cool down. The Activity app where you track your workouts will now be called Fitness, and will include a new Summary tab that gives you an easy way to see your activity history, workouts and trends, all in one view.\n With WatchOS 7, you&#39;ll be able to use Siri to translate several languages directly from your wrist. Like on\u00a0  iOS 14, in the Apple Maps app on WatchOS 7, you&#39;ll be able to see cycling-specific directions on your watch in some cities.\n Amid the\u00a0  coronavirus\u00a0pandemic, WatchOS will use machine learning to determine   when you start washing your hands, and sets a timer so you know you&#39;re getting the recommended 20-second wash.\n  Be respectful, keep it civil and stay on topic. We delete comments that violate  our policy, which we encourage you to read. Discussion threads can be closed at any time at our discretion.", "posttime": "2020-06-23 08:07:53", "source_domain": "slashdot.org", "source_name": "slashdot", "tags": "apple,apple-watch,watchos,washing", "title": "Apple WatchOS 7\u63a8\u51fa\u7761\u7720\u8ddf\u8e2a\u3001\u53ef\u5171\u4eab\u7684\u624b\u8868\u9762\u5b54\u548c\u6d17\u624b\u8ba1\u65f6\u5668", "title_en": "Apple WatchOS 7 Unveiled With Sleep Tracking, Shareable Watch Faces and a Hand Washing Timer", "transed": 1, "url": "https://www.cnet.com/news/watchos-7-unveiled-with-sleep-tracking-shareable-watch-faces-and-a-hand-washing-timer/", "via": "", "real_tags": ["apple", "watchos", "washing"]}, {"category": "", "categoryclass": "", "imagename": "6de6a8fa9c098626b4b61331e2f526fc.jpg", "infoid": 1007736, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u9a6c\u91cc\u5170\u5dde\u94f6\u6cc9\u3002--\u4e00\u5bb6\u4e92\u8054\u7f51\u6ce8\u518c\u5546\u5a01\u80c1\u8981\u5c06\u4e00\u4e2a\u4e3b\u8981\u5ba3\u626c\u767d\u4eba\u6c11\u65cf\u4e3b\u4e49\u548c\u53cd\u79fb\u6c11\u89c2\u70b9\u7684\u7f51\u7ad9\u6458\u724c\uff0c\u6b64\u4e3e\u53ef\u80fd\u4f1a\u4f7f\u8be5\u7f51\u7ad9\u53ea\u6709\u613f\u610f\u4f7f\u7528\u7279\u6b8a\u6d4f\u89c8\u5668\u5728\u9ed1\u6697\u7f51\u7edc\u4e0a\u67e5\u627e\u7684\u987d\u56fa\u7528\u6237\u624d\u80fd\u8bbf\u95ee\u3002\nNetwork Solutions\u7684\u6bcd\u516c\u53f8Web.com Group\u4e0a\u5468\u4e94\u901a\u77e5\u4e00\u4e2a\u6c11\u6743\u7ec4\u7ec7\uff0c\u5b83\u5df2\u201c\u91c7\u53d6\u63aa\u65bd\u7ec8\u6b62\u8be5\u516c\u53f8\u7684VDARE.com\u8d26\u6237\uff0c\u8fd9\u5c06\u4f7f\u5176\u5728\u516c\u5171\u4e92\u8054\u7f51\u4e0a\u65e0\u6cd5\u8bbf\u95ee\uff0c\u9664\u975e\u5b83\u80fd\u627e\u5230\u53e6\u4e00\u5bb6\u613f\u610f\u6ce8\u518c\u8be5\u57df\u540d\u7684\u63d0\u4f9b\u5546\u3002\u201d\nVDARE\u5468\u4e00\u4ecd\u7136\u5728\u7ebf\u3002\u4e0a\u5468\uff0c\u4e00\u540d\u6bcd\u516c\u53f8\u5f8b\u5e08\u5728\u81f4VDARE\u5f8b\u5e08\u7684\u4e00\u5c01\u4fe1\u4e2d\u8868\u793a\uff0c\u8be5\u7f51\u7ad9\u5fc5\u987b\u5728\u5468\u56db\u4e4b\u524d\u8f6c\u79fb\u57df\u540d\uff0c\u7136\u540eNetwork Solutions\u624d\u80fd\u5220\u9664\u5176\u670d\u52a1\u3002\n4\u6708\u548c5\u6708\uff0c\u6cd5\u5f8b\u4fdd\u62a4\u516c\u6c11\u6743\u5229\u5f8b\u5e08\u59d4\u5458\u4f1a\u4e3b\u5e2d\u81f4\u4fe1\u6566\u4fc3Network Solutions\u653e\u5f03VDARE\u3002\u8fd9\u4e2a\u603b\u90e8\u4f4d\u4e8e\u534e\u76db\u987f\u7279\u533a\u7684\u7ec4\u7ec7\u7684\u603b\u88c1\u517c\u6267\u884c\u8463\u4e8b\u514b\u91cc\u65af\u6c40\u00b7\u514b\u62c9\u514b(Kristen Clarke)\u5199\u9053\uff0cVDARE\u515c\u552e\u201c\u53cd\u79fb\u6c11\u548c\u53cd\u9ed1\u4eba\u4ec7\u6068\u201d\uff0c\u6563\u5e03\u6709\u5173\u51a0\u72b6\u75c5\u6bd2\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u5e76\u9f13\u52b1\u9488\u5bf9\u79fb\u6c11\u7684\u66b4\u529b\u884c\u4e3a\u3002\n\u514b\u62c9\u514b\u5468\u4e00\u8bf4\uff1a\u201c\u8fd9\u662f\u6211\u4eec\u6b63\u5728\u8fdb\u884c\u7684\u5de5\u4f5c\u7684\u4e00\u90e8\u5206\uff0c\u4ee5\u5bf9\u6297\u7f51\u4e0a\u4ec7\u6068\u6d3b\u52a8\u6e83\u70c2\u7684\u65b9\u5f0f\u3002\u201d\u201c\u6211\u4eec\u77e5\u9053\u8bb8\u591a\u767d\u4eba\u81f3\u4e0a\u4e3b\u4e49\u8005\u548c\u6781\u7aef\u5206\u5b50\u5e76\u6ca1\u6709\u5728\u5730\u4e0b\u5ba4\u7ec4\u7ec7\u8d77\u6765\u3002\u4ed6\u4eec\u5229\u7528\u8fd9\u4e9b\u5e73\u53f0\u548c\u7f51\u7ad9\u6563\u5e03\u4ed6\u4eec\u5371\u9669\u7684\u610f\u8bc6\u5f62\u6001\uff0c\u7784\u51c6\u53d7\u5bb3\u8005\uff0c\u717d\u52a8\u66b4\u529b\u3002\u201c\u3002\n\u5728\u5468\u4e94\u5bf9\u514b\u62c9\u514b\u7684\u56de\u5e94\u4e2d\uff0c\u4e00\u540d\u516c\u53f8\u5f8b\u5e08\u8868\u793a\uff0cVDARE\u7684\u5185\u5bb9\u201c\u4e0d\u4ee3\u8868\u6211\u4eec\u7ec4\u7ec7\u7684\u4ef7\u503c\u89c2\u201d\uff0c\u5e76\u8fdd\u53cd\u4e86\u5176\u201c\u53ef\u63a5\u53d7\u7684\u4f7f\u7528\u653f\u7b56\u201d\u3002\u8fd9\u4f4d\u516c\u53f8\u5f8b\u5e08\u4e0a\u5468\u5728\u7ed9VDARE\u5f8b\u5e08\u7684\u4e00\u5c01\u4fe1\u4e2d\u8bf4\uff0c\u8be5\u653f\u7b56\u7981\u6b62\u5ba2\u6237\u4f7f\u7528\u5176\u57df\u540d\u201c\u4ee5\u4efb\u4f55\u65b9\u5f0f\u663e\u793a\u504f\u89c1\u3001\u79cd\u65cf\u4e3b\u4e49\u3001\u6b67\u89c6\u6216\u4ec7\u6068\u201d\u3002\nVDARE\u521b\u59cb\u4eba\u517c\u7f16\u8f91\u5f7c\u5f97\u00b7\u5e03\u91cc\u6885\u6d1b(Peter Brimelow)\u8bf4\uff0c\u4ed6\u7684\u7f51\u7ad9\u7684\u5185\u5bb9\u5728\u6210\u4e3aNetwork Solutions\u5ba2\u6237\u768420\u5e74\u91cc\u6ca1\u6709\u6539\u53d8\u3002\n\u4ed6\u5728\u5468\u4e00\u7684\u4e00\u5c01\u7535\u5b50\u90ae\u4ef6\u4e2d\u5199\u9053\uff1a\u201c\u5ba1\u67e5\u5de5\u4f5c\u6b63\u5728\u52a0\u5f3a\u3002\u201d\u201c\u6211\u4eec\u4ecd\u5728\u5bfb\u627e\u66ff\u4ee3\u8005\uff0c\u4f46\u6211\u4eec\u80af\u5b9a\u6709\u53ef\u80fd\u4e0d\u5f97\u4e0d\u81f3\u5c11\u505c\u7535\u51e0\u5929\u3002\u65e0\u8bba\u5982\u4f55\uff0c\u6211\u4eec\u4e0d\u76f8\u4fe1\u4efb\u4f55\u603b\u90e8\u8bbe\u5728\u7f8e\u56fd\u7684\u7f51\u7ad9\u80fd\u957f\u671f\u5bf9\u6297PC Lynch\u66b4\u5f92\u3002\u201c\n\u8bb8\u591a\u53d1\u5e03\u767d\u4eba\u6c11\u65cf\u4e3b\u4e49\u3001\u767d\u4eba\u81f3\u4e0a\u4e3b\u4e49\u6216\u53cd\u72b9\u592a\u4e3b\u4e49\u6750\u6599\u7684\u7f51\u7ad9\u4e00\u76f4\u96be\u4ee5\u4fdd\u6301\u5728\u7ebf\uff0c\u6216\u8005\u88ab\u4e3b\u6d41\u4e92\u8054\u7f51\u5e73\u53f0\u6dd8\u6c70\uff0c\u8fd9\u4e9b\u7f51\u7ad9\u5f80\u5f80\u662f\u5728\u6781\u53f3\u7ffc\u6781\u7aef\u5206\u5b50\u53d1\u52a8\u66b4\u529b\u88ad\u51fb\u4e4b\u540e\u3002\n\u8c37\u6b4c(Google)\u548cGoPardy\u731b\u70c8\u62a8\u51fb\u4e86\u201c\u6bcf\u65e5\u98ce\u66b4\u201d(The Daily Stormer)\u7684\u7f51\u5740\uff0c\u6b64\u524d\u8be5\u65b0\u7eb3\u7cb9\u4e3b\u4e49\u7f51\u7ad9\u521b\u59cb\u4eba\u5b89\u5fb7\u9c81\u00b7\u5b89\u683c\u6797(Andrew Anglin)\u53d1\u8868\u4e86\u4e00\u7bc7\u5e16\u5b50\uff0c\u5632\u7b11\u5728\u5f17\u5409\u5c3c\u4e9a\u5dde\u590f\u6d1b\u8328\u7ef4\u5c14(Charlottesville)2017\u5e74\u767d\u4eba\u6c11\u65cf\u4e3b\u4e49\u96c6\u4f1a\u4e0a\uff0c\u4e00\u540d\u7537\u5b50\u5f00\u8f66\u649e\u5411\u4e00\u7fa4\u53cd\u6297\u8bae\u8005\u9020\u6210\u6b7b\u4ea1\u7684\u5973\u5b50\u3002\n\u793e\u4ea4\u5a92\u4f53\u5e73\u53f0Gab\u57282018\u5e74\u67aa\u51fb\u4e8b\u4ef6\u53d1\u751f\u524d\u66fe\u5728\u5339\u5179\u5821\u72b9\u592a\u6559\u5802\u5927\u5c60\u6740\u5acc\u7591\u4eba\u53d1\u5e03\u53cd\u72b9\u4fe1\u606f\uff0c\u5728\u6ce8\u518c\u5458GoPardy\u548c\u5176\u4ed6\u4eba\u5220\u9664\u8be5\u7f51\u7ad9\u540e\uff0c\u8be5\u5e73\u53f0\u88ab\u77ed\u6682\u5173\u95ed\u3002\u5728\u897f\u96c5\u56fe\u7684\u4e00\u5bb6\u540d\u4e3aEpik\u7684\u516c\u53f8\u540c\u610f\u6ce8\u518c\u540e\uff0cGab\u53c8\u56de\u6765\u4e86\u3002\n\u7528\u6237\u5bf9\u5728\u7ebf\u4fe1\u606f\u732a8chan\u8868\u8fbe\u4e86\u533f\u540d\u7684\u4ec7\u6068\uff0c\u76f4\u52302019\u5e748\u6708\uff0c\u5728\u8be5\u7f51\u7ad9\u4e0a\u53d1\u5e03\u5ba3\u8a00\u7684\u6301\u67aa\u6b79\u5f92\u53d1\u52a8\u4e86\u4e00\u7cfb\u5217\u5927\u89c4\u6a21\u67aa\u51fb\u4e8b\u4ef6\uff0c\u5bfc\u81f4\u8be5\u7f51\u7ad9\u88ab\u8feb\u4e0b\u7ebf\u3002\u53bb\u5e7411\u6708\uff0c\u5f53\u56fe\u50cf\u677f\u4ee5\u65b0\u540d\u79f08kun\u91cd\u65b0\u63a8\u51fa\u65f6\uff0c\u4e2d\u65ad\u7ed3\u675f\u4e86\u3002\n\u8fd9\u5df2\u7ecf\u4e0d\u662f\u7b2c\u4e00\u6b21VDARE\u88ab\u4e00\u5bb6\u79d1\u6280\u516c\u53f8\u629b\u5f03\u4e86\u3002Facebook\u4e0a\u4e2a\u6708\u5ba3\u5e03\uff0c\u5b83\u5220\u9664\u4e86\u4e0eVDARE\u548c\u5176\u4ed6\u56e2\u4f53\u6709\u5173\u7684\u8d26\u6237\uff0c\u5305\u62ec\u81f4\u529b\u4e8eQAnon\u6781\u53f3\u7ffc\u9634\u8c0b\u8bba\u7684\u9875\u9762\u3002\n\u5e03\u91cc\u6885\u6d1b\u57281\u6708\u4efd\u8d77\u8bc9\u7ebd\u7ea6\u65f6\u62a5\u516c\u53f8\uff0c\u58f0\u79f0\u8be5\u62a5\u8bfd\u8c24\u4ed6\uff0c\u79f0\u4ed6\u662f\u201c\u516c\u5f00\u7684\u767d\u4eba\u6c11\u65cf\u4e3b\u4e49\u8005\u201d\u3002\u8fd9\u8d77\u8bc9\u8bbc\u8981\u6c42\u81f3\u5c11500\u4e07\u7f8e\u5143\u7684\u635f\u5bb3\u8d54\u507f\u3002\n\u4e0a\u5468\u56db\uff0c\u62a5\u7eb8\u5f8b\u5e08\u6566\u4fc3\u7ebd\u7ea6\u7684\u4e00\u5bb6\u8054\u90a6\u6cd5\u9662\u9a73\u56de\u8fd9\u8d77\u8bc9\u8bbc\uff0c\u6307\u63a7\u5e03\u91cc\u6885\u6d1b\u5728\u73a9\u201c\u5173\u4e8e\u4ed6\u7684\u8fb9\u7f18\u89c2\u70b9\u5e94\u8be5\u5982\u4f55\u5b9a\u6027\u7684\u6587\u5b57\u6e38\u620f\u201d\u3002\n\u4ed6\u4eec\u5199\u9053\uff1a\u201c\u5e03\u91cc\u6885\u6d1b\u5ba3\u626c\u4e86\u767d\u4eba\u6c11\u65cf\u4e3b\u4e49\u548c\u767d\u4eba\u81f3\u4e0a\u7684\u6838\u5fc3\u7406\u8bba\uff0c\u5305\u62ec\u67d0\u4e9b\u79cd\u65cf\u5bb9\u6613\u72af\u7f6a\uff0c\u667a\u5546\u4e0e\u79cd\u65cf\u6709\u5173\u3002\u201d\n\u5e03\u91cc\u6885\u6d1b\u5426\u8ba4\u4ed6\u7684\u7f51\u7ad9\u662f\u767d\u4eba\u6c11\u65cf\u4e3b\u4e49\u8005\uff0c\u4f46\u627f\u8ba4\u5b83\u53d1\u5e03\u4e86\u7b26\u5408\u8fd9\u4e00\u63cf\u8ff0\u7684\u4f5c\u5bb6\u7684\u4f5c\u54c1\uff0c\u201c\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\uff0c\u4ed6\u4eec\u65e8\u5728\u634d\u536b\u7f8e\u56fd\u767d\u4eba\u7684\u5229\u76ca\u201d\u3002\n\u5e03\u91cc\u6885\u6d1b\u8fd8\u8fd0\u8425\u7740\u4e00\u5bb6\u603b\u90e8\u4f4d\u4e8e\u5eb7\u6d85\u72c4\u683c\u5dde\u7684\u975e\u8425\u5229\u7ec4\u7ec7VDARE\u57fa\u91d1\u4f1a(VDARE Foundation)\uff0c\u6839\u636e\u7f8e\u56fd\u56fd\u7a0e\u5c40(IRS)\u7684\u4e00\u4efd\u7a0e\u52a1\u7533\u62a5\u6587\u4ef6\uff0c\u8be5\u57fa\u91d1\u4f1a\u57282014\u5e74\u81f32018\u5e74\u671f\u95f4\u7b79\u96c6\u4e86\u8d85\u8fc7180\u4e07\u7f8e\u5143\u7684\u514d\u7a0e\u793c\u7269\u3001\u8d60\u6b3e\u548c\u6350\u6b3e\u3002", "note_en": "SILVER SPRING, Md. -- An internet registrar is threatening to delist a website that is a leading promoter of white nationalist and anti-immigration views, a move that could make the site accessible only to diehard users willing to use a special browser to find it on the dark web.\n Network Solutions\u2019 parent company, Web.com Group, notified a civil rights group on Friday that it has \u201ctaken steps&#34; to terminate the company\u2019s account for VDARE.com, which would make it unreachable on the public internet unless it can find another provider willing to register the domain name.\n  VDARE remained online Monday. The website has until Thursday to transfer the domain before Network Solutions may delete its services, a parent company lawyer said in a letter to a VDARE attorney last week.\n In April and in May, the head of the Lawyers\u2019 Committee for Civil Rights Under Law sent letters urging Network Solutions to drop VDARE. Kristen Clarke, the Washington, D.C.-based group\u2019s president and executive director, wrote that VDARE peddles \u201canti-immigrant and anti-Black hate,\u201d spreads misinformation about the coronavirus and encourages violence against migrants.\n \u201cThis is part of our ongoing work to confront the ways in which hate activity festers online,\u201d Clarke said Monday. \u201cWe know that many white supremacists and extremists are not organizing in basements. They are using these platforms and websites to spread their dangerous ideologies, target victims and incite violence.\u201d\n In Friday\u2019s response to Clarke, a company attorney said VDARE\u2019s content \u201cdoes not represent the values of our organization\u201d and violates its \u201cAcceptable Use Policy.\u201d The policy bars customers from using its domains \u201cto display bigotry, racism, discrimination, or hatred in any manner whatsoever,\u201d the same company attorney said in a letter to a VDARE lawyer last week.\n VDARE founder and editor Peter Brimelow said his site\u2019s content hasn\u2019t changed in the 20 years that it has been a Network Solutions customer.\n \u201cCensorship is just intensifying,\u201d he wrote in an email on Monday. \u201cWe\u2019re still working on a replacement, but there is certainly a chance we\u2019ll have to go dark for at least a couple of days. And anyway we have no confidence that any US-based site will stand up to the PC lynch mob for long.\u201d\n Many websites that publish white nationalist, white supremacist or anti-Semitic material have struggled to stay online or been booted off mainstream internet platforms, often after violent attacks by far-right extremists.\n Google and GoDaddy yanked The Daily Stormer\u2019s web address after the neo-Nazi website\u2019s founder, Andrew Anglin, published a post mocking the woman killed when a man drove a car into a crowd of counterprotesters at a 2017 white nationalist rally in Charlottesville, Virginia.\n Social media platform Gab, where the suspect in the Pittsburgh synagogue massacre spewed anti-Semitic messages before the 2018 shooting rampage, was briefly knocked offline after registrar GoDaddy and others dropped the site. Gab returned after a Seattle-based company, Epik, agreed to register it.\n Users spewed anonymous hate on 8chan, an online message boar d, until a string of mass shootings by gunmen who posted manifestos on the site led to it getting forced offline in August 2019. The disruption ended when the imageboard relaunched in November under the new name 8kun.\n This isn\u2019t the first time VDARE has been dropped by a technology company. Facebook announced last month that it removed accounts linked to VDARE and other groups, including pages devoted to the QAnon far-right conspiracy theory.\n Brimelow sued The New York Times Company in January, claiming the newspaper defamed him by referring to him as an \u201copen white nationalist.\u201d The suit seeks at least $5 million in damages.\n Last Thursday, newspaper lawyers urged a federal court in New York to throw out the lawsuit, accusing Brimelow of playing \u201cword games about how his fringe views should be characterized.\u201d\n \u201cBrimelow has promoted theories at the heart of white nationalism and white supremacy, including that certain races are predisposed to commit crime and that IQ is linked to race,\u201d they wrote.\n Brimelow has denied that his website is white nationalist but acknowledged it publishes works by writers who fit that description \u201cin the sense that they aim to defend the interests of American whites.\u201d\n Brimelow also operates a Connecticut-based nonprofit, VDARE Foundation, which raised more than $1.8 million in tax-exempt gifts, grants and contributions between 2014 and 2018, according to an IRS tax filing.", "posttime": "2020-06-23 07:49:29", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u57df\u540d,\u6ce8\u518c,registrar,\u7f51\u7ad9", "title": "\u57df\u540d\u6ce8\u518c\u5546\u7f51\u7edc\u89e3\u51b3\u65b9\u6848\u5a01\u80c1\u8981\u653e\u5f03\u53cd\u79fb\u6c11\u7f51\u7ad9", "title_en": "Domain registrar Network Solutions threatens to drop anti-immigration website", "transed": 1, "url": "https://abcnews.go.com/US/wireStory/online-registrar-threatens-drop-anti-immigration-website-71391728", "via": "", "real_tags": ["\u57df\u540d", "\u6ce8\u518c", "registrar", "\u7f51\u7ad9"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1007735, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u672c\u6587\u662f\u66f4\u5927\u7684\u6559\u7a0b\u201cOS\u5386\u9669\u8bb0\uff1a\u4f7f\u7528Rust\u5236\u4f5cRISC-V\u64cd\u4f5c\u7cfb\u7edf\u201d\u4e2d\u7684\u4e00\u7bc7\u6587\u7ae0\u3002\n\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u53ea\u4f7f\u7528\u6574\u6570\u6307\u4ee4\u3002\u4f46\u662f\uff0c\u65e2\u7136\u6211\u4eec\u5e0c\u671b\u652f\u6301\u7528\u6237\u8fdb\u7a0b\uff0c\u5c31\u5fc5\u987b\u80fd\u591f\u652f\u6301\u786c\u4ef6\u6d6e\u70b9\u5355\u5143(FPU)\u3002\u5728RISC-V\u4e2d\uff0c\u8fd9\u76f8\u5f53\u7b80\u5355\uff0c\u4f46\u5982\u679c\u6211\u4eec\u4e0d\u5c0f\u5fc3\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u9ebb\u70e6\u3002\n\u9996\u5148\uff0c\u5fc5\u987b\u901a\u8fc7mstatus\u5bc4\u5b58\u5668(\u66f4\u5177\u4f53\u5730\u8bf4\u662fFS\u4f4d(\u4f4d14\u548c13))\u63a7\u5236\u6d6e\u70b9\u5355\u5143\u3002\n\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u4f7f\u7528\u6b64\u5bc4\u5b58\u5668\u66f4\u6539\u5904\u7406\u5668\u6a21\u5f0f(MPP)\u3002\u4f46\u662f\uff0c\u73b0\u5728\u6211\u4eec\u5173\u5fc3\u7684\u662f\u8fd9\u4e2a\u5bc4\u5b58\u5668\u6765\u63a7\u5236\u6d6e\u70b9\u5355\u5143\u3002\u8fd9\u4e24\u4f4d\u652f\u6301\u6d6e\u70b9\u5355\u5143\u7684\u56db\u79cd\u4e0d\u540c\u72b6\u6001\uff1a\n\u5982\u679c\u6211\u4eec\u8bd5\u56fe\u5728FPU\u5173\u95ed\u65f6\u52a0\u8f7d\u6216\u5b58\u50a8(fld\u6216fsd)\u6d6e\u70b9\u5bc4\u5b58\u5668\uff0c\u5b83\u5c06\u9677\u5165\u64cd\u4f5c\u7cfb\u7edf\u3002\u56e0\u6b64\uff0c\u5728\u6211\u4eec\u4f7f\u7528\u6d6e\u70b9\u5355\u5143\u8fdb\u884c\u4efb\u4f55\u5de5\u4f5c\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u786e\u4fdd\u5df2\u6253\u5f00\u6d6e\u70b9\u5355\u5143\u5e76\u505a\u597d\u4e86\u5f00\u59cb\u5de5\u4f5c\u7684\u51c6\u5907\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u7f16\u5199\u7684switch_to_user\u51fd\u6570\u4e2d\u6dfb\u52a0\u4e00\u70b9\uff0c\u4ee5\u4fbf\u5728\u4e0a\u4e0b\u6587\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u65f6\u5c06FPU\u6253\u5f00\u5230\u521d\u59cb\u72b6\u6001\u3002\n.global switch_to_userswitch_to_user\uff1acsrw msccratch\uff0ca0 ld a1,520(A0)ld a2,512(A0)ld a3,552(A0)li t0\uff0c1&lt\uff1b&lt\uff1b7|1&lt\uff1b&lt\uff1b5|1&lt\uff1b&lt\uff1b13 slli a3\uff0ca3\uff0c11\u6216t0\uff0ct0\uff0ca3 csrw mstatus\uff0ct0 csrw mepc\uff0ca1 csrw satp\uff0ca2 li t1\uff0c0xaaa csrw mie\uff0ct1 la t2\uff0cm_trap_Vector csrw mtvec\uff0ct2 mv t6\uff0ca0.set i\uff0c0.rept 32 load_fp%i.set i\uff0ci+1.endr.set i\uff0c1.rept\u3002\n\u6211\u4eec\u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u662f\u6dfb\u52a01&lt\uff1b&lt\uff1b13\uff0c\u5b83\u5c06FS\u4f4d\u8bbe\u7f6e\u4e3a01\uff0c\u8fd9\u662f\u521d\u59cb\u72b6\u6001\u3002\u4e0eMPP(\u8ba1\u7b97\u673a\u4e0a\u4e00\u7ea7\u6743\u9650)\u4e0d\u540c\uff0c\u8fd9\u4f1a\u7acb\u5373\u751f\u6548\u3002\u7136\u540e\uff0c\u6211\u4eec\u4eceTrapFrame\u7ed3\u6784\u6062\u590d\u5bc4\u5b58\u5668\u3002\u65b9\u4fbf\u7684\u662f\uff0c\u8fd9\u9075\u5faa32\u4e2a\u901a\u7528\u6574\u6570\u5bc4\u5b58\u5668\u3002\u60a8\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u7684\u5b8fLOAD_FP\u88ab\u5c55\u5f00\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff1a\n.altacro.set NUM_GP_REGS\uff0c32#\u6bcf\u4e2a\u4e0a\u4e0b\u6587\u7684\u5bc4\u5b58\u5668\u6570\u3002set REG_SIZE\uff0c8#\u5bc4\u5b58\u5668\u5927\u5c0f(\u5b57\u8282)\u3002\u5b8fLOAD_FP i\uff0cbasereg=T6 fld f\\i\uff0c((NUM_GP_REGS+(\\i))*REG_SIZE)(\\basereg).endm\n\u6211\u4eec\u8df3\u8fc7\\(8\\\u4e58\u4ee532=256\\)\u5b57\u8282\u4ee5\u904d\u5386\u6240\u670932\u4e2aGP\u5bc4\u5b58\u5668\u3002\u73b0\u5728\u6211\u4eec\u5230\u4e86\u6211\u4eec\u60f3\u8981\u7684\u6536\u94f6\u53f0\u4e86\u3002\u5c31\u50cfld\u5c06\u5185\u5b58\u4f4d\u7f6e\u52a0\u8f7d\u5230\u901a\u7528\u5bc4\u5b58\u5668\u4e2d\u4e00\u6837\uff0cfld\u4e5f\u4f1a\u5c06\u5185\u5b58\u4f4d\u7f6e\u52a0\u8f7d\u5230\u6d6e\u70b9\u5bc4\u5b58\u5668\u4e2d\u3002\u8bb0\u4f4f\uff1a\u6b64\u65f6\u5fc5\u987b\u901a\u8fc7FS\u4f4d\u6253\u5f00FPU(\\(\\text{FS}\\NEQ 0\\))\u3002\n\u6211\u4eec\u4f7f\u7528FS\u4f4d\u4e0d\u4ec5\u7528\u6765\u63a7\u5236FPU\uff0c\u8fd8\u7528\u6765\u67e5\u770b\u53d1\u751f\u4e86\u4ec0\u4e48\u3002RISC-V\u7279\u6743\u89c4\u8303\u5efa\u8bae\u5728\u9677\u9631\u671f\u95f4\u5bf9FPU\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n\u6d6e\u70b9\u5355\u5143\u5177\u6709\u591a\u4e2a\u5f00/\u5173\u72b6\u6001\u7684\u539f\u56e0\u662f\uff0c\u5b83\u53ea\u5141\u8bb8\u6211\u4eec\u5728\u5bc4\u5b58\u5668\u53d1\u751f\u66f4\u6539\u65f6\u4fdd\u5b58\u5b83\u4eec\u3002\u5982\u679c\u7528\u6237\u8fdb\u7a0b\u4ece\u672a\u4f7f\u7528\u8fc7FPU\uff0c\u4e3a\u4ec0\u4e48\u8981\u4fdd\u5b58\u8fd9\u4e9b\u5bc4\u5b58\u5668\u5462\uff1f\u4f46\u662f\uff0c\u6d6e\u70b9\u5355\u5143\u7684\u7c92\u5ea6\u662f\u8fd9\u6837\u7684\uff0c\u5982\u679c32\u4e2a\u5bc4\u5b58\u5668\u4e2d\u53ea\u67091\u4e2a\u53d1\u751f\u66f4\u6539\uff0c\u6211\u4eec\u5fc5\u987b\u4fdd\u5b58\u6240\u670932\u4e2a\u5bc4\u5b58\u5668\u3002\n\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4ee3\u7801\u6765\u68c0\u67e5FPU\u7684\u72b6\u6001\uff0c\u4ee5\u786e\u5b9a\u662f\u5426\u9700\u8981\u4fdd\u5b58\u5bc4\u5b58\u5668\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bfb\u53d6FS\u4f4d\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff1a\ncsrr t1\uff0cmstatus srli t0\uff0ct1\uff0c13\u548ct0\uff0ct0\uff0c3 li t3\uff0c3 bne t0\uff0ct3\uff0c1f.set i\uff0c0.rept 32 save_fp%i\uff0ct5.set i\uff0ci+1.endr1\uff1a\n\u4e0a\u9762\uff0c\u6211\u4eec\u8bfb\u53d6mstatus\u5bc4\u5b58\u5668\uff0c\u5c06\u5176\u53f3\u79fb13\u4f4d\uff0c\u5e76\u75283(\u5373\u4e8c\u8fdb\u523611)\u5bf9\u5176\u8fdb\u884c\u63a9\u7801\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u9694\u79bb\u4e86FS\u4f4d(2\u4f4d)\uff0c\u4ee5\u4fbf\u6211\u4eec\u53ef\u4ee5\u8bfb\u53d6\u503c\u3002\u5982\u679c\u8fd9\u4e24\u4f4d\u4e0d\u662f11(\u56de\u60f3\u4e00\u4e0b\uff0c\u8fd9\u610f\u5473\u7740\u5bc4\u5b58\u5668\u88ab\u5199\u5165)\uff0c\u90a3\u4e48\u6211\u4eec\u8df3\u8fc7\u4fdd\u5b58\u6d6e\u70b9\u5bc4\u5b58\u5668\uff0c\u5411\u524d\u8df3\u5230\u6570\u5b57\u6807\u7b7e1(\u56e0\u6b64\u662f1f)\u3002\n#[repr(C)]#[\u6d3e\u751f(\u514b\u9686\uff0c\u590d\u5236)]pub struct TrapFrame{pub regs\uff1a[usize\uff1b32]\uff0c//0-255 pub fregs\uff1a[usize\uff1b32]\uff0c//256-511 pub satp\uff1ausize\uff0c//512-519 pub PC\uff1ausize\uff0c//520 pub hartid\uff1ausize\uff0c//528 pub qm\uff1ausize\uff0c//536 pub pid\uff1ausize\u3002\n\u6211\u4eec\u7684fregs(\u6d6e\u70b9\u5bc4\u5b58\u5668)\u9075\u5faa32\u4e2a\u901a\u7528\u5bc4\u5b58\u5668\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u552f\u4e00\u9700\u8981\u505a\u7684\u6570\u5b66\u8fd0\u7b97\u662f\\(8\\\u4e58\u4ee532=256\\)\u3002\n\u8fd9\u771f\u662f\u592a\u68d2\u4e86\uff01\u6211\u4eec\u53ef\u4ee5\u5728\u5185\u6838\u4e2d\u4f7f\u7528\u6d6e\u70b9\u5355\u5143\uff0c\u524d\u63d0\u662f\u6211\u4eec\u5728\u4f7f\u7528\u4efb\u4f55\u5bc4\u5b58\u5668\u4e4b\u524d\u5c06\u5176\u6253\u5f00\u3002\u540c\u6837\uff0c\u5982\u679c\u6211\u4eec\u5728FS\u4f4d\u4e3a00\u65f6\u5c1d\u8bd5\u4f7f\u7528FPU\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u4e00\u4e2a\u9677\u9631\u3002", "note_en": "This is an article in the larger tutorial  The Adventures of OS: Making a RISC-V Operating System using Rust.\n Up until now, we\u2019ve only been using the integer instructions. However, now that we want to support user processes, we must be able to support the hardware floating-point unit (FPU). In RISC-V, this is fairly simple, but it can lead to some trouble if we\u2019re not careful.\n First, the floating-point unit must be controlled through the  mstatus register\u2013more specifically the FS bits (bits 14 and 13).\n   Recall that we used this register to change processor modes (MPP). However, now we care about this register to control the floating point unit. These two bits support four different states of the floating point unit:\n  If we try to load or store (fld or fsd) a floating point register while the FPU is off, it will trap to the operating system. So, we need to make sure we have the floating point unit turned on and ready to go before we do any work with it. We can add a bit in the switch_to_user function we wrote to turn on the FPU into the initial state whenever we context switch to another process.\n .global switch_to_userswitch_to_user: csrw mscratch, a0 ld a1, 520(a0) ld\ta2, 512(a0) ld\ta3, 552(a0) li\tt0, 1 &lt;&lt; 7 | 1 &lt;&lt; 5 | 1 &lt;&lt; 13 slli a3, a3, 11 or t0, t0, a3 csrw mstatus, t0 csrw mepc, a1 csrw satp, a2 li t1, 0xaaa csrw mie, t1 la t2, m_trap_vector csrw mtvec, t2 mv t6, a0 .set i, 0 .rept 32 load_fp %i .set i, i+1 .endr .set i, 1 .rept 31 load_gp %i, t6 .set i, i+1 .endr mret\n The first thing we do is tack on 1 &lt;&lt; 13, which sets the FS bits to 01, which is the initial state. Unlike MPP (machine previous privilege), this immediately takes effect. Then, we restore the registers from the TrapFrame structure. Conveniently, this follows the 32 general purpose, integer registers. You can see our macro load_fp gets expanded to the following:\n .altmacro.set NUM_GP_REGS, 32 # Number of registers per context.set REG_SIZE, 8 # Register size (in bytes).macro load_fp i, basereg=t6\tfld\tf\\i, ((NUM_GP_REGS+(\\i))*REG_SIZE)(\\basereg).endm\n We skip \\(8\\times 32=256\\) bytes to get through all 32 of the GP registers. Now we\u2019re at the register we want. Just like ld loads a memory location into a general purpose register, fld will load a memory location into a floating point register. REMEMEBER: the FPU must be turned on (\\(\\text{FS}\\neq 0\\)) at this point via the FS bits.\n  We use the FS bits to not only control the FPU, but to also see what happened. The RISC-V privileged specification recommends the following for the FPU during traps:\n   The reason the floating-point unit has more than an on/off state is because it allows us to only save the registers if they\u2019ve changed. If the user process never even used the FPU, why save those registers? However, the granularity of the floating point unit is such that if only 1 of the 32 registers changes, we have to save all 32 of them.\n So, we need to add code that checks the state of the FPU to see if we need to save the registers. We can do this by reading the FS bit:\n csrr t1, mstatus srli t0, t1, 13 andi t0, t0, 3 li t3, 3 bne t0, t3, 1f .set i, 0 .rept 32 save_fp %i, t5 .set i, i+1 .endr1:\n Above, we read the mstatus register, shift it right 13 places and mask it with 3, which is binary 11. This means we isolate the FS bits (2 bits) so we can read what the value is. If these two bits are NOT 11 (recall this means the registers were written to), then we skip saving the floating point registers and jump to the numeric label 1 forward (hence 1f).\n  #[repr(C)]#[derive(Clone, Copy)]pub struct TrapFrame { pub regs: [usize; 32], // 0 - 255 pub fregs: [usize; 32], // 256 - 511 pub satp: usize, // 512 - 519 pub pc: usize, // 520 pub hartid: usize, // 528 pub qm: usize, // 536 pub pid: usize, // 544 pub mode: usize, // 552}\n Our fregs (floating-point registers) follow the 32 general purpose registers. So, the only math we need to do is \\(8\\times 32=256\\).\n This is really it! We can use the floating point unit in the kernel, provided we turn it on before we use any of the registers. Again, if we try to use the FPU while the FS bits are 00, we will get a trap.", "posttime": "2020-06-23 07:31:43", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u786c\u4ef6,floating,\u5bc4\u5b58\u5668", "title": "\u786c\u4ef6\u6d6e\u70b9", "title_en": "Hardware Floating Point", "transed": 1, "url": "https://blog.stephenmarz.com/2020/06/14/hardware-floating-point/", "via": "", "real_tags": ["\u786c\u4ef6", "floating", "\u5bc4\u5b58\u5668"]}, {"category": "", "categoryclass": "", "imagename": "33a18801918edcde8133104495cff350.jpg", "infoid": 1007733, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u7f8e\u56fd\u6709\u7ebf\u7535\u89c6\u65b0\u95fb\u7f51(CNN)\u62a5\u9053\uff0c\u7279\u6717\u666e\u653f\u5e9c\u6b63\u5728\u63a8\u51fa\u4e00\u7cfb\u5217\u65b0\u7684\u7b7e\u8bc1\u9650\u5236\u63aa\u65bd\uff0c\u5141\u8bb8\u79fb\u6c11\u5728\u7f8e\u56fd\u4e34\u65f6\u5de5\u4f5c\uff0c\u8fd9\u6807\u5fd7\u7740\u963b\u6b62\u79fb\u6c11\u8fdb\u5165\u7f8e\u56fd\u7684\u6700\u65b0\u52aa\u529b\u3002\n\u5468\u4e00\uff0c\u4e00\u4f4d\u9ad8\u7ea7\u653f\u5e9c\u5b98\u5458\u544a\u8bc9\u8bb0\u8005\uff0c\u7531\u4e8e\u51a0\u72b6\u75c5\u6bd2\u5927\u6d41\u884c\u5bfc\u81f4\u7f8e\u56fd\u5931\u4e1a\u7387\u5c45\u9ad8\u4e0d\u4e0b\uff0c\u65b0\u7684\u9650\u5236\u63aa\u65bd\u662f\u5171\u540c\u52aa\u529b\u7684\u4e00\u90e8\u5206\uff0c\u76ee\u7684\u662f\u51cf\u5c11\u6d77\u5916\u4eba\u58eb\u83b7\u5f97\u7684\u7b7e\u8bc1\u3002\n\u4eca\u5e744\u6708\uff0c\u7279\u6717\u666e\u7b7e\u7f72\u4e86\u4e00\u9879\u79fb\u6c11\u516c\u544a\uff0c\u76ee\u6807\u662f\u5bfb\u6c42\u5408\u6cd5\u79fb\u6c11\u7f8e\u56fd\u7684\u7f8e\u56fd\u4ee5\u5916\u7684\u4eba\uff0c\u4f46\u4e5f\u6709\u4e00\u4e9b\u4f8b\u5916\u3002\u8fd9\u9879\u539f\u672c\u5c06\u5931\u6548\u7684\u547d\u4ee4\u5c06\u5ef6\u957f\u81f32020\u5e74\u5e95\uff0c\u5e76\u6269\u5927\u5230\u5305\u62ec\u4e00\u4e9b\u5ba2\u5de5\u7b7e\u8bc1\u3002\n\u8fd9\u4f4d\u5b98\u5458\u8bf4\uff0c\u9274\u4e8e\u5766\u7387\u5730\u8bf4\uff0c\u5931\u4e1a\u4eba\u6570\u4e0d\u65ad\u589e\u52a0\uff0c\u4ee5\u53ca\u7f8e\u56fd\u5931\u4e1a\u4eba\u6570\u7684\u589e\u52a0\uff0c\u603b\u7edf\u6b63\u5728\u6269\u5927\u8fd9\u4e00\u63aa\u65bd\u3002\n\u65b0\u7684\u7b7e\u8bc1\u5305\u62ec\u516c\u53f8\u5185\u90e8\u8c03\u52a8\u7684L-1\u7b7e\u8bc1\uff0c\u4e13\u4e1a\u804c\u4e1a\u5de5\u4eba\u7684H-1B\u7b7e\u8bc1\uff0c\u4ee5\u53ca\u914d\u5076\u7684H-4\u7b7e\u8bc1\uff0c\u4e34\u65f6\u975e\u519c\u4e1a\u5de5\u4eba\u7684H-2B\u7b7e\u8bc1\uff0c\u4ee5\u53ca\u5927\u591a\u6570\u4ea4\u6362\u6e38\u5ba2\u7684J-1\u7b7e\u8bc1\u3002\n\u4e0e4\u6708\u4efd\u7684\u547d\u4ee4\u4e00\u6837\uff0c\u6700\u65b0\u7684\u516c\u544a\u53ea\u9002\u7528\u4e8e\u7f8e\u56fd\u4ee5\u5916\u7684\u4eba\u3002\u5b83\u4e0d\u9002\u7528\u4e8e\u5408\u6cd5\u6c38\u4e45\u5c45\u6c11\u3001\u7f8e\u56fd\u516c\u6c11\u7684\u914d\u5076\u6216\u5b50\u5973\u3001\u5728\u98df\u54c1\u4f9b\u5e94\u94fe\u4e2d\u5de5\u4f5c\u7684\u4e2a\u4eba\u4ee5\u53ca\u5176\u5165\u5883\u5c06\u7b26\u5408\u56fd\u5bb6\u5229\u76ca\u7684\u4e2a\u4eba\u3002\n\u56fd\u571f\u5b89\u5168\u90e8\u8fd8\u53d1\u5e03\u4e86\u4e00\u9879\u89c4\u5b9a\uff0c\u7981\u6b62\u5927\u591a\u6570\u5bfb\u6c42\u907f\u96be\u8005\u83b7\u5f97\u5de5\u4f5c\u8bb8\u53ef\uff0c\u8fd9\u4e3a\u90a3\u4e9b\u5728\u7f8e\u56fd\u5bfb\u6c42\u907f\u96be\u7684\u4eba\u589e\u52a0\u4e86\u53e6\u4e00\u4e2a\u969c\u788d\u3002\u8fd9\u9879\u89c4\u5b9a\u6700\u521d\u662f\u5728\u53bb\u5e7411\u6708\u63d0\u51fa\u7684\u3002\n\u7f8e\u56fd\u6709\u7ebf\u7535\u89c6\u65b0\u95fb\u7f51(CNN)\u6b64\u524d\u62a5\u9053\uff0c\u63a8\u52a8\u9650\u5236\u79fb\u6c11\u7684\u5173\u952e\u4eba\u7269\u4e4b\u4e00\u662f\u65af\u8482\u82ac\u00b7\u7c73\u52d2(Stephen Miller)\uff0c\u4ed6\u662f\u7279\u6717\u666e\u7684\u9996\u5e2d\u79fb\u6c11\u987e\u95ee\uff0c\u4e5f\u662f\u603b\u7edf\u5f3a\u786c\u6d3e\u79fb\u6c11\u8bae\u7a0b\u7684\u8bbe\u8ba1\u5e08\u3002\n\u4ee5\u5927\u6d41\u884c\u4e3a\u7531\uff0c\u653f\u5e9c\u63a8\u52a8\u4e86\u4e00\u7cfb\u5217\u79fb\u6c11\u63aa\u65bd\uff0c\u8fd9\u4e9b\u63aa\u65bd\u5728\u51a0\u72b6\u75c5\u6bd2\u4e4b\u524d\u4e00\u76f4\u96be\u4ee5\u7a81\u7834\u3002\u8fd9\u4e9b\u53d8\u5316\u4e4b\u4e00\u662f\u5173\u95ed\u5357\u90e8\u8fb9\u5883\uff0c\u7981\u6b62\u79fb\u6c11\uff0c\u5305\u62ec\u90a3\u4e9b\u5bfb\u6c42\u5e87\u62a4\u7684\u79fb\u6c11\uff0c\u9664\u975e\u6ee1\u8db3\u67d0\u4e9b\u6761\u4ef6\u3002\n\u57284\u6708\u4efd\u603b\u7edf\u53d1\u8868\u58f0\u660e\u540e\uff0c\u7c73\u52d2\u5c06\u8fd9\u4e00\u4e3e\u63aa\u4f5c\u4e3a\u51cf\u5c11\u79fb\u6c11\u6d8c\u5165\u7f8e\u56fd\u7684\u7b2c\u4e00\u6b65\u3002\n\u5468\u4e00\uff0c\u653f\u5e9c\u5728\u89e3\u91ca\u6700\u65b0\u7684\u79fb\u6c11\u884c\u52a8\u65f6\u518d\u6b21\u63d0\u51fa\u4e86\u7ecf\u6d4e\u8bba\u70b9\u3002\u867d\u7136\u7279\u6717\u666e\u5439\u6367\u6700\u8fd1\u7684\u5c31\u4e1a\u6570\u636e\uff0c\u4f46\u5931\u4e1a\u7387\u4ecd\u7136\u5f88\u9ad8-\u5c3d\u7ba1\u4f01\u4e1a\u5728\u7ed9\u603b\u7edf\u7684\u4e00\u7cfb\u5217\u4fe1\u4e2d\u8868\u793a\uff0c\u6301\u7eed\u7684\u79fb\u6c11\u5bf9\u7ecf\u6d4e\u590d\u82cf\u5f88\u91cd\u8981\u3002\n\u7f8e\u56fd\u79fb\u6c11\u5f8b\u5e08\u534f\u4f1a\u653f\u5e9c\u5173\u7cfb\u90e8\u4e3b\u4efb\u683c\u96f7\u683c\u00b7\u9648(Greg Chen)\u6b64\u524d\u544a\u8bc9CNN\uff0c\u4ed6\u4e3a\u4ec0\u4e48\u8981\u524a\u51cf\u6709\u52a9\u4e8e\u7ecf\u6d4e\u590d\u82cf\u7684\u5173\u952e\u52b3\u52a8\u529b\uff1f&34\uff1b\u7f8e\u56fd\u79fb\u6c11\u5f8b\u5e08\u534f\u4f1a\u653f\u5e9c\u5173\u7cfb\u4e3b\u4efb\u683c\u96f7\u683c\u00b7\u9648(Greg Chen)\u6b64\u524d\u544a\u8bc9CNN\u3002\n\u672c\u6708\u65e9\u4e9b\u65f6\u5019\uff0c\u4e00\u4e2a\u79d1\u6280\u8d38\u6613\u7ec4\u7ec7\u5199\u4fe1\u7ed9\u7279\u6717\u666e\uff0c\u8fa9\u79f0\u5728\u5168\u7403\u516c\u5171\u536b\u751f\u5371\u673a\u4e2d\uff0c\u975e\u79fb\u6c11\u7b7e\u8bc1\u4e00\u76f4\u662f\u7ef4\u6301\u7ecf\u6d4e\u7684\u5173\u952e\u3002\n\u4fe1\u606f\u6280\u672f\u4ea7\u4e1a\u7406\u4e8b\u4f1a\u5199\u9053\uff0c\u7f8e\u56fd\u5728\u5916\u56fd\u51fa\u751f\u7684\u52b3\u52a8\u529b\u4f7f\u8bb8\u591a\u7f8e\u56fd\u4eba\u80fd\u591f\u5728\u65b0\u51a0\u80ba\u708e\u75ab\u60c5\u671f\u95f4\u7ee7\u7eed\u8fdc\u7a0b\u5de5\u4f5c\uff0c\u5e76\u6b63\u5728\u53d1\u6325\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528\u3002\u8ba9\u4f01\u4e1a\u5b89\u5168\u8fd0\u8425\uff0c\u8ba9\u4eba\u4eec\u4fdd\u6301\u8054\u7cfb\u3002&#34\uff1b\n\u4f46\u6279\u8bc4\u4eba\u58eb\u8ba4\u4e3a\uff0cH-1B\u8ba1\u5212\u4e2d\u7684\u7f3a\u9677\u5df2\u7ecf\u8ba9\u4f4d\u4e8e\u5b83\u7684\u5229\u7528\u3002\u4e3a\u6b64\uff0c\u4e00\u540d\u9ad8\u7ea7\u653f\u5e9c\u5b98\u5458\u5468\u4e00\u8868\u793a\uff0c\u52b3\u5de5\u90e8\u5df2\u63a5\u5230\u7279\u6717\u666e\u7684\u6307\u793a\uff0c\u8c03\u67e5\u4e0e\u7b7e\u8bc1\u6709\u5173\u7684\u6ee5\u7528\u884c\u4e3a\u3002\n\u8fd9\u4f4d\u5b98\u5458\u8868\u793a\uff0cH1B(\u6682\u505c\u7b7e\u8bc1)\u662f\u603b\u7edf\u4eca\u5929\u5728\u884c\u653f\u547d\u4ee4\u4e2d\u91c7\u53d6\u7684\u4e34\u65f6\u884c\u52a8\uff0c\u4ed6\u6307\u793a\u6211\u4eec\u91c7\u53d6\u7684\u66f4\u6301\u4e45\u7684\u884c\u52a8\u5305\u62ec\u6539\u9769H1B\u5236\u5ea6\uff0c\u671d\u7740\u66f4\u6ce8\u91cd\u529f\u7ee9\u7684\u5236\u5ea6\u65b9\u5411\u53d1\u5c55\u3002\n\u534e\u76db\u987f\u7279\u533a\u667a\u5e93\u79fb\u6c11\u653f\u7b56\u7814\u7a76\u6240(Migration Policy Institute)\u4f30\u8ba1\uff0c\u65b0\u7684\u9650\u5236\u5c06\u963b\u6b6221.9\u4e07\u540d\u4e34\u65f6\u5de5\u3002\n\u5728\u5ba3\u5e03\u8fd9\u4e00\u6d88\u606f\u540e\u4e0d\u4e45\uff0c\u56fd\u571f\u5b89\u5168\u90e8\u53d1\u5e03\u4e86\u4e00\u9879\u89c4\u5b9a\uff0c\u7981\u6b62\u975e\u6cd5\u8d8a\u5883\u7684\u5bfb\u6c42\u5e87\u62a4\u8005\u83b7\u5f97\u5de5\u4f5c\u6388\u6743\uff0c\u4f46\u6709\u4e00\u4e9b\u4f8b\u5916\uff0c\u5e76\u63a8\u8fdf\u53d1\u653e\u8bb8\u53ef\u7684\u65f6\u95f4\u3002\n\u7f8e\u56fd\u79fb\u6c11\u7406\u4e8b\u4f1a\u653f\u7b56\u987e\u95ee\u4e9a\u4f26\u00b7\u8d56\u514b\u6797-\u6885\u5c14\u5c3c\u514b(Aaron Reichlin-Melnick)\u8868\u793a\uff0c\u5b83\u5c06\u8981\u6c42\u5927\u591a\u6570\u5bfb\u6c42\u5e87\u62a4\u8005\u4f9d\u9760\u6148\u5584\u6216\u6697\u4e2d\u5de5\u4f5c\u6765\u751f\u5b58\u3002\u4ed6\u6307\u51fa\uff0c\u5728\u53e6\u4e00\u9879\u62df\u8bae\u4e2d\u7684\u5e87\u62a4\u89c4\u5219\u4e2d\uff0c\u4e0d\u62a5\u544a\u6536\u5165\u53ef\u80fd\u4f1a\u88ab\u7528\u6765\u53cd\u5bf9\u4e2a\u4eba\u3002\n\u8fd9\u9879\u5c06\u4e8e\u4eca\u5e74\u590f\u5929\u665a\u4e9b\u65f6\u5019\u751f\u6548\u7684\u89c4\u5b9a\uff0c\u5c06\u5f71\u54cd\u6570\u4ee5\u5343\u8ba1\u5728\u7f8e\u56fd\u5bfb\u6c42\u5e87\u62a4\u7684\u79fb\u6c11\uff0c\u4ed6\u4eec\u5728\u79fb\u6c11\u6cd5\u5ead\u5ba1\u7406\u6848\u4ef6\u65f6\uff0c\u4f9d\u9760\u5de5\u4f5c\u8bb8\u53ef\u7ef4\u6301\u81ea\u5df1\u7684\u751f\u8ba1-\u8fd9\u4e00\u8fc7\u7a0b\u53ef\u80fd\u9700\u8981\u51e0\u4e2a\u6708\uff0c\u5982\u679c\u4e0d\u662f\u51e0\u5e74\u7684\u8bdd\u3002", "note_en": "(CNN)The Trump administration is introducing a series of new restrictions on visas that allow immigrants to temporarily work in the United States, marking the latest effort to bar the entry of immigrants to the country.\n The new limits are part of a concerted effort to roll back the visas available to people overseas as a result of high unemployment in the US resulting from  the coronavirus pandemic, a senior administration official told reporters Monday.\n In April, Trump  signed an immigration proclamation targeting people outside of the US seeking to legally migrate to the US, with some exceptions. That order, which was set to lapse, will be extended until the end of 2020 and expanded to include some guest worker visas.\n    &#34;The President is expanding that measure in light of the frankly, the expanding unemployment, and the number of Americans who are out of work,&#34; the official said.\n The new visas included are L-1 visas for intracompany transfers, H-1Bs for workers in specialty occupations as well as the H-4 visa for spouses, H-2Bs for temporary non-agricultural workers and most J-1 visas for exchange visitors.\n  Like the April order, the latest proclamation only applies to people outside the US. It doesn&#39;t apply to lawful permanent residents, spouses or children of a US citizen, individuals working in the food supply chain and individuals &#34;whose entry would be in the national interest.&#34;\n  The Department of Homeland Security also released a regulation that would bar most asylum seekers from obtaining work permits -- adding yet another hurdle for those seeking refuge in the United States. The rule was  initially proposed last November.\n CNN  previously reported one of the key figures behind the push to limit immigration is Stephen Miller, Trump&#39;s lead immigration adviser and the architect of the President&#39;s hardline immigration agenda.\n Citing the pandemic, the administration has pressed forward with a series of immigration measures that, prior to coronavirus, had struggled to break through. Among those changes is the closure of the southern border to migrants, including those seeking asylum, unless certain conditions are met.\n After the  President&#39;s April proclamation, Miller cast the move as a first step toward reducing the flow of immigrants coming into the United States.\n The administration raised the economic argument again on Monday in explaining the latest immigration action. While Trump has touted recent job numbers, unemployment numbers remain high -- though businesses have said in a series of letters to the President that continued immigration is important for economic recovery.\n &#34;Why would he want to cut off critical workforce that will help the economy recover?&#34; Greg Chen, director of government relations for the American Immigration Lawyers Association, previously told CNN.\n Earlier this month, a technology trade group wrote to Trump arguing that non-immigrant visas have been key to sustaining the economy in the midst of a global public health crisis.\n America&#39;s foreign-born workforce, wrote the Information Technology Industry Council, &#34;is enabling many Americans to continue to work remotely during the COVID-19 pandemic, and is playing an essential role ... to keep businesses running securely and people connected.&#34;\n  But critics argue that flaws in the H-1B program have given way to its exploitation. To that end, a senior administration official said Monday that the Department of Labor has been instructed by Trump to &#34;investigate abuses&#34; as they relate to that visa.\n &#34;The H1Bs, the pause on visas, is the temporary action in the President&#39;s action today in the executive order, the more permanent action that he&#39;s directing us to take include reforming the H1B system to move in a direction of a more merit-based system,&#34; the official said.\n The Migration Policy Institute, a think tank in Washington, DC,  estimated that the new restrictions would block 219,000 temporary workers.\n Shortly after the announcement, DHS  released a regulation that would ban asylum seekers who illegally cross the border from obtaining work authorization, with some exception, and delay when permits can be granted.\n &#34;It&#39;ll require most asylum seekers to rely on charity or work under the table to survive,&#34; said Aaron Reichlin-Melnick, policy counsel at the American Immigration Council, noting that not reporting income could be used against an individual in a separate proposed asylum rule.\n   The rule, which will take effect later this summer, stands to affect thousands of migrants seeking asylum in the United States who depend on work permits to sustain themselves while their cases work their way through the immigration courts -- a process that can take months, if not years.", "posttime": "2020-06-23 07:30:43", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "2020,\u7b7e\u8bc1,extends,\u79fb\u6c11", "title": "\u7279\u6717\u666e\u5c06\u4e00\u4e9b\u5de5\u4f5c\u7b7e\u8bc1\u7684\u9650\u5236\u5ef6\u957f\u81f32020\u5e74", "title_en": "Trump extends limits on some work visas through 2020", "transed": 1, "url": "https://www.cnn.com/2020/06/22/politics/trump-immigration-work-visas/index.html", "via": "", "real_tags": ["2020", "\u7b7e\u8bc1", "extends", "\u79fb\u6c11"]}, {"category": "", "categoryclass": "", "imagename": "1e35d2eebab052da2e12dca8845fdf14.jpg", "infoid": 1007732, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u7814\u7a76\u4eba\u5458\u5468\u4e00\u62a5\u9053\uff0c\u9ed1\u5ba2\u6ee5\u7528Google Analytics\uff0c\u4ee5\u4fbf\u66f4\u79d8\u5bc6\u5730\u4ece\u53d7\u611f\u67d3\u7684\u7535\u5546\u7f51\u7ad9\u4e2d\u7a83\u53d6\u88ab\u76d7\u7684\u4fe1\u7528\u5361\u6570\u636e\u3002\n\u652f\u4ed8\u5361\u63a0\u593a\u8fc7\u53bb\u53ea\u6307\u611f\u67d3\u5b9e\u4f53\u5e97\u9500\u552e\u70b9\u673a\u5668\u7684\u505a\u6cd5\u3002\u6076\u610f\u8f6f\u4ef6\u4f1a\u63d0\u53d6\u4fe1\u7528\u5361\u53f7\u7801\u548c\u5176\u4ed6\u6570\u636e\u3002\u7136\u540e\uff0c\u653b\u51fb\u8005\u4f1a\u4f7f\u7528\u6216\u51fa\u552e\u7a83\u53d6\u7684\u4fe1\u606f\uff0c\u4ee5\u4fbf\u5c06\u5176\u7528\u4e8e\u652f\u4ed8\u5361\u8bc8\u9a97\u3002\n\u6700\u8fd1\uff0c\u5728\u9ed1\u5ba2\u653b\u7834\u7535\u5546\u7f51\u7ad9\u4e4b\u540e\uff0c\u8fd9\u7c7b\u653b\u51fb\u5df2\u7ecf\u6269\u5927\u5230\u9488\u5bf9\u7535\u5546\u7f51\u7ad9\u7684\u653b\u51fb\u3002\u9ed1\u5ba2\u5229\u7528\u4ed6\u4eec\u83b7\u5f97\u7684\u63a7\u5236\u6743\u5b89\u88c5\u672a\u7ecf\u6388\u6743\u7684\u4ee3\u7801\uff0c\u8fd9\u4e9b\u4ee3\u7801\u6df1\u5165\u540e\u7aef\u7cfb\u7edf\uff0c\u5728\u5728\u7ebf\u4ea4\u6613\u671f\u95f4\u63a5\u6536\u548c\u5904\u7406\u652f\u4ed8\u5361\u6570\u636e\u3002\u7136\u540e\uff0c\u6076\u610f\u4ee3\u7801\u590d\u5236\u6570\u636e\u3002\n\u6210\u529f\u5b9e\u65bd\u9ed1\u5ba2\u653b\u51fb\u7684\u4e00\u4e2a\u6311\u6218\u662f\u7ed5\u8fc7\u7f51\u7ad9\u5b89\u5168\u7b56\u7565\uff0c\u6216\u8005\u9690\u85cf\u5b89\u88c5\u5728\u53d7\u611f\u67d3\u7f51\u7edc\u4e0a\u7684\u7aef\u70b9\u5b89\u5168\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5927\u91cf\u654f\u611f\u6570\u636e\u7684\u5916\u6cc4\u3002\u5361\u5df4\u65af\u57fa\u5b9e\u9a8c\u5ba4\u7684\u7814\u7a76\u4eba\u5458\u5468\u4e00\u8868\u793a\uff0c\u4ed6\u4eec\u6700\u8fd1\u89c2\u5bdf\u5230\u4e86\u5927\u7ea624\u4e2a\u53d7\u611f\u67d3\u7684\u5730\u70b9\uff0c\u8fd9\u4e9b\u5730\u70b9\u627e\u5230\u4e86\u4e00\u79cd\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u7684\u65b0\u65b9\u6cd5\u3002\u800c\u4e0d\u662f\u53d1\u9001\u5230\u653b\u51fb\u8005\u63a7\u5236\u7684\u670d\u52a1\u5668\uff0c\u653b\u51fb\u8005\u5c06\u5176\u53d1\u9001\u5230\u4ed6\u4eec\u63a7\u5236\u7684Google Analytics\u5e10\u6237\u3002\u7531\u4e8e\u8c37\u6b4c\u670d\u52a1\u7684\u4f7f\u7528\u5982\u6b64\u5e7f\u6cdb\uff0c\u7535\u5b50\u5546\u52a1\u7f51\u7ad9\u7684\u5b89\u5168\u653f\u7b56\u901a\u5e38\u5b8c\u5168\u4fe1\u4efb\u5b83\u6765\u63a5\u6536\u6570\u636e\u3002\n\u5361\u5df4\u65af\u57fa\u5b9e\u9a8c\u5ba4\u7814\u7a76\u5458Victoria Vlasova\u5728\u8fd9\u91cc\u5199\u9053\uff1a\u201cGoogle Analytics\u662f\u4e00\u9879\u975e\u5e38\u53d7\u6b22\u8fce\u7684\u670d\u52a1(\u6839\u636eBuiltWith\u7684\u6570\u636e\uff0c\u57282900\u4e07\u4e2a\u7f51\u7ad9\u4e0a\u4f7f\u7528)\uff0c\u5e76\u53d7\u5230\u7528\u6237\u7684\u76f2\u76ee\u4fe1\u4efb\u3002\u201d\u201c\u7ba1\u7406\u5458\u5c06*.google-analytics.com\u5199\u5165Content-Security-Policy\u6807\u5934(\u7528\u4e8e\u5217\u51fa\u53ef\u4ece\u4e2d\u4e0b\u8f7d\u7b2c\u4e09\u65b9\u4ee3\u7801\u7684\u8d44\u6e90)\uff0c\u4ece\u800c\u5141\u8bb8\u670d\u52a1\u6536\u96c6\u6570\u636e\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u65e0\u9700\u4ece\u5916\u90e8\u6765\u6e90\u4e0b\u8f7d\u4ee3\u7801\u5373\u53ef\u5b9e\u65bd\u653b\u51fb\u3002\u201c\u3002\n\u8fd9\u4f4d\u7814\u7a76\u4eba\u5458\u8865\u5145\u8bf4\uff1a\u201c\u8981\u83b7\u53d6\u4f7f\u7528\u8c37\u6b4c\u5206\u6790\u7684\u8bbf\u95ee\u8005\u7684\u6570\u636e\uff0c\u7f51\u7ad9\u6240\u6709\u8005\u5fc5\u987b\u5728analytics.google.com\u4e0a\u7684\u8d26\u6237\u4e2d\u914d\u7f6e\u8ddf\u8e2a\u53c2\u6570\uff0c\u83b7\u53d6\u8ddf\u8e2aID(trackingId\uff0c\u7c7b\u4f3c\u4e8eUA-XXXX-Y\u7684\u5b57\u7b26\u4e32)\uff0c\u5e76\u5c06\u5176\u4e0e\u8ddf\u8e2a\u4ee3\u7801(\u4e00\u6bb5\u7279\u6b8a\u4ee3\u7801)\u4e00\u8d77\u63d2\u5165\u7f51\u9875\u3002\u51e0\u4e2a\u8ddf\u8e2a\u7801\u53ef\u80fd\u4f1a\u5728\u4e00\u4e2a\u7f51\u7ad9\u4e0a\u76f8\u4e92\u78b0\u649e\uff0c\u5c06\u8bbf\u95ee\u8005\u7684\u6570\u636e\u53d1\u9001\u5230\u4e0d\u540c\u7684Analytics\u8d26\u6237\u3002\n\u201cUA-XXXX-Y\u201d\u6307\u7684\u662fGoogle Analytics\u7528\u6765\u533a\u5206\u5e10\u6237\u7684\u8ddf\u8e2aID\u3002\u5982\u4e0b\u9762\u7684\u5c4f\u5e55\u622a\u56fe\u6240\u793a\uff0c\u663e\u793a\u4e86\u53d7\u611f\u67d3\u7ad9\u70b9\u4e0a\u7684\u6076\u610f\u4ee3\u7801\uff0cID(\u5e26\u4e0b\u5212\u7ebf\u7684)\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u4e0e\u5408\u6cd5\u4ee3\u7801\u6df7\u5408\u5728\u4e00\u8d77\u3002\n\u8c37\u6b4c\u4ee3\u8868\u6ca1\u6709\u56de\u590d\u5bfb\u6c42\u5bf9\u8fd9\u7bc7\u62a5\u9053\u53d1\u8868\u8bc4\u8bba\u7684\u7535\u5b50\u90ae\u4ef6\uff0c\u5e76\u8be2\u95ee\u8c37\u6b4c\u5206\u6790\u516c\u53f8\u662f\u5426\u6709\u9632\u6b62\u6b64\u7c7b\u6ee5\u7528\u7684\u63aa\u65bd\u3002\n\u653b\u51fb\u8005\u4f7f\u7528\u5176\u4ed6\u6280\u672f\u6765\u4fdd\u6301\u9690\u853d\u6027\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u8f93\u5165\u652f\u4ed8\u5361\u6570\u636e\u7684\u4eba\u6253\u5f00\u4e86\u5176\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u8005\u6a21\u5f0f\uff0c\u5219\u53d6\u6d88\u6570\u636e\u8679\u5438\u3002\u7531\u4e8e\u5b89\u5168\u7814\u7a76\u4eba\u5458\u7ecf\u5e38\u4f7f\u7528\u5f00\u53d1\u8005\u6a21\u5f0f\u6765\u68c0\u6d4b\u6b64\u7c7b\u653b\u51fb\uff0c\u56e0\u6b64\u9ed1\u5ba2\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\u653e\u5f03\u4e86\u6570\u636e\u7a83\u53d6\u3002\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7a0b\u5e8f\u8c03\u8bd5\u65b9\u6cd5\u6765\u9690\u85cf\u6076\u610f\u6d3b\u52a8\u3002\n\u5728\u7f51\u7ad9\u4e0a\u6d4f\u89c8\u652f\u4ed8\u5361\u4ecd\u7136\u662f\u4e00\u4e2a\u95ee\u9898\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u90a3\u4e9b\u5411\u89c4\u6a21\u8f83\u5c0f\u7684\u5728\u7ebf\u5546\u5bb6\u8d2d\u7269\u7684\u4eba\u6765\u8bf4\uff0c\u8fd9\u4e9b\u5546\u5bb6\u6ca1\u6709\u8db3\u591f\u6ce8\u610f\u4fdd\u62a4\u4ed6\u4eec\u7684\u7cfb\u7edf\u3002\u4e5f\u6709\u4e00\u4e9b\u503c\u5f97\u6ce8\u610f\u7684\u4f8b\u5916\uff0c\u4f46\u4e00\u822c\u6765\u8bf4\uff0c\u8f83\u5927\u7684\u7f51\u7ad9\u4e0d\u592a\u5bb9\u6613\u53d7\u5230\u8fd9\u7c7b\u9ed1\u5ba2\u653b\u51fb\u3002\n\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4e0d\u662f\u6240\u6709\u60c5\u51b5\u4e0b\uff0c\u7ec8\u7aef\u7528\u6237\u4e0d\u53ef\u80fd\u7528\u8089\u773c\u68c0\u6d4b\u5230\u4fe1\u7528\u5361\u7684\u63a0\u593a\u3002\u7136\u800c\uff0c\u5927\u591a\u6570\u9632\u75c5\u6bd2\u4ea7\u54c1\u53ef\u4ee5\u6355\u83b7\u6240\u6709\u6216\u5927\u90e8\u5206\u6b64\u7c7b\u653b\u51fb\u3002\u5728\u6253\u5f00\u5f00\u53d1\u8005\u6a21\u5f0f\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5728\u7ebf\u8d2d\u7269\u4e0d\u4f1a\u6709\u4ec0\u4e48\u574f\u5904\uff0c\u800c\u4e14\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u4f1a\u6709\u6240\u5e2e\u52a9\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u6700\u597d\u7684\u9632\u5fa1\u63aa\u65bd\u662f\u5b9a\u671f\u4ed4\u7ec6\u5ba1\u67e5\u672a\u7ecf\u6388\u6743\u8d2d\u4e70\u548c\u6307\u63a7\u7684\u58f0\u660e\u3002", "note_en": "Hackers are abusing Google Analytics so that they can more covertly siphon stolen credit card data out of infected ecommerce sites, researchers reported on Monday.\n Payment card skimming used to refer solely to the practice of infecting point-of-sale machines in brick-and-mortar stores. The malware would extract credit card numbers and other data. Attackers would then use or sell the stolen information so it could be used in payment card fraud.\n More recently, these sorts of attacks have expanded to use against ecommerce sites after hackers have compromised them. Hackers use the control they gain to  install unauthorized code that  runs deep inside the back-end system that receives and processes payment card date during an online transaction. The malicious code then  copies the data.\n  One challenge in pulling off the hack is bypassing website security policies or concealing the exfiltration of massive amounts of sensitive data from endpoint security applications installed on the infected network. Researchers from Kaspersky Lab on Monday said that they have recently observed about two dozen infected sites that found a novel way to achieve this. Instead of sending it to attacker-controlled servers, the attackers send it to Google Analytics accounts they control. Since the Google service is so widely used, ecommerce site security policies generally fully trust it to receive data.\n \u201cGoogle Analytics is an extremely popular service (used on more than  29 million sites, according to BuiltWith) and is blindly trusted by users,\u201d Kaspersky Lab researcher Victoria Vlasova  wrote here. \u201cAdministrators write *.google-analytics.com into the Content-Security-Policy header (used for listing resources from which third-party code can be downloaded), allowing the service to collect data. What\u2019s more, the attack can be implemented without downloading code from external sources.\u201d\n The researcher added: \u201cTo harvest data about visitors using Google Analytics, the site owner must configure the tracking parameters in their account on analytics.google.com, get the tracking ID (trackingId, a string like this: UA-XXXX-Y), and insert it into the web pages together with the tracking code (a special snippet of code). Several tracking codes can rub shoulders on one site, sending data about visitors to different Analytics accounts.\u201d\n The \u201cUA-XXXX-Y\u201d refers to the  tracking ID that Google Analytics uses to tell one account from another. As demonstrated in the following screenshot, showing malicious code on an infected site, the IDs (underlined) can easily blend in with legitimate code.\n Google representatives didn\u2019t respond to an email seeking comment for this story and asking if Google Analytics has measures to prevent this sort of abuse.\n  The attackers use other techniques to remain stealthy. In some cases, the data siphoning is canceled if the person entering the payment card data has the developer mode of their browser turned on. Because security researchers often used developer mode to detect such attacks, the hackers forgo the data theft in these cases. In other cases, the attackers use program debugging methods to conceal the malicious activity.\n Payment card skimming on websites has remained a problem, particularly for people shopping with smaller online merchants who don\u2019t pay enough attention to securing their systems. There are some  notable  exceptions, but generally larger sites are less prone to these sorts of hacks.\n In most if not all cases, it\u2019s impossible for end users to detect credit card skimming with the naked eye. Most antivirus products, however, will catch all or most such attacks. Making online purchases with developer mode turned on can\u2019t hurt and can help in many cases. Other than that, the best defense is to regularly and carefully scrutinize statements for unauthorized purchases and charges.", "posttime": "2020-06-23 07:13:33", "source_domain": "slashdot.org", "source_name": "slashdot", "tags": "google,\u8c37\u6b4c,\u6ee5\u7528,abuse,\u6570\u636e", "title": "\u9a97\u5b50\u6ee5\u7528\u8c37\u6b4c\u5206\u6790\u9690\u7792\u652f\u4ed8\u5361\u6570\u636e\u88ab\u76d7", "title_en": "Crooks Abuse Google Analytics To Conceal Theft of Payment Card Data", "transed": 1, "url": "https://arstechnica.com/information-technology/2020/06/google-analytics-trick-allows-crooks-to-hide-card-skimming/", "via": "", "real_tags": ["google", "\u8c37\u6b4c", "\u6ee5\u7528", "abuse", "\u6570\u636e"]}, {"category": "", "categoryclass": "", "imagename": "73370c1fc49f85c287db59d59c90f277.png", "infoid": 1007731, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5b83\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528Python\u548cSelenium\u5c06\u5927\u91cf\u6570\u636e\u8f93\u5165\u4f5c\u4e1a\u81ea\u52a8\u5316\u5230PeopleSoft\u4e2d\u3002\n\u5b83\u83b7\u53d6\u6240\u9700\u6570\u636e\u7684CSV\u6587\u4ef6\uff0c\u5e76\u81ea\u52a8\u5c06\u5176\u8f93\u5165PeopleSoft\u3002\n\u5982\u679c\u60a8\u6709\u4e00\u4e9b\u8270\u5de8\u7684\u6570\u636e\u8f93\u5165\u4efb\u52a1\uff0c\u6211\u5efa\u8bae\u60a8\u7814\u7a76\u4e00\u4e0bSelenium\u4ee5\u4f7f\u5176\u81ea\u52a8\u5316\u3002\n\u5927\u7ea66\u5e74\u6765\uff0c\u6211\u4e0d\u5f97\u4e0d\u4f7f\u7528PeopleSoft\u505a\u6211\u7684\u90e8\u5206\u5de5\u4f5c(\u5728\u5927\u5b66\u7269\u7406\u7cfb\u6392\u8bfe)\uff0c\u5728\u8fd9\u6bb5\u65f6\u95f4\u91cc\uff0c\u6211\u5f97\u51fa\u7684\u7ed3\u8bba\u662f\uff1aPeopleSoft\u662f\u5bf9\u4eba\u7c7b\u7684\u8bc5\u5492\u3002\n\u6211\u751a\u81f3\u4e0d\u786e\u5b9aPeopleSoft(PS)\u5230\u5e95\u662f\u4ec0\u4e48\uff0c\u4f46\u5bf9\u6211\u6765\u8bf4\uff0c\u8bc5\u5492\u662f\u8fd0\u884c\u6211\u7684\u7ec4\u7ec7(\u4e00\u6240\u5927\u578b\u5927\u5b66)\u7684\u540e\u7aef\u6570\u636e\u5e93\u4e0a\u7684CRUDing\u7684\u57fa\u4e8eWeb\u7684\u7528\u6237\u754c\u9762\u3002\u6211\u771f\u7684\u4e3a\u4efb\u4f55\u4f7f\u7528PS\u7684\u4eba\u611f\u5230\u9057\u61be(\u5f88\u591a\u4eba\u90fd\u662f\u8fd9\u6837\u505a\u7684)\u3002\u4f60\u53ef\u4ee5\u5728\u4e00\u82f1\u91cc\u5916\u7684\u5c4f\u5e55\u4e0a\u770b\u5230\u5b83\u3002\u7d27\u51d1\u7684\u5c0f\u5b57\u4f53\u548c\u5c0f\u65b9\u6846\u6563\u843d\u5728\u5c4f\u5e55\u4e0a\u3002\u6ca1\u6709\u4efb\u4f55\u56de\u5e94\u7684\u884c\u4e3a\uff0c\u800c\u4e14\u5b83\u4e0d\u5177\u8bf1\u60d1\u529b\uff0c\u901f\u5ea6\u7f13\u6162\uff0c\u800c\u4e14\u6ca1\u6709\u76f4\u89c9\u6027\u3002\u8fd9\u91cc\u7684\u5143\u7d20\u6ca1\u6709\u73b0\u4ee3\u6c14\u606f(\u5c31\u50cf\u9774\u5b50\u4e00\u6837)\u3002\u6709\u4e9b\u76d2\u5b50\u592a\u5c0f\uff0c\u88c5\u4e0d\u4e0b\u4ed6\u4eec\u8981\u88c5\u7684\u4e1c\u897f\u3002\u4f7f\u7528\u7684\u5b57\u4f53\u4e0e\u6700\u521d\u768480x25IBMPC\u4e0a\u7684\u5b57\u4f53\u76f8\u4f3c\u3002\n\u5486\u54ee\uff1f\u884c!\u6ca1\u95ee\u9898\u3002\u4f46PS&39\uff1b\u7684\u4eba\u6027\u5316\u8bbe\u8ba1\u4f7f\u5176\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u8d39\u529b\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u4f8b\u5b50\u3002\n\u8fd9\u91cc\u6709\u4e00\u4e2a\u76d2\u5b50\uff0c\u636e\u8bf4\u53ef\u4ee5\u88c5\u4e94\u5c01\u4fe1\uff0c\u5de5\u4f5c\u65e5\u6bcf\u5929\u4e00\u5c01\u3002\u4e0d\u8fc7\uff0c\u5b83\u53ea\u80fd\u5bb9\u7eb3\u56db\u4e2a\u4eba\uff1a\n\u6709\u65f6\uff0c\u4eba\u4eec\u5fc5\u987b\u4e13\u95e8\u70b9\u51fb\u5e76\u6eda\u52a8\u5230\u5176\u4e2d\uff0c\u4ee5\u68c0\u67e5\u662f\u5426\u6240\u6709\u9700\u8981\u7684\u5929\u6570\u90fd\u5728\u90a3\u91cc\u3002\n\u6709\u4e9b\u6587\u672c\u8f93\u5165\u6846\u9700\u8981\u4ee5\u67d0\u79cd\u683c\u5f0f\u8f93\u5165\u6570\u636e\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5728\u670d\u52a1\u5668\u7aef\u8fdb\u884c\u4e00\u4e9b\u7b80\u5355\u7684\u8868\u5355\u6570\u636e\u5904\u7406\u6765\u6d88\u9664\u3002\n\u5728\u672c\u4f8b\u4e2d\uff0c\u5047\u8bbe\u6211\u9700\u8981\u5728180\u53f7\u697c\u7684101\u623f\u95f4\u653e\u7f6e\u4e00\u4e2a\u73ed\u7ea7\u3002\u8f93\u5165180-101\u600e\u4e48\u6837\uff1f\n\u597d\u4e86\uff0c\u7ec8\u4e8e\u6765\u4e86\u3002\u5728\u6211\u7684\u7ec4\u7ec7\u4e2d\u4f7f\u7528PS\u7684\u6bcf\u4e2a\u4eba\u90fd\u5fc5\u987b\u952e\u5165\u989d\u5916\u7684\u7a7a\u683c\uff0c\u5e76\u5c06\u623f\u95f4\u53f7\u586b\u96f6\u3002\u6bcf\u4e2a\u4eba\uff0c\u6bcf\u4e00\u6b21\u3002\u54c7\u3002\n\u4e5f\u8bb8\u662f\u4e00\u4ef6\u5c0f\u4e8b\uff0c\u4f46\u9700\u8981\u989d\u5916\u7684\u5de5\u4f5c\u548c\u7cbe\u795e\u4e0a\u7684\u96c6\u4e2d\uff0c\u4ee5\u786e\u4fdd\u6ef4\u7b54\u662f\u6b63\u786e\u7684\u3002\u6bcf\u6b21\u90fd\u662f\u3002\n\u7136\u540e\u662f\u53ef\u6015\u7684\u5fae\u8c03\u5668\u548c\u5bf9\u670d\u52a1\u5668\u7684\u8c03\u7528\uff0c\u6bcf\u4e2a\u8868\u5355\u6761\u76ee\u5143\u7d20\u7684\u6bcf\u4e2a\u7126\u70b9\u90fd\u4f1a\u6539\u53d8(=low)\u3002\n\u6211\u53d1\u73b0PS\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u4e0d\u53cb\u597d(\u800c\u4e14\u8ba9\u4eba\u7cbe\u75b2\u529b\u7aed)\u3002\u6b64\u5916\uff0cPS\u7684\u66f4\u6539\u51e0\u4e4e\u4e0d\u53ef\u80fd\u5b9e\u73b0\uff0c\u56e0\u4e3a\u5b83\u901a\u5e38\u7531\u9700\u8981\u591a\u4e2a\u7ea7\u522b\u7684\u59d4\u5458\u4f1a\u6765\u6279\u51c6\u4fee\u590d\u7684\u5927\u578b\u7ec4\u7ec7\u4f7f\u7528\u3002\n\u4e0d\u4e45\u524d\uff0c\u6211\u66fe\u7ecf\u8bf4\u8fc7\uff0c\u53ea\u8981PS\u770b\u8d77\u6765\u662f\u4e3a\u673a\u5668\u4eba\u7f16\u5199\u7684\uff0c\u90a3\u5c31\u8ba9\u6211\u4eec\u4e3a\u6211\u4eec\u627e\u4e00\u4e2a\u6765\u4f7f\u7528\u5b83\u5427\uff01\u5728\u81f3\u5c11\u4e00\u5468\u7684\u65f6\u95f4\u91cc\uff0c\u6211\u4e00\u76f4\u5728\u8003\u8651\u5c06\u89c6\u9891\u5bf9\u51c6\u6211\u7684\u7535\u8111\u5c4f\u5e55\uff0c\u5e76\u4f7f\u7528OpenCV\u6765\u63a7\u5236\u4e00\u53f0\u6a21\u62df\u9f20\u6807\u70b9\u51fb\u548c\u51fb\u952e\u7684\u963f\u9c81\u8fea\u8bfa\u00b7\u83b1\u6602\u7eb3\u591a(Arudino Leonardo)\u8f93\u5165\u6211\u7684\u6570\u636e\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u4e00\u4f4d\u505a\u7f51\u7edc\u5f00\u53d1\u7684\u670b\u53cb\u66fe\u7ecf\u7ed9\u6211\u770b\u8fc7\u4e00\u6b3e\u540d\u4e3aSelenium\u7684\u6d4b\u8bd5\u5de5\u5177\uff0c\u6240\u4ee5\u6211\u51b3\u5b9a\u53bb\u770b\u770b\u3002\u5b83\u751a\u81f3\u5728\u4ed6\u4eec\u7684\u7f51\u7ad9\u4e0a\u8bf4\uff0c\u67af\u71e5\u7684\u57fa\u4e8e\u7f51\u7edc\u7684\u7ba1\u7406\u4efb\u52a1\u4e5f\u53ef\u4ee5(\u4e5f\u5e94\u8be5)\u81ea\u52a8\u5b8c\u6210\u2026\u2026\u3002\n\u662f!\u3002\u4e3a\u4ec0\u4e48\u4e0d\u5bfb\u627e\u67d0\u79cd\u7c7b\u578b\u7684\u81ea\u52a8\u5316\u6765\u9a71\u52a8\u4efb\u4f55PS\u4e8b\u52a1\uff0c\u7279\u522b\u662f\u6570\u636e\u8f93\u5165\u5462\uff1f\n\u6211\u5fc5\u987b\u7528PS\u6765\u544a\u8bc9\u5b66\u6821\u6211\u5f53\u5730\u7cfb\u4e0b\u5b66\u671f\u7684\u65e5\u7a0b\u5b89\u6392(\u4ec0\u4e48\u8bfe\u7a0b\u3001\u5730\u70b9\u3001\u65f6\u95f4\u3001\u4ecb\u7ecd\u4eba\u7684\u540d\u5b57\u7b49)\uff0c\u6211\u5fc5\u987b\u7528PS\u544a\u8bc9\u5b66\u6821\u6709\u5173\u6211\u5f53\u5730\u7cfb\u4e0b\u5b66\u671f\u7684\u65e5\u7a0b\u5b89\u6392(\u4ec0\u4e48\u8bfe\u7a0b\uff0c\u5728\u54ea\u91cc\uff0c\u4e00\u5929\u4e2d\u7684\u65f6\u95f4\uff0c\u4ecb\u7ecd\u4eba\u7684\u540d\u5b57\uff0c\u7b49\u7b49)\u3002\u4e00\u65e6\u8fdb\u5165\u540e\u7aef\u6570\u636e\u5e93\uff0c\u6570\u636e\u5c31\u4f1a\u8fdb\u5165\u5b66\u751f\u6ce8\u518c\u9875\u9762(\u4e5f\u662fPS\u7684\u4e00\u4e9b\u6d3e\u751f\u9875\u9762)\u3001\u5de5\u8d44\u3001\u5b66\u8d39\u8d26\u5355\u548c\u4e00\u4e9b\u6570\u636e\u53ef\u89c6\u5316\u5de5\u5177\u7b49\u3002\n\u5728\u5185\u90e8\uff0c\u5f53\u6211\u521b\u5efa\u6211\u7684\u7cfb\u7684\u65f6\u95f4\u8868\u65f6\uff0c\u6211\u6700\u7ec8\u5f97\u5230\u4e86\u4e00\u4e2aCSV\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u5173\u4e8e\u6211\u7684\u7cfb\u5373\u5c06\u63d0\u4f9b\u7684\u8bfe\u7a0b\u7684\u6240\u6709\u4fe1\u606f\u3002\u5c31\u50cf\u8fd9\u6837\uff1a\nASTR-101\uff0c01\uff0cLEC\uff0c053-0215\uff0cMTWR\uff0c03\uff1a10 PM\uff0c04\uff1a00 PM\uff0cY\uff0c70\uff0cE\uff0cLAST 1\uff0cFirst1\uff0cemplid1\uff0c\uff0cASTR-102\uff0c01\uff0c01\uff0cLEC\uff0c\uff0cMTWR\uff0cY\uff0c120\uff0cE\uff0cLast2\uff0cFirst2\uff0cEmplid2\uff0cASTR-102\uff0c02\uff0c02\uff0cLEC\uff0c053-0206\uff0cMTWR\uff0c04\uff1a10 PM\uff0c05\uff1aEmplid4\uff0c\uff0cGeol-102\uff0c01\uff0c01\uff0cLEC\uff0c\uff0cMW\uff0c07\uff1a40 AM\uff0c09\uff1a00 AM\uff0cY\uff0c120\uff0cE\uff0cLast 5\uff0cFirst5\uff0cemplid5\uff0c\uff0cGeol-102\uff0c02,9999\uff0cDIS\uff0c180-0233\uff0cW\uff0c10\uff1a10 AM\uff0c11\uff1a00 AM\uff0cY\uff0c30\uff0cN\uff0cLast 6\uff0cFirst6\uff0cemplid6\uff0c.\u3002\n\u8fd9\u901a\u5e38\u6301\u7eed\u7ea6200\u884c\u3002\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u770b\u5230\u8bfe\u7a0b\u3001\u5de5\u4f5c\u65e5\u3001\u65f6\u95f4\u7b49\u7b49\u3002\u5236\u4f5c\u8fd9\u4e2aCSV\u4e5f\u662f\u4e00\u9879\u5f88\u5927\u7684\u5de5\u4f5c\uff0c\u4f46\u66f4\u591a\u7684\u662f\u5728\u8ba1\u5212\u65b9\u9762\u3002(\u6211\u7528\u6765\u505a\u8fd9\u4e2a\u89c4\u5212\u7684\u9057\u4f20\u7b97\u6cd5\u662f\u53e6\u4e00\u4e2a\u8bdd\u9898\u3002)\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u8fd9\u662f\u6211\u4eec\u7684\u65f6\u95f4\u8868\uff0c\u5b83\u5fc5\u987b\u5728\u89c4\u5b9a\u7684\u622a\u6b62\u65e5\u671f\u524d\u8fdb\u5165PS\uff0c\u6bcf\u5e74\u56db\u6b21\uff0c\u6bcf\u4e2a\u5b66\u671f\u4e00\u6b21\u3002\n\u4e0a\u4e00\u4e2a\u672f\u8bed\u7684\u5f88\u5927\u4e00\u90e8\u5206\u6570\u636e\u5728PS\u4e2d\u6eda\u52a8\uff0c\u4f46\u662f\u7531\u4e8e\u901a\u5e38\u9700\u8981\u7684\u6240\u6709\u5c0f\u66f4\u6539\uff0c\u8fd9\u79cd\u6eda\u52a8\u53ea\u6709\u5f88\u5c0f\u7684\u7528\u5904\u3002\u8fd8\u6709\u5f88\u591a\u5de5\u4f5c\u8981\u505a\u3002\u6b64\u5916\uff0cPS\u4e2d\u7684\u6570\u636e\u89c6\u56fe\u662f\u4e0d\u5b58\u5728\u7684\uff0c\u56e0\u6b64\u60a8\u88ab\u8feb\u4f7f\u7528\u81ea\u5df1\u7684\u89c6\u56fe\u3002\u5728\u6211\u7684\u6848\u4f8b\u4e2d\uff0c\u5b83\u7528\u6211\u81ea\u5df1\u8bbe\u8ba1\u7684\u65e5\u7a0b\u5b89\u6392\u8f6f\u4ef6\u7ed8\u5236\u4e86\u623f\u95f4\u7684\u56fe\u5f62\uff0c\u91cc\u9762\u8d34\u7740\u73ed\u7ea7\u3002\u56e0\u6b64\uff0c\u5f53\u8fdb\u5165\u6211\u81ea\u5df1\u7684\u89c2\u70b9\u65f6\uff0c\u4e0ePS\u4fdd\u6301\u540c\u6b65\u5c31\u6210\u4e86\u4e00\u4e2a\u5927\u95ee\u9898\u3002\u5982\u679c\u6211\u5728\u8ba1\u5212\u9636\u6bb5\u5355\u51fb\u5c06\u4e00\u8282\u8bfe\u62d6\u5230\u4e00\u5c0f\u65f6\u540e(\u53ef\u80fd\u4f1a\u65e0\u6570\u6b21\u5c06\u5176\u62d6\u5230\u4efb\u610f\u6570\u91cf\u7684\u8bfe\u4e0a)\uff0c\u8fd9\u5c06\u5982\u4f55\u4f7f\u5176\u8fd4\u56dePS\uff1f\n\u5f53\u6211\u7b2c\u4e00\u6b21\u5f00\u59cb\u7684\u65f6\u5019\uff0c\u6211\u4f1a\u628a\u6211\u7684\u6700\u7ec8\u8ba1\u5212\u6253\u5370\u5728\u7eb8\u4e0a\uff0c\u62ff\u51fa\u4e00\u628a\u5c3a\u5b50\u6765\u8bb0\u5f55\uff0c\u7136\u540e\u628a\u6bcf\u4e00\u884c\u90fd\u952e\u5165PS\u3002\u901a\u5e38\u662f180\u8282\u5de6\u53f3\u7684\u66f2\u5b50\u3002\u6211\u77e5\u9053\u8fd9\u5f88\u75af\u72c2\uff0c\u4f46\u5728\u5927\u578b(\u653f\u5e9c)\u7ec4\u7ec7\u4e2d\uff0c\u6211\u8ba4\u4e3a\u5728\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u6253\u5370\u6570\u636e\u8f93\u5165\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\u662f\u76f8\u5f53\u5e38\u89c1\u7684\u3002\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\uff0c\u6839\u672c\u522b\u65e0\u9009\u62e9(\u8482\u5a1c\uff1f)\u3002\n\u8fd9\u4e2a\u5b58\u50a8\u5e93\u663e\u793a\u4e86\u6211\u5982\u4f55\u4f7f\u7528Python\u8bfb\u5165\u6211\u7684CSV\uff0c\u5e76\u4f7f\u7528Selenium\u4e3a\u6211\u5c06\u5176\u8f93\u5165\u5230PS\u4e2d\u3002\u540c\u6b65\u53ea\u9700\u5220\u9664PS\u4e2d\u7684\u5185\u5bb9\u5e76\u91cd\u65b0\u8f93\u5165\u5373\u53ef\u3002\nSelenium\u662f\u6240\u6709\u6d41\u884c\u7684\u7f51\u7edc\u6d4f\u89c8\u5668(Chrome\u3001Firefox\u3001Safari)\u7684\u6838\u5fc3\uff0c\u53ef\u4ee5\u901a\u8fc7\u8f6f\u4ef6\u8fdb\u884c\u63a7\u5236\u3002\u8fd9\u610f\u5473\u7740\u6240\u6709\u7684\u70b9\u51fb\u3001\u586b\u5145\u6846\u3001\u4e0b\u62c9\u83dc\u5355\u548c\u4fdd\u5b58\u6309\u94ae\u7b49\u90fd\u53ef\u4ee5\u4f7f\u7528\u8f6f\u4ef6\u8fdb\u884c\u63a7\u5236\u3002\u6211\u5bf9\u5b83\u4f7f\u7528Python\u7ed1\u5b9a\uff0c\u4e0d\u77e5\u4f55\u6545\uff0c\u5f53\u6211\u8fd0\u884cPython\u811a\u672c\u65f6\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2aChrome\u6d4f\u89c8\u5668\uff0c\u4e0a\u9762\u5199\u7740Chrome\u6b63\u7531\u81ea\u52a8\u5316\u6d4b\u8bd5\u8f6f\u4ef6\u63a7\u5236\u3002&#34\uff1b\u8fd9\u610f\u5473\u7740\u4e24\u4ef6\u4e8b\uff1a1)\u4e3b\u673a\u670d\u52a1\u5668(\u5373PS)\u4e0d\u77e5\u9053\u53d1\u751f\u4e86\u4ec0\u4e48\u4e0d\u6b63\u5e38\u7684\u4e8b\u60c5--\u5b83\u6bd5\u7adf\u53ea\u662fChrome\uff1b2)\u6211\u4e0d\u70b9\u51fb\u6216\u952e\u5165\u4efb\u4f55\u4e1c\u897f\u6765\u63a7\u5236\u8fd9\u4e2a\u6d4f\u89c8\u5668\uff1bPython\u811a\u672c\u63a7\u5236\u5b83\n\u5982\u679c\u60a8\u5f88\u597d\u5947\uff0c\u6709\u5173\u7852\u7684\u6587\u6863\u975e\u5e38\u68d2\u3002\u7b2c\u4e00\u4e2aPython\u793a\u4f8b\u5411\u60a8\u5c55\u793a\u4e86\u603b\u4f53\u89c4\u5212\uff1a\n\u4eceSelenium\u5bfc\u5165\u6765\u81eaSelenium\u7684Webdriver\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u666e\u901a\u7684\u3002\u7531\u7852\u8fdb\u53e3\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u666e\u901a\u7684\u3002\u5bc6\u94a5\u4eceSelenium\u5bfc\u5165\u5bc6\u94a5\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u652f\u6301\u3002UI\u4eceSelenium\u5bfc\u5165WebDriverWait\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u652f\u6301\u3002Expect_Conditions\u4eceSelenium\u5bfc\u5165Presence_of_Element_Location\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u652f\u6301\u4f7f\u7528WebDriver\u5c06Expect_Conditions\u4f5c\u4e3aEC\u5bfc\u5165\u3002Chrome(&#39\uff1b/path/to/chromedriver&#39\uff1b)\u4f5c\u4e3a\u9a71\u52a8\u7a0b\u5e8f\uff1aWAIT=WebDriverWait(Driver\uff0c10)\u9a71\u52a8\u7a0b\u5e8f\u3002\u83b7\u53d6(&#34\uff1bhttps://google.com/&#34\uff1b)\u9a71\u52a8\u7a0b\u5e8f\u3002Find_Element(By.\u3002\u59d3\u540d\uff0c#34\uff1bQ&#34\uff1b)\u3002\u53d1\u9001\u5bc6\u94a5(&#34\uff1b\u5976\u916a&#34\uff1b+\u5bc6\u94a5\u3002RETURN)FIRST_RESULT=WebDriverWait(Driver\uff0c5)\u3002\u76f4\u81f3(EC.\u3002\u5143\u7d20\u7684\u5b58\u5728\u4f4d\u7f6e((\u7531\u3002css_selector\uff0c&#34\uff1bh3&gt\uff1bdiv&#34\uff1b)print(first_result\u3002get_attribute(&#34\uff1btextContent&#34\uff1b)\u3002\n\u968f\u4fbf\u6d4f\u89c8\u4e00\u4e0b\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u9875\u9762https://google.com/\u662f\u5982\u4f55\u88ab\u8bf7\u6c42\u7684\u3002Google\u7684\u641c\u7d22\u6846\u5728\u5e95\u5c42HTML\u4e2d\u7684\u5f15\u7528\u65b9\u5f0f\u4e0eQ\u76f8\u540c\uff0c\u8fd9\u662f\u5f88\u6709\u540d\u7684\u3002\u60a8\u544a\u8bc9Selenium\u5728Google\u7684\u4e3b\u641c\u7d22\u9875\u9762(Find_Element)\u7684HTML\u6570\u636e\u4e2d\u67e5\u627e\u8be5\u5143\u7d20\u3002\u4e00\u65e6\u627e\u5230\uff0c\u60a8\u5c31\u53ef\u4ee5\u901a\u8fc7send_key\u51fd\u6570\u5c06Selenium\u7c7b\u578b\u8f93\u5165\u5230\u8be5\u5143\u7d20\u4e2d\uff0c\u6587\u672c\u5976\u916a\u540e\u9762\u8ddf\u7740Return\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u60a8\u8ba9Selenium\u641c\u7d22\u5355\u8bcdCheose--\u60a8\u5c06\u5728\u81ea\u52a8\u7684Chrome\u89c6\u56fe\u4e2d\u770b\u5230\u8fd9\u4e00\u5207\u7684\u53d1\u751f\uff0c\u811a\u672c\u5c06\u5728\u60a8\u7684\u5c4f\u5e55\u4e0a\u5f39\u51fa\u3002\n\u8003\u8651\u5230Web\u4e0a\u7684\u5ef6\u8fdf\u548c\u4e00\u822c\u7684\u968f\u673a\u65f6\u95f4\u5ef6\u8fdf\uff0c\u60a8\u4e0d\u4f1a\u671f\u671b\u7acb\u5373\u52a0\u8f7d\u4efb\u4f55\u670d\u52a1\u5668\u9875\u9762\uff0c\u56e0\u6b64\u60a8\u544a\u8bc9Web\u9a71\u52a8\u7a0b\u5e8f\u5728\u8d85\u65f6\u4e4b\u524d\u59cb\u7ec8\u7b49\u5f8510\u79d2\u7684\u7ed3\u679c\u3002\u60a8\u53ef\u4ee5\u968f\u5fc3\u6240\u6b32\u5730\u5904\u7406\u641c\u7d22\u67e5\u8be2\u7684\u7ed3\u679c\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u7b49\u5f85HTML\u7247\u6bb5h3&gt\uff1bdiv\u3002\u8fd9\u5c06\u542f\u52a8Google\u641c\u7d22\u7ed3\u679c\u9875\u9762\u4e0a\u7684\u201c\u663e\u793a\u66f4\u591a\u201d\u53ef\u70b9\u51fb\u6807\u7b7e\u3002\u4f7f\u7528python example.py\u8fd0\u884c\u6b64\u4ee3\u7801\u5c06\u901a\u8fc7\u6700\u540e\u4e00\u884cprint(first_result.get_attribute(&#34\uff1btextContent&#34\uff1b))\u4ea7\u751f\u7ed3\u679c\uff0c\u5e76\u5728\u60a8\u7684\u7ec8\u7aef\u4e2d\u663e\u793a\u6587\u672cShow more\u3002\n\u795d\u8d3a\u60a8\uff1a\u60a8\u521a\u521a\u81ea\u52a8\u6267\u884c\u4e86Google\u641c\u7d22\uff0c\u5e76\u4ece\u641c\u7d22\u7ed3\u679c\u4e2d\u635e\u5230\u4e86\u4e00\u4e9b\u4e1c\u897f\u3002\n\u8ba9\u6211\u4eec\u66f4\u8fdb\u4e00\u6b65\uff0c\u8ba9Selenium\u5355\u51fb\u201c\u4e0b\u4e00\u6b65\u201d\u94fe\u63a5\uff0c\u5e26\u6211\u4eec\u8fdb\u5165\u641c\u7d22\u7ed3\u679c\u7684\u7b2c2\u9875\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u60a8\u5fc5\u987b\u4ed4\u7ec6\u641c\u7d22\u641c\u7d22\u9875\u9762\u7684html\u4ee3\u7801\uff0c\u5e76\u5c1d\u8bd5\u5f04\u6e05\u695aNext\u94fe\u63a5\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\n\u4e3a\u4e86\u63d0\u4f9b\u5e2e\u52a9\uff0c\u6211\u4e0b\u8f7d\u4e86Firefox\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u8005\u7248\u3002\u5b83\u6709\u4e00\u4e2a\u7f51\u7edc\u68c0\u67e5\u5668\uff0c\u60a8\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\uff1a\n\u73b0\u5728\u4f60\u53ef\u4ee5\u4ece\u8c37\u6b4c\u4e3b\u9875\u7684HTML\u4ee3\u7801\u4e2d\u7aa5\u63a2\u4e00\u4e0b\uff0c\u770b\u770b\u5b83\u7684\u54ea\u4e2a\u90e8\u5206\u5728\u751f\u6210\u641c\u7d22\u6846\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u662f\n&lt\uff1binput class=&#34\uff1bgLFyf gsfi&#34\uff1bmaxlength=&#34\uff1b2048&#34\uff1bname=&#34\uff1bq&#34\uff1btype=&#34\uff1btext&#34\uff1bjsaction=&#34\uff1b\u7c98\u8d34\uff1apuy29d&#34\uff1baria-autoComplete=&#34\uff1b\u4e24\u8005&#34\uff1baria-haspopup=&#34\uff1bfalse&#34\uff1bautocapalize=&#34\uff1boff&#34\uff1bautocapital\u3002\u89d2\u8272=&#34\uff1bcombobox&#34\uff1bspellcheck=&#34\uff1bfalse&#34\uff1btitle=&#34\uff1bsearch&#34\uff1bvalue=&#34\uff1baria-label=&#34\uff1bsearch&#34\uff1bdata-ved=&#34\uff1b0ahUKEwjywISjl_XpAhV0HjQIHVhCC1oQ39UDCAY&#34\uff1b&gt\uff1b\n\u4f60\u53ef\u4ee5\u6e05\u695a\u5730\u770b\u5230\u6807\u7b7e\u7684\u540d\u5b57\uff0c\u8fd9\u4e0e\u6211\u4eec\u4e0a\u9762\u653e\u5165\u7684\u7852\u7c7b\u578b\u5976\u916a\u662f\u4e00\u6837\u7684\u3002\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u67e5\u627eHTML id\u4e3apnnext\u7684\u5143\u7d20(\u8bf7\u53c2\u9605&lt\uff1ba id=&#34\uff1bpnnext&#34\uff1b.&gt\uff1btext\uff1f)\u3002\u5e76\u544a\u8bc9Seleniun\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u70b9\u51fb\u5b83\u3002\n\u7b80\u800c\u8a00\u4e4b\uff0c\u8fd9\u5c31\u662f\u60a8\u4f7f\u7528Selenium\u6240\u505a\u7684\u4e8b\u60c5\uff1a\u6307\u793a\u5b83\u4eceWeb\u52a0\u8f7d\u9875\u9762\uff0c\u7136\u540e\u5728\u8bfb\u56de\u53d8\u91cf\u7684\u9875\u9762\u6587\u672c\u4e2d\u67e5\u627e\u60a8\u611f\u5174\u8da3\u7684\u5185\u5bb9\uff0c\u7136\u540e\u5bf9\u5176\u6267\u884c\u64cd\u4f5c\u3002\u8fd9\u610f\u5473\u7740\u586b\u5199\u6587\u672c\u6846\u3001\u70b9\u51fb\u94fe\u63a5\u7b49\u3002\n\u7136\u540e\uff0c\u6211\u7684\u8ba1\u5212\u662f\u4f7f\u7528Selenium\u8ba9\u6211\u767b\u5f55\u5230\u6211\u7684\u4f01\u4e1a\uff0c\u5e76\u5bfc\u822a\u5230PS\u6570\u636e\u8f93\u5165\u533a\u57df\u3002\u4ece\u90a3\u91cc\uff0c\u6211\u7684CSV\u6587\u4ef6\u7684\u5185\u5bb9\u5c06\u88ab\u8bfb\u53d6\u5e76\u952e\u5165\u5230PS\u8868\u5355\u7684\u9002\u5f53\u4f4d\u7f6e\u3002\n\u4ecb\u7ecd\u4e86Selenium\u7684\u57fa\u7840\u77e5\u8bc6\u4e4b\u540e\uff0c\u6211\u73b0\u5728\u5c06\u5c55\u793a\u5982\u4f55\u8ba9Selenium\u5c06\u6211\u7684\u6570\u636e\u952e\u5165PS\u3002\n\u6211\u4e0d\u8ba4\u4e3a\u6709\u529e\u6cd5\u8ba9Selenium\u63a5\u7ba1\u6211\u53ef\u80fd\u5df2\u7ecf\u4eb2\u624b\u542f\u52a8\u7684\u7f51\u7edc\u6d4f\u89c8\u5668\u4f1a\u8bdd\u3002\u6240\u4ee5\u6211\u5f97\u5148\u767b\u5f55\u4e00\u4e0b\u6211\u7684\u4f01\u4e1a\uff0c\u4e0d\u8fc7\u8fd9\u6ca1\u4ec0\u4e48\uff0c\u8fd9\u662f\u4e3a\u5373\u5c06\u53d1\u751f\u7684\u4e8b\u60c5\u505a\u7684\u5f88\u597d\u7684\u70ed\u8eab\u3002\u6240\u4ee5\u6211\u7684\u4ee3\u7801\u662f\u8fd9\u6837\u5f00\u59cb\u7684\uff1a\n\u4eceSelenium\u5bfc\u5165Webdriver\u5bfc\u5165Selenium\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u652f\u6301\u3002UI\u4f5c\u4e3aSelenium\u4e2d\u7684UI\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u666e\u901a\u7684\u3002\u5bc6\u94a5\u4eceSelenium\u5bfc\u5165\u5bc6\u94a5\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u666e\u901a\u7684\u3002\u7531\u7852\u8fdb\u53e3\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u652f\u6301\u3002UI\u4eceSelenium\u5bfc\u5165WebDriverWait\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u652f\u6301\u5c06Expect_Conditions\u4f5c\u4e3aEC\u4eceSelenium\u5bfc\u5165\u3002\u7f51\u7edc\u9a71\u52a8\u7a0b\u5e8f\u3002\u652f\u6301\u3002UI\u5bfc\u5165\u9009\u62e9\u5bfc\u5165\u65f6\u95f4\u5bfc\u5165CSV\u5bfc\u5165sys if len(sys.\u3002argv)\uff01=3\uff1a\u6253\u5370&#34\uff1b\u7528\u6cd5\uff1aautop username password&#34\uff1bexit()username=sys\u3002argv[1]\u5bc6\u7801=sys\u3002argv[2]\u5f00\u59cb=\u65f6\u95f4\u3002Time()Browser=WebDriver\u3002Chrome(&#39\uff1b/path/to/chromedriver&#39\uff1b)\u6d4f\u89c8\u5668\u3002GET(&#39\uff1bhttps://my.enterprise.web.address&#39\uff1b)\u53e5\u67c40=\u6d4f\u89c8\u5668\u3002Current_Window_Handle\u6253\u5370\u53e5\u67c40 Fill_in_by_id(&#39\uff1busername&#39\uff1b\uff0cusername)\u65f6\u95f4\u3002\u7761\u7720(1)Fill_in_by_id(&#34\uff1bpassword&#34\uff1b\uff0cpassword)\u65f6\u95f4\u3002\u7761\u7720(1)\n\u6240\u9700\u7684\u5bfc\u5165\u4f4d\u4e8e\u9876\u90e8\uff0c\u7136\u540e\u4ee3\u7801\u5f00\u59cb\u3002\u6211\u4e0d\u60f3\u901a\u8fc7\u7528\u6237\u540d\u548c\u5bc6\u7801\u8fdb\u884c\u786c\u7f16\u7801\uff0c\u6240\u4ee5\u6211\u5c06\u5b83\u4eec\u4f5c\u4e3a\u547d\u4ee4\u884c\u53c2\u6570\u4f20\u9012\uff0c\u5982\u4e0b\u6240\u793a\u3002\n(\u6211\u77e5\u9053\uff0c\u6211\u77e5\u9053\uff0c\u547d\u4ee4\u884c\u4e0a\u7684\u5bc6\u7801\u3002)\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u542f\u52a8\u4e00\u4e2a\u8ba1\u65f6\u5668(\u4ee5\u4e86\u89e3\u4f5c\u4e1a\u8fd0\u884c\u4e86\u591a\u957f\u65f6\u95f4)\uff0c\u5e76\u6253\u5f00Chrome\u7684Webdriver(\u4e5f\u53ef\u4ee5\u4f7f\u7528Safari\u3001Firefox\u7b49\u9a71\u52a8\u7a0b\u5e8f)\u3002\u6b64\u5916\uff0c\u8fd8\u4f1a\u6709\u5927\u91cf\u7684\u7167\u7247\u63d0\u4f9b\u7ed9stdout\uff0c\u5e2e\u52a9\u6211\u8ddf\u8e2a\u6b63\u5728\u53d1\u751f\u7684\u4e8b\u60c5\u3002\n\u56e0\u6b64\uff0c\u6211\u62c9\u5165\u4f01\u4e1a\u767b\u5f55\u9875\u9762\uff0c\u7136\u540e\u4f7f\u7528\u540d\u4e3aill_in_by_id\u7684\u51fd\u6570\u586b\u5199\u6211\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002\u8fd9\u662f\u6211\u7f16\u5199\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u5c06\u586b\u5145\u7528id=\u6807\u8bb0\u552f\u4e00\u6807\u8bc6\u7684HTML\u6587\u672c\u6846\u3002\u5982\u4e0a\u6240\u8ff0\uff0c\u6211\u4f7f\u7528Firefox\u5f00\u53d1\u4eba\u5458\u6d4f\u89c8\u5668\u8bc6\u522b\u4e86\u6807\u8bb0\u3002\u4e0b\u9762\u662f\u51fd\u6570Fill_in_by_id\uff1a\n\u9996\u5148\uff0c\u6211\u4eec\u7b49\u5f85id\u4e3a#34\uff1b\u7684\u5143\u7d20\u51fa\u73b0\u5728\u9875\u9762\u4e2d\uff0c\u6e05\u9664\u5b83(\u4ece\u5b57\u9762\u4e0a\u8bb2\uff0c\u5220\u9664\u5176\u4e2d\u53ef\u80fd\u5305\u542b\u7684\u4efb\u4f55\u6587\u672c)\uff0c\u7136\u540e\u53d1\u51fa\u6240\u9700\u7684\u5b57\u7b26\u4e32(\u5c31\u50cf\u8f93\u5165\u4e00\u6837)\u3002\u5728PS\u4e2d\uff0c\u5f88\u91cd\u8981\u7684\u4e00\u70b9\u662f\u6a21\u62df\u6587\u672c\u8f93\u5165\u672b\u5c3e\u7684Tab\u952e\u6309\u4e0b\u3002\u82b1\u4e86\u4e00\u6bb5\u65f6\u95f4\u624d\u660e\u767d\uff0c\u8fd9\u603b\u662f\u5f3a\u5236\u6587\u672c\u5b57\u6bb5\u4e0e\u670d\u52a1\u5668\u534f\u8c03(\u5b83\u4f1a\u8c03\u51fa\u4e00\u4e2a\u5fae\u8c03\u5668)\u3002\u7136\u540e\u6682\u505c0.5\u79d2\u3002\u662f\u7684\uff0c\u5728\u4f7f\u7528Selenium\u65f6\uff0c\u8981\u4e60\u60ef\u4e8e\u5728Python\u4e2d\u6295\u5165\u65f6\u95f4\u3002\u5728\u8fd9\u91cc\u548c\u90a3\u91cc\u7761\u7720()\u4f1a\u964d\u4f4e\u60a8\u7684\u811a\u672c\u901f\u5ea6\uff0c\u8fd9\u6837\u5b83\u5c31\u4e0d\u4f1a\u8d85\u8fc7\u60a8\u53ef\u80fd\u6b63\u5728\u4e0e\u4e4b\u4ea4\u8c08\u7684\u4efb\u4f55\u76f8\u5bf9\u8f83\u6162\u7684\u670d\u52a1\u5668\u3002\ndef wait_for_by_id(Elem_Id)\uff1a\u6253\u5370&#34\uff1b\u6b63\u5728\u7b49\u5f85id&#34\uff1b+elem_id try\uff1aelm=WebDriverWait(\u6d4f\u89c8\u5668\uff0c10)\u3002\u76f4\u81f3(EC.\u3002\u5143\u7d20\u7684\u53ef\u89c1\u6027_\u4f4d\u7f6e((\u7531\u3002id\uff0celem_id)\u9664\u5916\uff1a\u6253\u5370&#34\uff1b\u627e\u4e0d\u5230&#34\uff1b+elem_id+&#34\uff1b\u3002\u8bf7\u70b9\u51fb\u3002&#34\uff1bx=raw_input(&#34\uff1b\u5b8c\u6210\u540e\u6309[Return].&#34\uff1b)elem=false return(Elem)\u3002\n\u5982\u60a8\u6240\u89c1\uff0c\u6211\u4eec\u544a\u8bc9Web\u9a71\u52a8\u7a0b\u5e8f\u7b49\u5f8510\u79d2\uff0c\u76f4\u5230\u6211\u4eec\u91cd\u65b0\u52a0\u8f7d\u7684\u7f51\u9875\u68c0\u6d4b\u5230\u6211\u4eec\u8981\u67e5\u627e\u7684HTML\u5143\u7d20\u53d8\u4e3a\u53ef\u89c1\u3002\u4f7f\u7528TRY/EXCEPT\u7ed3\u6784\u4e5f\u5305\u542b\u4e86\u4e00\u70b9\u6545\u969c\u4fdd\u62a4\u3002\u6211\u53d1\u73b0PS\u5728\u5176\u54cd\u5e94\u65f6\u95f4\u4e0a\u662f\u4e00\u4e2a\u6781\u5176\u53cd\u590d\u65e0\u5e38\u7684\u7cfb\u7edf\u3002\u8fd9\u4e2a\u7248\u672c\u7684waitforbyid()\u4f3c\u4e4e\u5de5\u4f5c\u5f97\u6700\u597d\uff0c\u5728PS\u75c9\u631b\u7684\u60c5\u51b5\u4e0b\uff0cException\u5141\u8bb8\u6211\u4eec\u6062\u590d/\u7ee7\u7eed\u957f\u65f6\u95f4\u7684\u8f93\u5165\u8fd0\u884c\u3002\n\u60a8\u5e94\u8be5\u80fd\u591f\u6839\u636e\u9700\u8981\u4f7f\u7528\u6b64\u8ba1\u5212\u767b\u5f55\u5230\u60a8\u7684\u4f01\u4e1a\u3002\u522b\u5fd8\u4e86\u627e\u5230\u60a8\u7684\u767b\u5f55\u6309\u94ae\uff0c\u8fd9\u6837Selenium\u5c31\u53ef\u4ee5\u5355\u51fb\u5b83\u8ba9\u60a8\u767b\u5f55\u3002\u6211\u7684\u70b9\u51fb\u65b9\u5f0f\u662f\uff1a\n\u6211\u7684\u767b\u5f55\u6309\u94ae\u7684HTML\u540d\u79f0\u4e3a&#34\uff1b_EVENTID_PROCESS\u3002Selenium\u51fd\u6570find_element_by_name()\u5c06\u627e\u5230\u6b64\u6309\u94ae\uff0c\u7136\u540e.click()\u5c06\u6a21\u62df\u5355\u51fb\u3002\n\u4e00\u65e6\u8fdb\u5165\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5bfc\u822a\u5230\u6570\u636e\u8f93\u5165\u533a\u57df\u3002\u5bf9\u6211\u6765\u8bf4\uff0c\u8fd9\u9700\u8981\u5728\u6211\u7684\u4e3b\u8981\u5927\u5b66\u95e8\u6237\u7f51\u7ad9\u4e0a\u70b9\u51fb\u51e0\u4e0b(\u95e8\u6237\u7f51\u7ad9=90\u5e74\u4ee3\u7684\u5355\u8bcd)\u3002\u9996\u5148\uff0c\u6211\u9700\u8981\u5355\u51fbHTML id\u4e3atabLink_u21l1s5\u7684\u94fe\u63a5\u3002\u56e0\u6b64\uff0c\u5982\u4e0b\u6240\u793a\u7684\u884c\uff1a\n\u7136\u800c\uff0c\u6211\u53d1\u73b0\u8fd9\u5728\u5904\u7406PS\u65f6\u662f\u4e0d\u53ef\u9760\u7684\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6709\u65f6\u7852\u53ea\u662f\u5750\u7740\uff0c\u663e\u7136\u627e\u4e0d\u5230\u4e0e\u8fd9\u4e2aid\u7684\u8054\u7cfb\u3002\u60a8\u53ef\u80fd\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u9ebb\u70e6\uff0c\u5f88\u53ef\u80fd\u662f\u56e0\u4e3a\u5143\u7d20\u4f4d\u4e8e\u4e0d\u540c\u7684IFRAME\u4e2d\u3002(\u6211\u4e00\u76f4\u4e0d\u592a\u7406\u89e3Selenium\u662f\u5982\u4f55\u5904\u7406IFRAME\u7684\u3002\u6211\u8ba4\u4e3a\u5b83\u5c06HTML\u5b9e\u4f53\u9694\u79bb\u5230\u6bcf\u4e2a\u5143\u7d20\u4e2d\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u76f4\u63a5\u67e5\u770bIFRAME\u4e2d\u7684\u5143\u7d20\uff0c\u9664\u975e\u60a8\u663e\u5f0f\u66f4\u6539\u4e3a\u5b83\u3002)\u3002\n\u60a8\u518d\u6b21\u770b\u5230\u5bf9waitforbyid()\u7684\u8c03\u7528\uff0c\u5b83\u6267\u884c.click\u800c\u4e0d\u662fsend_key()\u3002\u8fd9\u662f\u8fdb\u884c\u6587\u672c\u586b\u5145\u548c\u5355\u51fbSelenium\u4e4b\u95f4\u7684\u552f\u4e00\u533a\u522b\u3002\n\u4e8b\u5b9e\u8bc1\u660e\uff0c\u5728\u9875\u9762\u4e2d\u67e5\u627e\u5143\u7d20\u7684\u4e00\u79cd\u66f4\u4e25\u683c\u7684\u65b9\u6cd5\u662f\u5bf9\u5143\u7d20\u4f7f\u7528\u4e00\u4e2a&#34\uff1bXPath&34\uff1b\u3002\u8fd9\u4e9b\u662f\u8fdb\u5165DOM\u5bf9\u8c61\u7684\u9010\u6b65\u8def\u5f84\uff0c\u4ee5\u660e\u786e\u6307\u5411\u6587\u6863\u4e2d\u7684HTML\u5143\u7d20\u3002\u5728\u6574\u4e2a\u5de5\u4f5c\u8fc7\u7a0b\u4e2d\uff0c\u6211\u9010\u6e10\u9ed8\u8ba4\u4f7f\u7528xpath\uff0c\u56e0\u4e3a\u5b83\u4eec\u5728\u67e5\u627e\u5143\u7d20\u65b9\u9762\u4f3c\u4e4e\u66f4\u53ef\u9760\uff0c\u7279\u522b\u662f\u5728\u5e7f\u9614\u7684PS HTML\u4e1b\u6797\u4e2d\u3002(PS HTML\u4e1b\u6797\uff1a\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u6211\u751a\u81f3\u5f00\u59cb\u4e3a\u7528\u4e8e\u4e0ePS\u548cBTW\u4ea4\u4e92\u7684\u6d4f\u89c8\u5668\u611f\u5230\u9057\u61be\uff1aOracle Interactive Dashboard\uff0c\u63d0\u4f9bPS\u6570\u636e\u89c6\u56fe\u7684Oracle Interactive Dashboard\u9501\u5b9a\u4e86Selenium IDE\u63d2\u4ef6\u3002)\u3002\n\u4f3c\u4e4expath\u901a\u5e38\u4e0d\u53d7\u6b22\u8fce(\u6bd4\u5982\u5728StackOverflow\u4e0a)\uff0c\u56e0\u4e3a\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u5b83\u4eec\u7684\u5065\u58ee\u6027\u8f83\u5dee\uff0c\u56e0\u4e3a\u5bf9ps\u7684\u4efb\u4f55\u4ee3\u7801\u66f4\u6539\u90fd\u4f1a\u7834\u574f\u5b83\u4eec\u7684\u4f7f\u7528\u3002(\u4f46\u6211\u8ba4\u4e3aPS\u4e0d\u4f1a\u6709\u592a\u5927\u53d8\u5316\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u7684xpath\u5df2\u7ecf\u5f3a\u5065\u4e86\u4e00\u5e74\u591a\u4e86\u3002)\u3002\nFirefox\u5f00\u53d1\u4eba\u5458\u5c06\u5411\u60a8\u5c55\u793a\u8fd9\u6837\u7684xpath\u3002\u53ea\u9700\u53f3\u952e\u5355\u51fb\u4ee3\u7801\u6846\u4e2d\u7684\u5143\u7d20HTML\uff0c\u5c31\u53ef\u4ee5\u5c06XPath\u590d\u5236\u5230\u5143\u7d20\u3002\n\u5728\u672c\u4f8b\u4e2d\uff0c\u7ed3\u679c\u662f//*[@id=&#34\uff1btabLink_u21l1s5&#34\uff1b]&#39\uff1b\u3002\u56e0\u6b64\uff0c\u662f\u7684\uff0c\u6211\u4eec\u7f16\u5199\u4e86\u8fd9\u5bf9\u51fd\u6570\uff0c\u56e0\u4e3aSelenium\u652f\u6301xpath\uff1a\ndef WAIT_FOR_BY_XPath(XPath)\uff1a\u6253\u5370\u7b49\u5f85XPath&#34\uff1b+XPath\u5c1d\u8bd5\uff1aelem=WebDriverWait(\u6d4f\u89c8\u5668\uff0c10)\u3002\u76f4\u81f3(EC.\u3002\u5143\u7d20\u7684\u53ef\u89c1\u6027_\u4f4d\u7f6e((\u7531\u3002XPath\uff0cXPath)\u9664\u5916\uff1aPrint&#34\uff1b\u627e\u4e0d\u5230&#34\uff1b+XPath+&#34\uff1b\u3002\u8bf7\u5355\u51fb\u3002&#34\uff1bx=RAW_INPUT(&#34\uff1b\u5b8c\u6210\u540e\u6309[Return].&#34\uff1b)elem=false return(Elem)def click_on_by_xpath(Xpath)\uff1aelem=wait_for_by_xpath(Xpath)if elem\uff01=false\uff1aelem\u3002\u5355\u51fb()\n\u7b2c\u4e00\u6b21\u70b9\u51fb\u8fdb\u5165\u95e8\u6237\u3002\u5728\u6211\u4eec\u95e8\u6237\u4e2d\u7684\u4e0b\u4e00\u6b21\u5355\u51fb\u662f\u542f\u52a8\u5230PS\uff0c\u5177\u6709\u6b64Xpath/html/body/div/div/div[3]/div/div/div[5]/div[2]/div/div[2]/div/div[3]/div/div[1]/h2[1]/a&#39\uff1b\uff0c\u56e0\u6b64\u6211\u4eec\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n\u7b2c\u4e8c\u6b21\u70b9\u51fb\u5b9e\u8d28\u4e0a\u5c06\u6211\u4eec\u5e26\u5230\u4e3b\u8981\u7684PS\u8d77\u70b9\uff0c\u56e0\u4e3a\u5b83\u8fde\u63a5\u5230\u5927\u5b66\u95e8\u6237\u7f51\u7ad9\u3002\u60a8\u53ef\u4ee5\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u770b\u5230\u4ec0\u4e48\u662fxpath\uff1a\u9875\u9762\u4e2d\u5143\u7d20\u7684\u505c\u9760\u70b9\u8c31\u7cfb\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u67e5\u770bhtml\uff0c\u7136\u540e\u67e5\u770b\u6b63\u6587\uff0c\u7136\u540e\u67e5\u770b\u4e00\u4e9bdiv\uff0c\u7b49\u7b49\u3002\u5728xpath\u4e0a\u6709\u5f88\u591a\u6559\u7a0b\u548c\u89c6\u9891\u3002\u6211\u53d1\u73b0\u8fd9\u4e2aYoutuber\u7684XPath\u6559\u7a0b\u5f88\u6709\u5e2e\u52a9\u3002\n\u73b0\u5728\u662f\u91cd\u8981\u65f6\u523b\u3002\u4ecb\u7ecd\u4e86\u7852\u7684\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\u540e\uff0c\u73b0\u5728\u662f\u89e3\u51b3\u5c06CSV\u6570\u636e\u81ea\u52a8\u952e\u5165\u5230PS\u4e2d\u7684\u65f6\u5019\u4e86\u3002\u4e0a\u9762\u7684CSV\u6587\u4ef6\u5177\u6709\u63cf\u8ff0\u6bcf\u5217\u7684\u6807\u9898\uff0c\u5982\u4e0b\u6240\u793a\uff1a\n\u5c31\u6392\u8bfe\u800c\u8a00\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u9700\u8981\u653e\u5165PS\u4e2d\u53ef\u6015\u7684\u7c7b\u6761\u76ee\u8868\u5355\u4e2d\u7684\u5404\u79cd\u6846\u548c\u4e0b\u62c9\u5217\u8868\u4e2d\u3002\u914d\u7f6e\u4e00\u4e2a\u7c7b\u6709\u5f88\u591a\u6846\uff0c\u6240\u6709\u6846\u90fd\u9700\u8981\u586b\u5165\u5176\u4e2d\u4e00\u5217\u4e2d\u7684\u5185\u5bb9\u3002PS\u4e2d\u7684\u5b57\u6bb5\u4e5f\u5206\u5e03\u5728\u591a\u4e2a\u9009\u9879\u5361\u4e0a\u3002\u6211\u4eec\u5f00\u59cb\u5427\u3002\n\u518d\u4e00\u6b21\uff0c\u6211\u4f7f\u7528Firefox\u5f00\u53d1\u4eba\u5458\u67e5\u627e\u4e86\u6211\u9700\u8981\u7684\u6240\u6709\u6846\u3001\u4e0b\u62c9\u83dc\u5355\u548c\u9009\u9879\u5361\u7684xpath\u6216ID\u3002\u4f8b\u5982\uff0c\u7b2c\u4e00\u4e2a\u9009\u9879\u5361\u7684id\u4e3aICTAB_0\u3002\u4f8b\u5982\uff0c&#34\uff1bClass Section&#34\uff1b(id=CLASS_TBL_CLASS_SECTION$0&#34\uff1b)\u548c&#34\uff1b\u5173\u8054\u7684CLASS&#34\uff1b(id=CLASS_TBL_SSR_Component$0)\u6846\u4f4d\u4e8e\u6211\u7684CSV\u6587\u4ef6\u7684\u7b2c2\u5217\u548c\u7b2c3\u5217\u3002\n\u6807\u7b7e\u4e3a&#34\uff1bMeetings&#34\uff1b(id=ICTAB_1)\u7684\u9009\u9879\u5361\u5386\u6765\u90fd\u662f\u6700\u9700\u8981\u5904\u7406\u7684\u9009\u9879\u5361\uff0c\u56e0\u4e3a\u5b83\u5305\u542b\u8bfe\u7a0b\u7684\u5f00\u59cb\u3001\u7ed3\u675f\u548c\u65e5\u671f\u6846\u3002\u624b\u52a8\u5c06\u6570\u636e\u8f93\u5165\u6b64\u8868\u5355\u975e\u5e38\u56f0\u96be\u4e14\u5bb9\u6613\u51fa\u9519\u3002\u6240\u6709\u7684\u5c0f\u7ec6\u8282\uff0c\u6ca1\u6709\u6765\u81eaweb\u754c\u9762\u7684\u683c\u5f0f\u5e2e\u52a9\uff0c\u4ee5\u53ca\u5728\u6bcf\u4e2a\u8868\u5355\u5143\u7d20\u5931\u53bb\u7126\u70b9\u540e\u7b49\u5f85\u7684\u5fae\u8c03\u5de5\u5177(\u751a\u81f3\u8fde\u52fe\u9009\u6846\uff01)\u3002\u8fd9\u90fd\u662f\u8bc5\u5492\u7684\u4e00\u90e8\u5206\u3002\n\u4e3a\u4e86\u5c06CSV\u4e2d\u7684\u6574\u884c\u8f93\u5165\u5230\u8fd9\u4e9b\u5236\u8868\u7b26\u7ec4\u5408\u7b49\u4e2d\uff0c\u540d\u4e3aCSV_Fill()\u7684\u51fd\u6570\u7f16\u5199\u4e3a\uff1a\ndef CSV_FILL(\u6587\u4ef6\u540d\uff0cCLASS_PREFIX\uff0cCLASS_NUMBER)\uff1a\u4f7f\u7528OPEN(\u6587\u4ef6\u540d)\u4f5c\u4e3aCSV_FILE\uff1aThe_FILE=CSV\u3002_FILE\uff1aIF ROW[&#39\uff1bCLASS&#39\uff1b]\u4e2d\u884c\u7684DictReader(CSV_FILE\uff0cDELIMITER=&#39\uff1b\uff0c&#39\uff1b)\u3002LOWER()==(CLASS_PREFIX+&#39\uff1b-&#39\uff1b+CLASS_NUMBER)\u3002LOWER()\uff1aENTER_CLASS_INFO(ROW[&#39\uff1bSECTION_NUMBER&#39\uff1b]\uff0cROW[&#39\uff1bASSOC_NUMBER&#39\uff1b]\uff0cROW[&#39\uff1bTYPE&#39\uff1b]\uff0cROW[&#39\uff1bENROLL&#39\uff1b]\uff0cROW[&#39\uff1bPRINT&#39\uff1b]\uff0cROW[&#39\uff1bROOM&#39\uff1b]\uff0cROW[&#39\uff1bDAYS&#39\uff1b]\uff0cROW[&#39\uff1bSTART&#39\uff1b]\u3002]\uff0c\u884c[&#39\uff1bEnd&#39\uff1b]\uff0c\u884c[&#39\uff1bECAP&#39\uff1b]\uff0c\u884c[&#39\uff1bemplid&#39\uff1b]\uff0c\u884c[&#39\uff1b\u4e3b\u9898&#39\uff1b]\uff0c\u884c[&#39\uff1bnotenbr&#39\uff1b])\u65f6\u95f4\u3002\u7761\u7720(1)\u5355\u51fb_on_by_id(&#39\uff1b$ICField21$new$0$$0&#39\uff1b)\u65f6\u95f4\u3002\u7761\u7720(1)WAIT_FOR_SPINER()\u65f6\u95f4\u3002\u7761\u7720(2)#\u7b49\u5f85\u52a0\u8f7d\u65b0\u8868\u5355\u3002DELETE_EMPTY_CLASS_FORM()#\u6e05\u9664\u5b83\u7684\u65f6\u95f4\u3002\u7761\u7720(2)\n\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u662f\u8fd9\u6837\u7684\u3002\u5047\u8bbe\u6211\u60f3\u81ea\u52a8\u586b\u5165\u6240\u6709\u8bfe\u7a0b\u524d\u7f00\u4e3aphys\u7684\u7269\u7406\u7c7b\uff0c\u5047\u8bbe\u6211\u60f3\u586b\u5165\u6240\u6709121\u95e8\u7f16\u53f7\u8bfe\u7a0b(phys-121\u662f\u751f\u547d\u79d1\u5b66\u4e13\u4e1a\u7684\u7269\u7406)\u3002\u6211\u4f1a\u7ed9CSV_Fill(&#39\uff1bCourses.csv&39\uff1b\uff0c&#39\uff1bphys&39\uff1b\uff0c&#39\uff1b121&#39\uff1b)\u6253\u7535\u8bdd\u3002\n\u5982\u60a8\u6240\u77e5\uff0c\u5b83\u4f7f\u7528\u7684\u662fPython\u7684CSV\u9605\u8bfb\u5668(DictReader)\uff0c\u8be5\u9605\u8bfb\u5668\u80fd\u591f\u8bfb\u53d6CSV\u6587\u4ef6\uff0c\u5e76\u5141\u8bb8\u7528\u6237\u6309\u540d\u79f0\u5f15\u7528\u5217\uff0c\u5982\u6587\u4ef6\u7b2c\u4e00\u884c\u4e2d\u7684\u5217\u6807\u9898\u6240\u793a\u3002IF STA\u3002\n..", "note_en": "It demonstrates the use of Python and Selenium to automate a large data entry job into PeopleSoft.\n It takes a CSV file of the needed data and automates its entry into PeopleSoft.\n  If you have some arduous data entry task, I encourage you to look into Selenium to automate it.\n  I&#39;ve had to use PeopleSoft for part of my job (scheduling classes in a university physics department) for about 6 years now, and in this time have concluded that:  PeopleSoft is a curse on humanity.\n I&#39;m not even sure what &#34;PeopleSoft&#34; (PS) actually is, but the curse for me is the web-based user interface to CRUDing on a backend database that runs my organization (a large university). I actually feel sorry for anyone who uses PS (and a lot of people do). You can spot on a screen it a mile away. The tight, small fonts and little boxes littered all over the screen. There&#39;s no responsive behavior, and it&#39;s uninviting, slow and unintuitive. There&#39;s no modern look to the elements (a la Bootstrap, etc.) and some boxes are too small for content they are to hold. The fonts used look like the ones on the original 80x25 IBM PC.\n A rant? You bet. But PS&#39;s human-facing design makes it so exhausting to use. Here are some examples.\n  Here&#39;s a box that is supposed to hold five letters, one for each a day of the work-week. It only holds four though:\n  Sometimes one has to special click-and-scroll into it to check if all needed days are there.\n  Some text-entry boxes require one to input data in a certain format, which could be eliminated with some simple form-data processing on the server side.\n In this case, suppose I need to place a class in room 101 of building 180. How about typing in 180-101?\n      Ok, finally. Everyone using PS at my organization has to type an extra space, and zero pad the room number. Everyone, everytime. Wow.\n    Maybe a small thing, but requires extra work and mental focus to be sure ticks are correct. Everytime.\n  Then there&#39;s the dreaded spinners and calls to the server with each focus change for a every form entry element (=slow).\n    I find PS to be so unfriendly (and exhausting) to use. Further, changes to PS are nearly impossible to implement, because it is typically used by large organizations requring many levels of committees for approving fixes.\n At one point a while back, I said &#34;enough.&#34; As long as PS appears to be written for robots to use, let&#39;s find one to use it for us! For at least a week, I was contemplating aiming a video feed at my computer screen, and using OpenCV, to control an Arudino Leonardo simulating mouse clicks and keystrokes to input my data. Luckily, a friend who does web-development once showed me a testing tool called &#34;Selenium,&#34; so I decided to take a look. It even says on their website &#34;Boring web-based administration tasks can (and should) also be automated...&#34;\n Yes! Why not look for some kind of automation to drive any PS transactions, in particular data entry?\n  I must use PS to tell the university about my local department&#39;s scheduling plans for upcoming terms (what classes, where, times of day, intructor names, etc.). Once in a backend database, the data then goes to student registration pages (also some derivative of PS), payroll, tuition bills, and some data visualization tools, etc.\n Internally, as I create my department&#39;s schedule, I end up with a CSV file containing all information about my department&#39;s upcoming course offerings. Something like this:\n ASTR-101,01,01,LEC,053 -0215,MTWR,03:10 PM,04:00 PM,Y,70,E,last1,first1,emplid1,,ASTR-102,01,01,LEC,,MTWR,,,Y,120,E,last2,first2,emplid2,,ASTR-102,02,02,LEC,053 -0206,MTWR,04:10 PM,05:00 PM,Y,70,E,last3,first3,emplid3,,ASTR-324,01,01,LEC,053 -0215,MTWR,01:10 PM,02:00 PM,Y,48,E,last4,first4,emplid4,,GEOL-102,01,01,LEC,,MW,07:40 AM,09:00 AM,Y,120,E,last5,first5,emplid5,,GEOL-102,02,9999,DIS,180 -0233,W,10:10 AM,11:00 AM,Y,30,N,last6,first6,emplid6,,.........\n This goes on typically for about 200 lines. Here you can see classes, week days, times, etc. Making this CSV is also a lot of work, but more so on the side of planning. (The genetic algorithm I used to do this planning is another topic.) Nonetheless, this is our schedule, and it must go into PS by a certain deadline four times a year, once for each term.\n A large portion of a previous term&#39;s data is rolled over within PS, but with all of the small changes typically needed, this rollover is only marginally useful. There is still a lot work to be done. Further, data views in PS are non-existent, so you are forced to come up with your own. In my case, it&#39;s graphical drawings of rooms with classes tiled in them, created using scheduling software of my own design. So, when off into my own views, staying synced with PS becomes a huge issue. If I click to drag a class to an hour later in the day (and maybe do this countless times to any number of classes) in my planning phase, how does this make it back into PS?\n When I first started this, I would print my final plan on paper, get out a ruler for keeping track, and type each line into PS. Usually to the tune of 180 classes or so. I know this is crazy, but in large (government) organizations, I think printing data on one computer to enter into another computer is pretty common. In a case like this, there is simply no alternative (TINA?).\n This repository shows how I use Python to read in my CSV and use Selenium to &#34;type&#34; it into PS for me. Sychronization is done by simply deleting what&#39;s in PS and re-entering it all.\n  Selenium is some core of all of the popular web-browsers (Chrome, Firefox, Safari) that can be controlled via software. That means all clicks, fill-in boxes, dropdowns, &#39;save&#39; buttons and the like can be controlled using software. I use the Python &#39;bindings&#39; for it, and somehow when I run my Python script, a Chrome browser pops up that says &#34;Chrome is being controlled by automated test software.&#34; This means two things: 1) The host server (i.e. PS) doesn&#39;t know anything unsual is going on--it&#39;s just Chrome afterall and 2) I don&#39;t click or type anything to control this browser; the Python script controls it.\n  If you&#39;re curious,  the documentation for Selenium is excellent. This first Python example shows you the general plan:\n from  selenium  import  webdriver from  selenium. webdriver. common. by  import  By from  selenium. webdriver. common. keys  import  Keys from  selenium. webdriver. support. ui  import  WebDriverWait from  selenium. webdriver. support. expected_conditions  import  presence_of_element_located from  selenium. webdriver. support  import  expected_conditions  as  EC with  webdriver. Chrome( &#39;/path/to/chromedriver&#39;)  as  driver:  wait  =  WebDriverWait( driver,  10)  driver. get( &#34;https://google.com/&#34;)  driver. find_element( By. NAME,  &#34;q&#34;). send_keys( &#34;cheese&#34;  +  Keys. RETURN)  first_result  =  WebDriverWait( driver,  5). until( EC. presence_of_element_located(( By. CSS_SELECTOR ,  &#34;h3&gt;div&#34;)))  print( first_result. get_attribute( &#34;textContent&#34;))\n Casually browsing the code, you can see how the page  https://google.com/ is requested. Google&#39;s search box is famously referred in the underlying HTML by the same of  q. You tell Selenium to find this element in the HTML data on Google&#39;s main search page ( find_element). Once found, into this element you have Selenium type, via the  send_keys function, the text  cheese followed by return. In other words, you are having Selenium search for the word  cheese--and you&#39;ll see it all happen in the automated Chrome view that the script will pop up on your screen.\n Given lags and general random time delays on the web, you don&#39;t expect any server pages to be loaded instantly, so you tell the web-driver to always wait 10 seconds for result before timing out. You can do whatever you wish with the result of your search query. In this case, the HTML fragment  h3&gt;div is waited for. This starts the &#34;Show More&#34; clickable tag on the Google search results page. Running this code with  python example.py will result, via the final line  print(first_result.get_attribute(&#34;textContent&#34;)) with the text  Show More being displayed in your terminal.\n Congratulations: you just did an automated Google search and fished something out of the search results.\n  Let&#39;s go a step further, and have Selenium click on the &#34;Next&#34; link, to take us to the 2nd page of search results. To do this, you&#39;ll have to fish through the search page&#39;s html code and try to figure out how the &#34;Next&#34; link works.\n To help, I downloaded the &#34;developer edition&#34; of the Firefox browser. It has a &#34;web inspector&#34; which you can find here:\n    Where you can now peek down in the HTML code of Google&#39;s home page to see what part of it is generating the search box. In this case, it&#39;s\n &lt; input  class=&#34; gLFyf gsfi&#34;  maxlength=&#34; 2048&#34;  name=&#34; q&#34;  type=&#34; text&#34;  jsaction=&#34; paste:puy29d&#34;  aria-autocomplete=&#34; both&#34;  aria-haspopup=&#34; false&#34;  autocapitalize=&#34; off&#34;  autocomplete=&#34; off&#34;  autocorrect=&#34; off&#34;  autofocus=&#34;&#34;  role=&#34; combobox&#34;  spellcheck=&#34; false&#34;  title=&#34; Search&#34;  value=&#34;&#34;  aria-label=&#34; Search&#34;  data-ved=&#34; 0ahUKEwjywISjl_XpAhV0HjQIHVhCC1oQ39UDCAY&#34; &gt;\n You can clearly see the  name=&#34;q&#34; tag, which is the same &#34;q&#34; we had Selenium type &#34;cheese&#34; into above.\n   Thus, we can look for an element whose HTML  id is  pnnext (see the  &lt;a id=&#34;pnnext&#34; ...&gt; text?) and tell Seleniun to click on it via\n  This in a nutshell, is what you do with Selenium: direct it to load pages from the web, then look for things of interest to you in the text of pages read back into variables, then act on them. This means fill in text-boxes, click on links, etc.\n My plan is then to use Selenium to log me into my enterprise and navigate to the PS data entry area. From there, the contents of my CSV file will be read and typed into the proper places into the PS form.\n  With the basics of Selenium presented, I&#39;ll now show how I got Selenium to type my data into PS.\n  I don&#39;t think there&#39;s a way of having Selenium &#34;take over&#34; a web browser session that I may have started by hand. So I have to log on to my enterprise first, but that&#39;s OK, it&#39;s good warm-up for things to come. So my code started like this:\n from  selenium  import  webdriver import  selenium. webdriver. support. ui  as  ui from  selenium. webdriver. common. keys  import  Keys from  selenium. webdriver. common. by  import  By from  selenium. webdriver. support. ui  import  WebDriverWait from  selenium. webdriver. support  import  expected_conditions  as  EC from  selenium. webdriver. support. ui  import  Select import  time import  csv import  sys if  len( sys. argv)  !=  3:\t print  &#34;Usage: autops username password&#34;\t exit() username  =  sys. argv[ 1] password  =  sys. argv[ 2] start  =  time. time() browser  =  webdriver. Chrome( &#39;/path/to/chromedriver&#39;) browser. get( &#39;https://my.enterprise.web.address&#39;) handle0  =  browser. current_window_handle print  handle0 fill_in_by_id( &#39;username&#39;, username) time. sleep( 1) fill_in_by_id( &#34;password&#34;, password) time. sleep( 1)\n Required imports at the top, then the code begins. I didn&#39;t want to hardcode by username and password, so I pass those in as command line parameters, as in\n  (I know, I know, passwords on the command line.) Next I start a timer (to get a sense for how long a job runs for) and open the webdriver for Chrome (Safari, Firefox, etc. drivers are also available). There will also be a lot of prints to stdout, to help me keep track of what&#39;s going on.\n So I pull in my enterprise login page, then fill in my username and password using a function called  fill_in_by_id. This is a function I wrote thatwill fill in a HTML text box uniquely identified with the  id= tag. As above, I identified the tag using the Firefox Developer browser. Here is thefunction  fill_in_by_id:\n  First, we wait for the element &#34;by id&#34; to appear in the page, clear it (literally, remove any text that may be in it), then send out the needed string (as if typed). It isimportant in PS to simulate a tab key press at the end of text input. It took a while to figure out that this always forces the text field to reconcile with the server (it brings up a spinner). It then pauses for 0.5 seconds. Yes, when using Selenium, get used to putting in Python&#39;s  time.sleep() here and there to slow your script down, so it won&#39;t race past any relatively slower server you may be talking to.\n  def  wait_for_by_id( elem_id):\t print  &#34;waiting for id &#34; + elem_id\t try:\t\t elem  =  WebDriverWait( browser,  10). until( EC. visibility_of_element_located(( By. ID,  elem_id)))\t except:\t\t print  &#34;could not find &#34; + elem_id + &#34;. Please click on it.&#34;\t\t x = raw_input( &#34;Press [Return] when done...&#34;)\t\t elem  =  False\t return( elem)\n As you can see, we tell the web-driver to wait 10 seconds until the webpage we&#39;re loading detects the HTML element we seek becoming visible. A bit of a failsafe in alsoincluded using the  try/except construct. I found PS to be a wildly erratic system in the timing of its responses. This version of  wait_for_by_id() seem to work best and the  except allows us to recover/continue a lengthy input run in the case of some PS spasm.\n You should be able to use this plan to log in to your enterprise, as needed. Don&#39;t forget to find your &#34;login&#34; button, so Selenium can &#34;click it&#34; to log you in. Mine is clicked using:\n  My login button has a HTML name of  &#34;_eventId_proceed. The Selenium function  find_element_by_name() will find this button, then the  .click() will simulate the click.\n  Once in, you likely need to navigate to your data entry area. For me, this involves a few clicks through my main univeristy portal (portal=word from the 90s). First, I needed to click on a link with the HTML id of  tabLink_u21l1s5. Thus, a line like this:\n  I found this however, to be unreliable when dealing with PS. In other words, sometimes Selenium would just sit, apparently unable to find the link with this id. You may run into trouble like this, likely because elements are in differenet iframes. (I never quite understood how Selenium handles iframes. I think it isolates HTML entities into each, meaning you can&#39;t directly &#34;see&#34; elements in a iframe unless you explicitly change into it.)\n   You see a call again to  wait_for_by_id(), which does a  .click instead of a  send_keys(). This is the only difference between doing a text fill and a click in Selenium.\n It turns out that a more exacting way of finding elements in a page is to use an &#34;xpath&#34; to an element. These are step by step paths into the DOM object to unambiguously point to an HTML element in a document. I gradually defaulted to using xpaths throughout this work, as they seem more reliable in finding elements, particularly in the vast PS HTML jungle. (PS HTML jungle: At some point, I even started feeling sorry for  browsers used to interact with PS, and BTW: the Oracle Interactive Dashboard, which provide views of PS data locks up the Selenium IDE plugin.)\n It seems as if xpaths are generally frowned upon out there (i.e. on StackOverflow), as they are less robust in the long term, as any code changes to PS will break their use. (But I don&#39;t think PS changes very much. My xpaths have been going strong for over a year now.)\n The Firefox Developer will show you such xpaths. Just right click on an element HTML down in the code box, and you can copy out the xpath to an element.\n  In this case, it came out to be //*[@id=&#34;tabLink_u21l1s5&#34;]&#39;. So, yes, we have this pair of functions coded, as xpaths are supported by Selenium:\n def  wait_for_by_xpath( xpath):\t print  &#34;waiting for xpath &#34; + xpath\t try:\t\t elem  =  WebDriverWait( browser,  10). until( EC. visibility_of_element_located(( By. XPATH,  xpath)))\t except:\t\t print  &#34;could not find &#34; + xpath + &#34;. Please click on it.&#34;\t\t x = raw_input( &#34;Press [Return] when done...&#34;)\t\t elem  =  False\t return( elem) def  click_on_by_xpath( xpath):\t elem  =  wait_for_by_xpath( xpath)\t if  elem  !=  False:\t\t elem. click()\n   To make that first click into the portal. The next click in our portal is a launch into PS, having this xpath  /html/body/div/div/div[3]/div/div/div[5]/div[2]/div/div[2]/div/div[3]/div/div[1]/h2[1]/a&#39; so we do this:\n  This second click essentially brings us to the main PS starting point, as it is connected to the university portal. You can kind of see what xpaths are: a lineage of stops to an element in a page. In this case, look in the html, then to the body, then into some divs, etc. There are many tutorials and videos on xpaths. I found the xpath tutorials by  this Youtuber to be helpful.\n  Now for the big moment. With some basics of Selenium are covered, it&#39;s now time to tackle getting the CSV data auto-typed into PS. The CSV file above has a header describing each column, that looks like this:\n  In terms of scheduling classes, these are fields that need to go into various boxes and dropdowns in the dreaded &#34;class entry&#34; form in PS. Configuring a class has many boxes, all needing to be filled in with something from one of these columns. The fields in PS are also spread across multiple tabs. Here we go.\n   Once again, I used the Firefox Developer to find xpaths or IDs for all boxes, dropdowns, and tabs I would be needing. This first tab for example has the id  ICTAB_0. The &#34;Class section&#34; (id= CLASS_TBL_CLASS_SECTION$0&#34;) and &#34;Associated class&#34; (id= CLASS_TBL_SSR_COMPONENT$0) boxes, for example, are in columns 2 and 3 of my CSV file.\n The tab labeled &#34;Meetings&#34; (id= ICTAB_1) has historically been the killer one to deal with, as it contains the boxes for start, end, and days a class meets. Manually entering data into this form is so arduous and error prone. All of the small details, no formatting help from the web-interface, and spinners to wait for after focus loss in each form element (even tick boxes!). This is all part of &#34;the curse.&#34;\n  For entering a whole line from the CSV into this combinations of tabs, etc. a function called  csv_fill() was written as:\n def  csv_fill( file_name, class_prefix, class_number):\t with  open( file_name)  as  csv_file:\t  the_file  =  csv. DictReader( csv_file,  delimiter = &#39;,&#39;)\t  for  row  in  the_file:\t \t if  row[ &#39;class&#39;]. lower()  == ( class_prefix  +  &#39;-&#39;  +  class_number). lower():\t \t\t enter_class_info( row[ &#39;section_number&#39;], row[ &#39;assoc_number&#39;], row[ &#39;type&#39;], row[ &#39;enroll&#39;], row[ &#39;print&#39;], row[ &#39;room&#39;], row[ &#39;days&#39;], row[ &#39;start&#39;], row[ &#39;end&#39;], row[ &#39;ecap&#39;], row[ &#39;emplid&#39;], row[ &#39;topic&#39;], row[ &#39;notenbr&#39;])\t \t\t time. sleep( 1)\t \t\t click_on_by_id( &#39;$ICField21$new$0$$0&#39;)\t \t\t time. sleep( 1)\t \t\t wait_for_spinner()\t time. sleep( 2)  #wait for new form to load.\t delete_empty_class_form()  #get rid of it\t time. sleep( 2)\n It works like this. Suppose I want to autofill in all &#34;physics&#34; classes, that have course prefix of  PHYS, and suppose I want to put in all of the  121 numbered courses (PHYS-121 is physics for life-science majors). I would make a call to  csv_fill(&#39;courses.csv&#39;,&#39;PHYS&#39;,&#39;121&#39;).\n As you can tell, this uses Python&#39;s CSV reader (DictReader) that is able to read in a CSV file and allow one to refer to a column by name, as given by column titles in the first row of the file.The  if sta\n......", "posttime": "2020-06-23 07:12:21", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "rust,\u9879\u76ee,project,ps", "title": "\u53d7\u632b\u9879\u76ee\uff1a\u4f7f\u7528Selenium\u81ea\u52a8\u5c06\u6570\u636e\u8f93\u5165PeopleSoft", "title_en": "Frustration project: Automate data entry into PeopleSoft with Selenium", "transed": 1, "url": "https://github.com/tbensky/selenium-peoplesoft", "via": "", "real_tags": ["rust", "\u9879\u76ee", "project", "ps"]}, {"category": "", "categoryclass": "", "imagename": "22cbbd96c7345d6823da7f5f6810b0e6.jpg", "infoid": 1007729, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5df2\u7ecf\u5728\u7f8e\u56fd\u7684\u7b7e\u8bc1\u6301\u6709\u8005\u548c\u90a3\u4e9b\u5df2\u7ecf\u83b7\u5f97\u7b7e\u8bc1\u7684\u7533\u8bf7\u8005\u53ef\u4ee5\u514d\u4e8e\u7981\u4ee4\u3002\u8fd9\u4e9b\u9650\u5236\u63aa\u65bd\u6253\u7b97\u6301\u7eed\u5230\u4eca\u5e74\u5e74\u5e95\uff0c\u8fd9\u5c06\u6270\u4e71\u653f\u5e9c\u572810\u6708\u4efd\u56fd\u5bb6\u8d22\u653f\u65e5\u5386\u5f00\u59cb\u65f6\u53d1\u653e\u65b0\u7b7e\u8bc1\u7684\u5178\u578b\u7a0b\u5e8f\u3002\n\u7279\u6717\u666e\u653f\u5e9c\u7684\u5b98\u5458\u544a\u8bc9\u534e\u5c14\u8857\u65e5\u62a5\uff0c\u6b64\u4e3e\u65e8\u5728\u4fdd\u62a4\u7f8e\u56fd\u7684\u5c31\u4e1a\uff0c\u4f46\u79d1\u6280\u884c\u4e1a\u7684\u9ad8\u7ba1\u957f\u671f\u4ee5\u6765\u4e00\u76f4\u8b66\u544a\u8bf4\uff0c\u7b7e\u8bc1\u9650\u5236\u5c06\u635f\u5bb3\u7f8e\u56fd\u5728\u4f5c\u4e3a\u7ecf\u6d4e\u589e\u957f\u5f15\u64ce\u7684\u5177\u6709\u6218\u7565\u548c\u8d22\u52a1\u610f\u4e49\u7684\u884c\u4e1a\u4e2d\u7684\u7ade\u4e89\u80fd\u529b\u3002\n\u79d1\u6280\u5b98\u5458\u751a\u81f3\u63d0\u5230\uff0c\u79fb\u6c11\u9650\u5236\u662f\u4e00\u4e2a\u56e0\u7d20\uff0c\u53ef\u80fd\u4f1a\u8feb\u4f7f\u516c\u53f8\u5c06\u66f4\u591a\u4e1a\u52a1\u8fc1\u5f80\u6d77\u5916\uff0c\u4ee5\u52aa\u529b\u62db\u8058\u548c\u7559\u4f4f\u9876\u5c16\u6280\u672f\u4eba\u624d\u3002\n\u79d1\u6280\u884c\u4e1a\u6e38\u8bf4\u56e2\u4f53TechNet\u7684\u603b\u88c1\u517c\u9996\u5e2d\u6267\u884c\u5b98\u7433\u8fbe\u00b7\u6469\u5c14(Linda Moore)\u5728\u4e00\u4efd\u58f0\u660e\u4e2d\u8bf4\uff0c\u201c\u79d1\u6280\u884c\u4e1a\u6b63\u5728\u52a0\u73ed\u52a0\u70b9\u5730\u5de5\u4f5c\uff0c\u901a\u8fc7\u63d0\u4f9b\u9001\u9910\u670d\u52a1\u3001\u8fdc\u7a0b\u533b\u7597\u3001\u534f\u4f5c\u5546\u4e1a\u89e3\u51b3\u65b9\u6848\uff0c\u4ee5\u53ca\u8ba9\u5bb6\u4eba\u548c\u670b\u53cb\u4fdd\u6301\u8054\u7cfb\u7684\u65b9\u5f0f\uff0c\u5728\u5168\u7403\u5927\u6d41\u884c\u671f\u95f4\u4fdd\u6301\u7f8e\u56fd\u4eba\u7684\u8054\u7cfb\u3002\u201d\u4ed6\u8bf4\uff1a\u201c\u5c55\u671b\u672a\u6765\uff0c\u79d1\u6280\u5c06\u7ee7\u7eed\u5bf9\u6211\u4eec\u7684\u7ecf\u6d4e\u91cd\u5efa\u8d77\u5173\u952e\u4f5c\u7528\u3002\u4eca\u5929\u7684\u884c\u653f\u547d\u4ee4\u53ea\u4f1a\u963b\u788d\u4f01\u4e1a\u5c31\u5982\u4f55\u6700\u597d\u5730\u90e8\u7f72\u73b0\u6709\u52b3\u52a8\u529b\u548c\u62db\u8058\u65b0\u5458\u5de5\u505a\u51fa\u51b3\u5b9a\u7684\u80fd\u529b\u3002\u8fd9\u5c06\u51cf\u7f13\u521b\u65b0\uff0c\u5e76\u7834\u574f\u79d1\u6280\u884c\u4e1a\u4e3a\u5e2e\u52a9\u6211\u4eec\u56fd\u5bb6\u4ece\u53f2\u65e0\u524d\u4f8b\u7684\u4e8b\u4ef6\u4e2d\u590d\u82cf\u6240\u505a\u7684\u5de5\u4f5c\u3002\u201c\u3002\n\u636e\u65b0\u95fb\u62a5\u9053\uff0c\u5b98\u5458\u4eec\u9884\u8ba1\u8fd9\u4e9b\u65b0\u7684\u9650\u5236\u63aa\u65bd\u5c06\u6301\u7eed\u5230\u4eca\u5e74\u5e74\u5e95\uff0c\u5e76\u6269\u5927\u603b\u7edf\u57284\u6708\u4efd\u5b9e\u65bd\u7684\u79fb\u6c11\u7981\u4ee4\uff0c\u8fd9\u4e9b\u7981\u4ee4\u963b\u6b62\u7f8e\u56fd\u516c\u6c11\u7684\u5bb6\u4eba\u79fb\u6c11\uff0c\u5e76\u5927\u5e45\u524a\u51cf\u4e86\u5bfb\u6c42\u79fb\u6c11\u5230\u7f8e\u56fd\u7684\u9ad8\u6280\u80fd\u79fb\u6c11\u5de5\u4eba\u53ef\u4ee5\u83b7\u5f97\u7684\u7b7e\u8bc1\u6570\u91cf\u3002\n\u63d0\u4f9b\u7ed9\u534e\u5c14\u8857\u65e5\u62a5\u7684\u4f30\u8ba1\u663e\u793a\uff0c\u7531\u4e8e\u6269\u5927\u7684\u65c5\u884c\u9650\u5236\uff0c\u5927\u7ea652.5\u4e07\u4eba\u5c06\u65e0\u6cd5\u8fdb\u5165\u7f8e\u56fd\uff0c\u5176\u4e2d\u5305\u62ec\u81ea4\u6708\u4efd\u4ee5\u6765\u88ab\u7981\u6b62\u8fdb\u5165\u7f8e\u56fd\u768417\u4e07\u7eff\u5361\u6301\u6709\u8005\u3002\u534e\u5c14\u8857\u65e5\u62a5\u63f4\u5f15\u7279\u6717\u666e\u653f\u5e9c\u5b98\u5458\u7684\u8bdd\u8bf4\uff0c\u8fd9\u9879\u5021\u8bae\u662f\u201c\u7f8e\u56fd\u4f18\u5148\u7684\u590d\u82cf\u201d\uff0c\u53ef\u80fd\u4f1a\u4e3a\u5931\u4e1a\u7684\u7f8e\u56fd\u4eba\u521b\u902050\u4e07\u4e2a\u5c31\u4e1a\u673a\u4f1a\u3002\n\u79d1\u6280\u9ad8\u7ba1\u5df2\u7ecf\u8868\u8fbe\u4e86\u4ed6\u4eec\u5bf9\u62a5\u9053\u4e2d\u7684\u7981\u4ee4\u7684\u4e0d\u6ee1\u3002\u201c\u7981\u6b62\u6240\u6709H1B\u7b7e\u8bc1\u610f\u5473\u7740\u50cf\u6211\u8fd9\u6837\u7684\u9996\u5e2d\u6267\u884c\u5b98\u5fc5\u987b\u5728\u52a0\u62ff\u5927\u7b49\u5141\u8bb8\u79fb\u6c11\u7684\u56fd\u5bb6\u5f00\u8bbe\u529e\u4e8b\u5904\u5e76\u96c7\u4f63\u66f4\u591a\u4eba\u3002\u8fd9\u9879\u7b7e\u8bc1\u7981\u4ee4\u5728\u9053\u5fb7\u4e0a\u662f\u9519\u8bef\u7684\uff0c\u5728\u7ecf\u6d4e\u4e0a\u4e5f\u662f\u611a\u8822\u7684\uff0c\u201c\u79d1\u6280\u521d\u521b\u516c\u53f8SkyFlow\u7684\u9996\u5e2d\u6267\u884c\u5b98\u5b89\u8212\u00b7\u590f\u5c14\u9a6c(Anshu Sharma)\u5199\u9053\u3002\n\u7981\u6b62\u6240\u6709H1B\u7b7e\u8bc1\u610f\u5473\u7740\u50cf\u6211\u8fd9\u6837\u7684\u9996\u5e2d\u6267\u884c\u5b98\u5fc5\u987b\u5728\u52a0\u62ff\u5927\u7b49\u5141\u8bb8\u79fb\u6c11\u7684\u56fd\u5bb6\u5f00\u8bbe\u529e\u4e8b\u5904\u5e76\u96c7\u4f63\u66f4\u591a\u4eba\u3002\n\u8fd9\u9879\u7b7e\u8bc1\u7981\u4ee4\u5728\u9053\u5fb7\u4e0a\u662f\u9519\u8bef\u7684\uff0c\u5728\u7ecf\u6d4e\u4e0a\u4e5f\u662f\u611a\u8822\u7684\u3002\u4f60\u4e0d\u662f\u8bf4\u201c\u5408\u6cd5\u79fb\u6c11\u201d\u5417\uff1fhttps://t.co/R9O9Q1Ts0j\u3002\n\u6295\u8d44\u8005\u4e5f\u5bf9\u8fd9\u4e00\u51b3\u5b9a\u5bf9\u7f8e\u56fd\u7ade\u4e89\u80fd\u529b\u7684\u5f71\u54cd\u611f\u5230\u4e0d\u5b89\u3002\n\u201c\u4e0d\u7ba1\u4ed6\u7684\u653f\u5e9c\u662f\u5426\u610f\u8bc6\u5230\u8fd9\u4e00\u70b9\uff0c\u4ed6\u4eec\u90fd\u7ed9\u7f8e\u56fd\u7684\u521b\u65b0\u9020\u6210\u4e86\u5f88\u5927\u7684\u969c\u788d\u3002\u6280\u672f\u6295\u8d44\u57fa\u91d1Urban.us\u7684\u8054\u5408\u521b\u59cb\u4ebaStonly Baptiste\u5199\u9053\uff1a\u201c\u6211\u4eec\u6700\u5177\u521b\u65b0\u6027\u548c\u5f71\u54cd\u529b\u7684\u6295\u8d44\u7ec4\u5408\u516c\u53f8\u548c\u4ed6\u4eec\u7684\u8bb8\u591a\u5458\u5de5\u90fd\u662f\u4ece\u6301\u6709H-1b\u7b7e\u8bc1\u5f00\u59cb\u7684\u3002\u201c\u5982\u679c\u6ca1\u6709H-1B\uff0c\u6211\u4eec\u5b9e\u9645\u4e0a\u4e0d\u53ef\u80fd\u5728\u4e00\u4e2a\u73af\u5883\u4e2d\u5efa\u7acb\u6211\u4eec\u7684\u6295\u8d44\u7ec4\u5408\u3002\u6211\u4eec\u751a\u81f3\u4e0d\u662f\u4e00\u4e2a\u4e13\u6ce8\u4e8e\u79fb\u6c11\u7684\u57fa\u91d1\u3002\u201c\u3002\n\u540c\u6837\u88ab\u780d\u6389\u7684\u8fd8\u6709H-2B\u7b7e\u8bc1\uff0c\u8fd9\u79cd\u7b7e\u8bc1\u7528\u4e8e\u8ba9\u4ece\u4e8b\u56ed\u6797\u7eff\u5316\u548c\u975e\u519c\u5de5\u4f5c\u7684\u77ed\u671f\u5b63\u8282\u6027\u5de5\u4eba\u8fdb\u5165\u7f8e\u56fd\uff0c\u4e3a\u8425\u5730\u987e\u95ee\u548c\u4e92\u52a9\u751f\u7b49\u77ed\u671f\u5de5\u4eba\u63d0\u4f9bJ-1\u5de5\u4f5c\uff0c\u4ee5\u53ca\u4e3a\u516c\u53f8\u8c03\u4efb\u63d0\u4f9bL-1\u7b7e\u8bc1\u3002\n\u4e13\u6ce8\u4e8e\u533b\u7597\u4fdd\u5065\u7684\u521d\u521b\u516c\u53f8Elektra Labs\u7684\u9996\u5e2d\u6267\u884c\u5b98\u5b89\u8fea\u00b7\u79d1\u62c9\u6c83\u65af(Andy Coravos)\u5728\u4e00\u6761\u76f4\u63a5\u4fe1\u606f\u4e2d\u5199\u9053\uff1a\u201c\u901a\u8fc7\u9650\u5236\u7f8e\u56fd\u516c\u53f8\u7684\u4eba\u624d\u5e93\uff0c\u7f8e\u56fd\u653f\u5e9c\u6b63\u5728\u963b\u788d\u6211\u4eec\u5efa\u7acb\u5f3a\u5927\u3001\u6709\u9632\u5fa1\u80fd\u529b\u7684\u7ec4\u7ec7\u7684\u80fd\u529b\u3002\u201d\u201c\u7279\u6717\u666e\u653f\u5e9c\u6682\u505c\u5916\u56fd\u5de5\u4f5c\u7b7e\u8bc1\u7684\u884c\u653f\u547d\u4ee4\u4e0d\u4ec5\u57fa\u4e8e\u6050\u60e7\uff0c\u8fd8\u4f1a\u8ba9\u6211\u4eec\u793e\u533a\u7684\u6050\u60e7\u6c38\u4e45\u5316\uff0c\u4e0d\u7b26\u5408\u6211\u4eec\u793e\u4f1a\u7684\u6700\u4f73\u5229\u76ca\u3002\u201d\n\u533b\u62a4\u4eba\u5458\u3001\u51a0\u72b6\u75c5\u6bd2\u7814\u7a76\u4eba\u5458\u3001\u98df\u54c1\u5305\u88c5\u4e2d\u7684\u98df\u54c1\u4f9b\u5e94\u4eba\u5458\u90fd\u4e0d\u53d7\u7b7e\u8bc1\u6682\u505c\u7684\u5f71\u54cd\u3002\n\u79d1\u6280\u9ad8\u7ba1\u5e76\u4e0d\u662f\u552f\u4e00\u7ad9\u51fa\u6765\u53cd\u5bf9\u66f4\u4e25\u683c\u7684\u79fb\u6c11\u89c4\u5b9a\u7684\u4eba\u30025\u670827\u65e5\uff0c\u5305\u62ec\u5357\u5361\u7f57\u6765\u7eb3\u5dde\u6709\u6743\u52bf\u7684\u8d44\u6df1\u53c2\u8bae\u5458\u6797\u8d5b\u00b7\u683c\u96f7\u5384\u59c6(Lindsey Graham)\u548c\u5fb7\u514b\u8428\u65af\u5dde\u53c2\u8bae\u5458\u7ea6\u7ff0\u00b7\u79d1\u5b81(John Cornyn)\u5728\u5185\u76849\u540d\u5171\u548c\u515a\u53c2\u8bae\u5458\u53d1\u8868\u4e86\u4e00\u5c01\u8054\u540d\u4fe1\uff0c\u6073\u6c42\u603b\u7edf\u91cd\u65b0\u8003\u8651\u4f20\u8a00\u4e2d\u7684\u79fb\u6c11\u9650\u5236\u3002\n\u4ed6\u4eec\u5199\u9053\uff1a\u201c\u9700\u8981\u5ba2\u5de5\u6765\u4fc3\u8fdb\u7f8e\u56fd\u7684\u5546\u4e1a\u53d1\u5c55\uff0c\u800c\u4e0d\u662f\u62a2\u8d70\u7f8e\u56fd\u4eba\u7684\u5de5\u4f5c\u3002\u201d", "note_en": "Visa-holders already in the U.S. and those applicants who have already received a visa are exempt from the ban. The restrictions are intended to last until the end of the year, which would disrupt the government\u2019s typical process of awarding new visas at the beginning of the national fiscal calendar in October.\n Officials from the Trump administration  told the Wall Street Journal that the move is intended to protect American jobs, but executives in the technology industry have long warned that visa restrictions would hurt the nation\u2019s ability to compete in industries that have both strategic and financial significance as engines of economic growth.\n  Tech officials have even cited immigration curbs as a factor that would force companies to relocate more of their operations overseas in an effort to hire and retain top technology talent.\n \u201cThe technology industry is working overtime to keep Americans connected during a global pandemic by providing food delivery services, telehealth care, collaborative business solutions, and ways for families and friends to stay connected,\u201d said Linda Moore, the president and chief executive of the tech industry\u2019s lobbying group, TechNet, in a statement. \u201cLooking forward, technology will continue to be crucial to the rebuilding of our economy. Today\u2019s executive order only hinders the ability of businesses to make decisions on how best to deploy their existing workforce and hire new employees. This will slow innovation and undermine the work the technology industry is doing to help our country recover from unprecedented events.\u201d\n According to news reports, officials expect these new restrictions to last until the end of the year, and expand the immigration bans that the President put in place in April that blocked family members of U.S. citizens from immigrating and slashed the number of visas available to high-skilled\u00a0 workers looking to immigrate to the US.\n Estimates provided to the Wall Street Journal indicate that roughly 525,000 people will be unable to enter the country as a result of the expanded travel restrictions including 170,000 green card holders barred from entering the U.S. since April. The Trump administration official quoted by the Journal called the initiative an \u201cAmerica-first recovery\u201d that would potentially open up 500,000 jobs for out-of-work Americans.\n Technology executives are already voicing their displeasure with the reported ban. \u201cBanning all H1B [sic] visas means CEOs like me have to open offices and hire more people in countries like  Canada   that allow immigration. This visa ban is morally wrong and economically stupid,\u201d wrote  Anshu Sharma,   the chief executive officer of the technology startup  Skyflow.\n Banning all H1B visas means CEOs like me have to open offices and hire more people in countries like Canada that allow immigration.\n This visa ban is morally wrong, and economically stupid. What happened to being \u201cfor legal immigration\u201d?  https://t.co/R9O9Q1Ts0j\n Investors are also up-in-arms about the decision\u2019s impact on America\u2019s ability to compete.\n \u201cWhether his administration realizes it or not, they creating a significant handicap for US innovation. Our most innovative and impactful portfolio companies and many of their employees started as H-1b holders,\u201d wrote Stonly Baptiste, the co-founder of technology investment fund, Urban.us. \u201c We literally couldn\u2019t have built our portfolio in an environment without H-1B. And we\u2019re not even an immigrant focused fund.\u201d\n Also on the chopping block are H-2B visas, which are used to let short-term seasonal workers in landscaping and non-farm jobs into the country, J-1 jobs for short-term workers like camp counselors and au pairs and L-1 visas for corporate company transfers.\n \u201cBy limiting the talent pool for American companies, the US government is hindering our ability to build strong, defensible organizations,\u201d wrote Andy Coravos, the chief executive officer of the healthcare-focused startup  Elektra Labs, in a direct message. \u201cThe Trump Administration\u2019s Executive Order to suspend foreign work visas is not only based in fear, but also perpetuates fear within our community, and is not in our society\u2019s best interest.\u201d\n Healthcare workers, coronavirus researchers, food supply workers in food packaging are all exempt from the visa suspensions.\n Technology executives aren\u2019t the only ones coming out against the tighter immigration rules. A group of nine Republican senators including South Carolina\u2019s powerful senior senator, Lindsey Graham, and Texas Senator John Cornyn, issued a joint letter on May 27, which pleaded with the President to reconsider the rumored immigration restrictions.\n \u201cGuest workers are needed to boost American business, not take American jobs,\u201d they wrote.", "posttime": "2020-06-23 06:53:44", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u7b7e\u7f72,sign,\u7f8e\u56fd", "title": "\u7279\u6717\u666e\u5c06\u7b7e\u7f72\u884c\u653f\u547d\u4ee4\u6682\u505cH-1B\u5de5\u4f5c\u7b7e\u8bc1", "title_en": "Trump will sign executive order temporarily suspending work visas for H-1B", "transed": 1, "url": "https://techcrunch.com/2020/06/22/president-trump-reportedly-will-sign-executive-order-temporarily-suspending-work-visas-for-h-1b-holders/", "via": "", "real_tags": ["\u7b7e\u7f72", "sign", "\u7f8e\u56fd"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1007728, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5982\u679c\u627e\u4e0d\u5230\u6267\u884c\u6240\u9700\u529f\u80fd\u7684\u6a21\u62dfIC\uff0c\u8be5\u600e\u4e48\u529e\uff1f\n\u6bcf\u9694\u51e0\u5e74\uff0c\u6211\u6536\u5230\u7684\u53cd\u9988\u5c31\u4f1a\u8ba9\u6211\u786e\u4fe1\uff0c\u73b0\u5728\u662f\u6211\u63d0\u9192\u6a21\u62df\u5de5\u7a0b\u5e08\u7684\u65f6\u5019\u4e86\uff0c\u4ed6\u4eec\u5fc5\u987b\u50cf\u5de5\u7a0b\u5e08\u548c\u8bbe\u8ba1\u7535\u8def\u4e00\u6837\u884c\u4e8b\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u5730\u7528\u73b0\u6210\u7684\u6a21\u5757\u7ec4\u88c5\u7cfb\u7edf\u3002\n\u90a3\u4e48\uff0c\u4f60\u5e94\u8be5\u600e\u4e48\u505a\u5462\uff1f\u6253\u9020\u60a8\u81ea\u5df1\u7684\u4e13\u7528\u96c6\u6210\u7535\u8def(ASIC)\uff01\u6211\u4eec\u90fd\u503e\u5411\u4e8e\u8ba4\u4e3a\u96c6\u6210\u7535\u8def(ASIC\u7684IC\u4f4d)\u662f\u5355\u7247\u7845\u7247\uff0c\u4f46\u8fd9\u4e2a\u60f3\u6cd5\u6bd4\u5355\u7247IC\u65e9\u4e86\u51e0\u5341\u5e74\u3002\u8fd0\u7b97\u653e\u5927\u5668\u5e94\u7528\u624b\u518c\u5c55\u793a\u4e86\u4e00\u79cd\u65e9\u671f\u96c6\u6210\u7535\u8def\uff1aPhilrick\u7684K2-W\u8fd0\u7b97\u653e\u5927\u5668\uff0c\u8fd9\u662f\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a\u771f\u7a7a\u7ba1\u7684\u63d2\u5165\u5f0f\u6a21\u5757\uff0c\u4e8e1952\u5e74\u8fdb\u5165\u5546\u4e1a\u5e02\u573a\u3002\u968f\u7740\u6676\u4f53\u7ba1\u7684\u53d1\u660e\uff0c\u6a21\u5757\u5316\u7535\u8def\u529f\u80fd\u53d8\u5f97\u76f8\u5f53\u666e\u904d-\u5b83\u4eec\u901a\u5e38\u4e0d\u88ab\u79f0\u4e3a\u201c\u96c6\u6210\u7535\u8def\u201d\uff0c\u4f46\u5b83\u4eec\u6b63\u662f\u5982\u6b64\u3002\u8fd9\u6837\u7684\u201c\u96c6\u6210\u7535\u8def\u201d\u4e0d\u4e00\u5b9a\u662f\u73b0\u6210\u7684\u6a21\u5757\u8d2d\u4e70\u7684\uff1b\u76f8\u53cd\uff0c\u5b83\u4eec\u53ef\u80fd\u662f\u4f17\u6240\u5468\u77e5\u7684\u7535\u8def\u529f\u80fd-\u901a\u5e38\u4ee5\u5176\u53d1\u660e\u8005\u7684\u540d\u5b57\u547d\u540d-\u88ab\u5408\u5e76\u5230\u8bbe\u8ba1\u4e2d\u3002\u4e00\u4e9b\u4f8b\u5b50\u5305\u62ec\u79d1\u5c14\u76ae\u8328\u632f\u8361\u5668\u3001\u57c3\u514b\u5c14\u65af-\u4e54\u4e39\u89e6\u53d1\u5668\u548c\u591a\u5c14\u8482\u653e\u5927\u5668\u3002\n\u6240\u4ee5\uff0c\u5f53\u6211\u8bf4\u201c\u5efa\u7acb\u4f60\u81ea\u5df1\u7684ASIC\u201d\u65f6\uff0c\u6211\u5e76\u4e0d\u662f\u5efa\u8bae\u4f60\u5f00\u59cb\u8bbe\u8ba1\u4f60\u81ea\u5df1\u7684\u5355\u7247\u82af\u7247\u3002\u5982\u679c\u60a8\u9700\u8981\u5927\u91cf\u7ec4\u4ef6\uff0c\u8fd9\u53ef\u80fd\u662f\u503c\u5f97\u7684\uff0c\u4f46\u662f\u9700\u8981\u5c11\u4e8e10,000\u4e2a\u7ec4\u4ef6\u7684\u7cfb\u7edf\u5f88\u5c11\u4ece\u8fd9\u79cd\u65b9\u6cd5\u4e2d\u53d7\u76ca\u3002\u73b0\u573a\u53ef\u7f16\u7a0b\u6a21\u62df\u9635\u5217(FPAA)\u6709\u65f6\u5bf9\u4e8e\u4f7f\u7528\u5927\u91cf\u8fd0\u7b97\u653e\u5927\u5668\u7684\u5b50\u7cfb\u7edf\u5f88\u6709\u7528\uff0c\u4f46\u5bf9\u4e8e\u5305\u542b\u5176\u4ed6\u529f\u80fd\u7684\u5c0f\u578b\u7cfb\u7edf\u6765\u8bf4\u5f88\u5c11\u5177\u6709\u6210\u672c\u6548\u76ca\u3002\n\u6211\u4e5f\u4e0d\u5efa\u8bae\u60a8\u5c06\u5b50\u7cfb\u7edf\u4f5c\u4e3a\u4e00\u4e2a\u6574\u6d01\u7684\u6a21\u5757\uff0c\u5c3d\u7ba1\u5982\u679c\u60a8\u613f\u610f\u7684\u8bdd\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u505a\u3002\u6211\u6700\u8fd1\u4e70\u4e86\u4e00\u53f03D\u6253\u5370\u673a\uff0c\u6211\u53d1\u73b0\u73b0\u5728\u6211\u5236\u4f5c\u7684\u8bb8\u591a\u5c0f\u73a9\u610f\u513f\u6bd4\u4ee5\u524d\u4e0d\u5f97\u4e0d\u7528\u9a6c\u53e3\u94c1\u3001PCB\u6750\u6599\u3001\u6728\u5934\u6216\u5851\u6599\u8584\u7247\u624b\u5de5\u5236\u4f5c\u76d2\u5b50\u65f6\u8981\u6574\u9f50\u5f97\u591a\u3002\n\u7136\u800c\uff0c\u6211\u7684\u5efa\u8bae\u662f\uff0c\u5982\u679c\u60a8\u9700\u8981\u4e00\u4e2a\u5b9a\u4e49\u826f\u597d\u7684\u5b50\u7cfb\u7edf\uff0c\u4f46\u627e\u4e0d\u5230\u73b0\u6210\u7684ASIC\uff0c\u60a8\u65e2\u4e0d\u5e94\u8be5\u7edd\u671b\uff0c\u4e5f\u4e0d\u5e94\u8be5\u5c1d\u8bd5\u5c06\u5176\u8bbe\u8ba1\u4e3a\u6574\u4e2a\u7cfb\u7edf\u7684\u4e00\u4e2a\u7ec4\u6210\u90e8\u5206\u3002\u76f8\u53cd\uff0c\u60a8\u5e94\u8be5\u8003\u8651\u5c06\u5176\u8bbe\u8ba1\u4e3a\u5355\u72ec\u5b9a\u4e49\u7684\u5b50\u7cfb\u7edf\u3002\u8fd9\u53ef\u80fd\u7b80\u5316\u4e86\u8bbe\u8ba1\uff1b\u5b83\u5f53\u7136\u7b80\u5316\u4e86\u6d4b\u8bd5\u548c\u8bc4\u4f30\uff0c\u5e76\u4e14\u662f\u5236\u9020\u5546\u54f2\u5b66\u3001\u5236\u9020\u5546\u7684\u6743\u5229\u6cd5\u6848\u548c\u5de5\u5320\u5ba3\u8a00\u7684\u4e00\u79cd\u6709\u4ef7\u503c\u7684\u8868\u8fbe\u3002\n\u73b0\u4ee3\u6a21\u62dfIC\u6bd4\u4ee5\u5f80\u4efb\u4f55\u65f6\u5019\u90fd\u66f4\u6613\u4e8e\u4f7f\u7528\uff0c\u4f7f\u8fd0\u7b97\u653e\u5927\u5668\u3001\u57fa\u51c6\u7535\u538b\u6e90\u3001\u4e58\u6cd5\u5668\u3001\u8f6c\u6362\u5668\u548c\u6a21\u62df\u5f00\u5173\u7b49\u6784\u5efa\u6a21\u5757\u80fd\u591f\u6267\u884c\u590d\u6742\u7684\u529f\u80fd\u3002\u6211\u6700\u8fd1\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u5355\u8fb9\u5e26(SSB)\u65e0\u7ebf\u7535\u63a5\u6536\u673a\u3002\u63a5\u6536\u673a\u7684\u81ea\u52a8\u589e\u76ca\u63a7\u5236(AGC)\u7cfb\u7edf\u5e94\u8ddf\u8e2a\u9ad8\u8fbe20dB/\u79d2\u7684\u53d8\u5316\u4fe1\u53f7\u3002\u5728\u8bb2\u8bdd\u6682\u505c\u671f\u95f4\u6ca1\u6709\u4fe1\u53f7\uff0c\u56e0\u6b64AGC\u5728\u8fd9\u4e9b\u65f6\u95f4\u4e0d\u5e94\u8be5\u6539\u53d8\u3002\u7136\u800c\uff0c\u5728\u6682\u505c\u4e00\u79d2\u949f\u4e4b\u540e\uff0c\u7cfb\u7edf\u5e94\u8be5\u5f88\u5feb\u6062\u590d\u5230\u5b8c\u5168\u589e\u76ca\u3002\u8fd9\u4e2aAGC\u7cfb\u7edf\u57281967\u52301993\u5e74\u95f4\u4ee5\u5355\u7247ASIC\u7684\u5f62\u5f0f\u51fa\u73b0\uff0c\u4f46\u662f\u81ea\u4ece\u6211\u7684\u66ff\u4ee3\u54c1\u4f7f\u7528\u4e86\u5747\u65b9\u6839\u5230\u76f4\u6d41\u8f6c\u6362\u5668\u548c\u51e0\u4e2a\u8fd0\u7b97\u653e\u5927\u5668\u4e4b\u540e\uff0c\u5b83\u5c31\u518d\u4e5f\u6ca1\u6709\u5236\u9020\u51fa\u6765\u4e86\u3002\n\u6211\u9080\u8bf7\u60a8\u5728EngineerZone\u4e0a\u7684\u6a21\u62df\u5bf9\u8bdd\u793e\u533a\u4e2d\u8bc4\u8bbaDIY ASIC\u3002", "note_en": "What should I do if I can\u2019t find an analog IC that performs the required function?\n      Every couple of years the feedback I receive convinces me that it&#39;s time for me to remind analog engineers that they must behave like engineers and design circuits, rather than simply assembling systems from ready-made blocks.\n So, what should you do? Build your own  application specific integrated circuit (ASIC)! We all tend to think of integrated circuits (the IC bit of ASIC) as single silicon chips, but the idea predates monolithic ICs by decades. The  Op Amp Applications Handbook shows an early integrated circuit: Philbrick\u2019s  K2-W op amp, a plug-in module containing two vacuum tubes, which entered the commercial market in 1952. With the invention of the transistor, modular circuit functions became quite common\u2014they were not usually called \u201cintegrated circuits,\u201d but that&#39;s exactly what they were. Such \u201cintegrated circuits\u201d were not necessarily bought as ready-made modules; instead they might be well-known circuit functions\u2014often named for their originators\u2014which were incorporated into a design. Some examples include the  Colpitts oscillator, the  Eccles-Jordan flip-flop, and the  Doherty amplifier.\n So, when I say \u201cbuild your own ASIC,\u201d I\u2019m not suggesting that you start designing your own monolithic chip. If you need a lot of them this may be worthwhile, but systems that require less than 10,000 pieces rarely benefit from such an approach. Field programmable analog arrays (FPAA) are sometimes useful for subsystems that use large numbers of op amps, but are rarely cost-effective for small systems incorporating other functions.\n I&#39;m also not suggesting that you make a subsystem as a neat module, although you can if you like. I recently acquired a 3D printer, and find a lot of the gadgets that I make are now much more neatly boxed than when I had to make the boxes by hand from tinplate, PCB stock, wood, or sheet plastic.\n What I am suggesting, however, is that if you need a well-defined subsystem and cannot find a ready-made ASIC, you should neither despair, nor try to design it as an integral part of your total system. Instead you should consider designing it as a separately defined subsystem. This probably simplifies the design; it certainly simplifies testing and evaluation, and is a worthy expression of the  Maker Philosophy, the Maker&#39;s Bill of Rights, and the Crafter&#39;s Manifesto.\n Modern analog ICs are easier to use than ever before, allowing an assembly of building blocks such as op amps, voltage references, multipliers, converters, and analog switches to perform complex functions. I recently designed a single-sideband (SSB) radio receiver. The automatic gain control (AGC) system of the receiver should track signals that change at up to 20-dB/sec. There is no signal during speech pauses, so the AGC should not change at these times. After a pause of a second, however, the system should revert quickly to full gain. This AGC system was available as a monolithic ASIC between 1967 and 1993, but it has not been made since\u2014my substitute used an rms-to-dc converter and a few op amps.\n I invite you to comment on DIY ASICs in the  Analog Dialogue Community on  EngineerZone.", "posttime": "2020-06-23 06:36:18", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "diy,asics,\u6a21\u62df", "title": "DIY-DIY ASIC(2013)", "title_en": "Do-it-Yourself ASICs (2013)", "transed": 1, "url": "https://www.analog.com/en/analog-dialogue/raqs/raq-issue-95.html#", "via": "", "real_tags": ["diy", "asics", "\u6a21\u62df"]}, {"category": "", "categoryclass": "", "imagename": "bdd40e0ec577dd335b7e70467c060aaf.jpg", "infoid": 1007727, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "2019\u5e74\u5c0f\u8bf4\u51a0\u72b6\u75c5\u6bd2(\u65b0\u51a0\u80ba\u708e)\u660e\u663e\u6270\u4e71\u4e86\u7f8e\u56fd\u4eba\u7684\u751f\u8ba1\u3002*\u81ea2020\u5e743\u6708\u4ee5\u6765\uff0c\u7f8e\u56fd\u4f01\u4e1a\u53ca\u5176\u5de5\u4eba\u5728\u91c7\u53d6\u67d0\u4e9b\u5fc5\u8981\u7684\u516c\u5171\u536b\u751f\u63aa\u65bd\u7684\u540c\u65f6\uff0c\u9762\u4e34\u7740\u5e7f\u6cdb\u7684\u5e72\u6270\uff0c\u4ee5\u5e73\u5766\u65b0\u51a0\u80ba\u708e\u7684\u66f2\u7ebf\uff0c\u51cf\u5c11\u5bfc\u81f4\u65b0\u51a0\u80ba\u708e\u7684SARS-CoV-2\u75c5\u6bd2\u7684\u4f20\u64ad\u3002*2020\u5e742\u6708\u81f35\u6708\uff0c\u7f8e\u56fd\u6574\u4f53\u5931\u4e1a\u7387\u51e0\u4e4e\u7ffb\u4e86\u4e24\u756a-\u4ea7\u751f\u4e86\u7f8e\u56fd\u52b3\u5de5\u7edf\u8ba1\u5c40(Bureau Of Labor Statistics)\u6709\u53f2\u4ee5\u6765\u6700\u6781\u7aef\u7684\u4e00\u4e9b\u5931\u4e1a\u60c5\u51b5\u3002\u867d\u71365\u6708\u4efd13.3%\u7684\u5931\u4e1a\u7387\u6bd44\u6708\u4efd\u660e\u663e\u4e0b\u964d\uff0c\u4f46\u6570\u767e\u4e07\u7f8e\u56fd\u4eba\u4ecd\u7136\u5931\u4e1a\u3002", "note_en": "The 2019 Novel Coronavirus (COVID-19) has significantly disrupted Americans\u2019 livelihoods. \u00a0Since March 2020, United States businesses and their workers have faced extensive disruptions while undertaking certain public health measures necessary to flatten the curve of COVID-19 and reduce the spread of SARS-CoV-2, the virus that causes COVID-19. \u00a0The overall unemployment rate in the United States nearly quadrupled between February and May of 2020 \u2014 producing some of the most extreme unemployment ever recorded by the Bureau of Labor Statistics. \u00a0While the May rate of 13.3 percent reflects a marked decline from April, millions of Americans remain out of work.", "posttime": "2020-06-23 06:35:55", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u7f8e\u56fd,\u5165\u5883,entry", "title": "E/O\uff1a\u6682\u505c\u5916\u56fd\u4eba\u5165\u5883\u7ed9\u7f8e\u56fd\u52b3\u52a8\u529b\u5e02\u573a\u5e26\u6765\u98ce\u9669", "title_en": "E/O: Suspending Entry of Aliens Presenting a Risk to the U.S. Labor Market", "transed": 1, "url": "https://www.whitehouse.gov/presidential-actions/proclamation-suspending-entry-aliens-present-risk-u-s-labor-market-following-coronavirus-outbreak/", "via": "", "real_tags": ["\u7f8e\u56fd", "\u5165\u5883", "entry"]}, {"category": "", "categoryclass": "", "imagename": "8ef9f1304fbc12757fe7532652d7adf9.jpg", "infoid": 1007726, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u672a\u6765\u4ece2021\u5e74\u5f00\u59cb\u3002\u6839\u636e\u827e\u8428\u514b\u00b7\u963f\u897f\u83ab\u592b\u7684\u83b7\u5956\u5c0f\u8bf4\uff0c\u57fa\u91d1\u4f1a\u8bb0\u5f55\u4e86\u4e00\u7fa4\u6d41\u4ea1\u8005\u62ef\u6551\u80e1\u9a6c\u7684\u4e0d\u673d\u65c5\u7a0b\u3002", "note_en": "The future begins in 2021. Based on the award-winning novels by Isaac Asimov, Foundation chronicles a band of exiles on their monumental journey to save huma...", "posttime": "2020-06-23 06:35:33", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u57fa\u91d1\u4f1a,foundation,\u62ef\u6551", "title": "\u57fa\u91d1\u4f1a(\u963f\u897f\u83ab\u592b)", "title_en": "Foundation (Asimov)", "transed": 1, "url": "https://youtube.com/watch?v=xgbPSA94Rqg", "via": "", "real_tags": ["\u57fa\u91d1\u4f1a", "\u62ef\u6551"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1007724, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u6211\u4eec\u82b1\u4e86\u5927\u91cf\u7684\u8bd5\u9a8c\u3001\u9519\u8bef\u548c\u68c0\u67e5\u6574\u4e2a\u4ee3\u7801\u548cZ80\u6307\u4ee4\u96c6\uff0c\u624d\u627e\u5230\u5728GW-BASIC\u6e90\u4ee3\u7801\u7684\u53cd\u5411\u7ffb\u8bd1\u4e2d\u53ef\u4ee5\u6539\u8fdb\u7684\u6a21\u5f0f\u548c\u4e1c\u897f\u3002\u8fd9\u4ef6\u4e8b\u6700\u7ec8\u6709\u70b9\u590d\u6742\uff0c\u4f46\u8db3\u591f\u590d\u6742\uff0c\u8db3\u4ee5\u5339\u914d\u548c\u8f6c\u6362\u6211\u53ef\u4ee5\u627e\u5230\u7684\u6240\u6709\u6a21\u5f0f\uff0c\u8fd9\u4e9b\u6a21\u5f0f\u4e00\u6b21\u9700\u8981\u8f6c\u6362\u591a\u6761\u6307\u4ee4\u3002\u968f\u7740\u6211\u5bf9Z80\u529f\u80fd\u6709\u4e86\u66f4\u591a\u7684\u4e86\u89e3\uff0c\u6bd4\u5982\u6761\u4ef6\u8c03\u7528\u6216RET\u6307\u4ee4\uff0c\u4e00\u4e9b\u6a21\u5f0f\u5f00\u59cb\u51fa\u73b0\uff0c\u8fd9\u4e00\u6b65\u5f97\u5230\u4e86\u4e00\u4e9b\u975e\u5e38\u9700\u8981\u7684\u6539\u8fdb\u3002\u6700\u540e\u4e00\u6b65\u662f\u751f\u6210Z80\u4ee3\u7801\u3002\u6211\u5fc5\u987b\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u662f\u627e\u51fa8086\u548cZ80\u7684\u5bc4\u5b58\u5668\u6620\u5c04\u3002\u8fd9\u5e76\u4e0d\u96be\uff0c\u56e0\u4e3aGW-BASIC\u4e2d\u7684\u8bb8\u591a\u8f83\u65e7\u7684\u4ee3\u7801\u4ecd\u7136\u6709\u5f15\u7528Intel8080\u5bc4\u5b58\u5668\u7684\u6ce8\u91ca\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u5728Z80\u4e2d\u7684\u540d\u79f0\u662f\u76f8\u540c\u7684\u3002\u4e00\u4e9b\u8f83\u65b0\u7684\u4ee3\u7801\u65e0\u6cd5\u6620\u5c04\u5230Intel8080\uff0c\u4f46\u5e78\u8fd0\u7684\u662f\uff0c\u7531\u4e8e\u7d22\u5f15\u5bc4\u5b58\u5668IX\u548cIY\u7684\u5b58\u5728\uff0c\u5b83\u4eec\u53ef\u4ee5\u5728Z80\u4e2d\u6620\u5c04\u3002\u53f3\u8fb9\u7684\u8868\u683c\u6839\u636e\u9605\u8bfb\u6e90\u4ee3\u7801\u6ce8\u91ca\u548cZ80\u6307\u4ee4\u7684\u53ef\u7528\u6027\u603b\u7ed3\u4e86\u6211\u7684\u8f6c\u6362\u5668\u6b63\u5728\u4f7f\u7528\u7684\u5bc4\u5b58\u5668\u6620\u5c04\u3002\u5728\u7f16\u5199\u8f6c\u6362\u6b65\u9aa4\u4e4b\u524d\uff0c\u6211\u4e0d\u77e5\u9053\u5982\u4f55\u4f7f\u7528AH\u5bc4\u5b58\u5668\u3002\u6574\u4e2a\u4ee3\u7801\u5e93\u90fd\u6709\u4e00\u4e9b\u7528\u9014\uff0c\u800cZ80\u4e2d\u6ca1\u6709\u5bf9\u5e94\u7684\u7528\u9014\uff1a16\u4f4d\u5bc4\u5b58\u5668AF\u3001F\u7684\u4f4e\u4f4d\u90e8\u5206\u7528\u4e8e\u6807\u5fd7\uff1b\u5b83\u4e0d\u662f\u771f\u6b63\u7684\u901a\u7528\u5bc4\u5b58\u5668\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u7531\u4e8e8086GW-BASIC\u4ee3\u7801\u7684\u6027\u8d28\uff0cAH\u5bc4\u5b58\u5668\u7684\u4f7f\u7528\u9075\u5faa\u4e00\u79cd\u6a21\u5f0f(\u7531\u4e13\u6709\u7684Microsoft ISA\u8f6c\u6362\u5668\u53d1\u51fa)\uff0c\u6211\u80fd\u591f\u627e\u51fa\u5e76\u53d1\u51fa\u6307\u4ee4\uff0c\u4f8b\u5982ex AF\uff0cAF&#39\uff1b(\u5c06AF\u4e0e\u5176\u5f71\u5b50\u5bc4\u5b58\u5668AF\u8fdb\u884c\u4ea4\u6362\uff0cAF&#39\uff1b)\uff0c\u6216\u8005\u6839\u636e\u60c5\u51b5\u63a8\u9001AF\u548cPOP AF\u3002\u6700\u540e\u4e00\u6b65\u8981\u4e48\u5728\u5c1d\u8bd5\u4f7f\u7528\u9519\u8bef\u6570\u91cf\u7684\u53c2\u6570\u751f\u6210\u6307\u4ee4\u65f6\u65ad\u8a00\u5931\u8d25\uff0c\u8981\u4e48\u5728\u5176\u4ed6\u4e0d\u53d8\u91cf\u90fd\u4e0d\u6210\u7acb\u7684\u60c5\u51b5\u4e0b\u5f15\u53d1\u5f02\u5e38\u3002\u4f8b\u5982\uff0c\u751f\u62108086 ROR(\u5411\u53f3\u65cb\u8f6c)\u6307\u4ee4\u7684Z80\u7b49\u4ef7\u7269\u7684\u4ee3\u7801\u5982\u4e0b\uff1adef_gen_direction_ror(self\uff0cToken)\uff1aassert len(TOKEN[&#39\uff1bOperators&#39\uff1b])==2 op1\uff0cop2=Token[&#39\uff1bOperators&#39\uff1b]if op2==1\uff1aif op1=&#39\uff1bAL&#39\uff1b\uff1a\u5982\u679c\u4e0d\u662fself\uff0c\u5219\u8fd4\u56de&#39\uff1brra&39\uff1b_is_16bit_reg(Op1)\u548c\u81ea\u8eab\u4e2d\u7684op1\u3002regmap\uff1a\u8fd4\u56de&#39\uff1brr%s&#39\uff1b%self\u3002regmap[OP]if op1==&#39\uff1b[bx]&#39\uff1b\uff1areturn&#39\uff1brr(HL)&#39\uff1braise SyntaxError(&#34\uff1bDon&#39\uff1bt\u77e5\u9053\u5982\u4f55\u4f7f\u7528op%s\uff0c%s&34\uff1b%(op1\uff0cop2)\u751f\u6210ROR)\u3002\n\u5b83\u5c06\u53ea\u8bc6\u522b\u5bf9GW-Basic\u6e90\u4ee3\u7801\u6709\u610f\u4e49\u7684RoR\u6307\u4ee4\u7684\u4f7f\u7528\u3002\u8fd9\u4e2a\u4e3b\u9898\u4e00\u904d\u53c8\u4e00\u904d\u5730\u91cd\u590d\u3002MAP\u3001Z80 Heaven\u7b49\u7ad9\u70b9\u4ee5\u53ca\u8be6\u7ec6\u8bf4\u660e\u6bcf\u4e2a\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4\u5982\u4f55\u4f7f\u7528\u6bcf\u7ec4\u6807\u5fd7\u7684\u8fd9\u4e2a\u8868\u90fd\u975e\u5e38\u6709\u5e2e\u52a9\u3002\u5176\u4ed6\u4e00\u4e9b\u7f51\u7ad9\uff0c\u5982CPC\u6280\u672f\u9875\u9762\u6216WikiTI\uff0c\u6709\u4e00\u4e9b\u5f88\u68d2\u7684\u63d0\u793a\uff0c\u5e2e\u52a9\u6211\u5c068086\u6307\u4ee4\u6620\u5c04\u5230Z80\uff0c\u5e76\u7ed9\u4e86\u6211\u4e00\u4e9b\u5173\u4e8e\u5982\u4f55\u5b9e\u73b0IMUL\u6216IDIV\u7b49\u6307\u4ee4\u7684\u60f3\u6cd5\u3002\u6211\u5bb6\u91cc\u78b0\u5de7\u4e5f\u6709\u4e00\u4e9b\u6b7b\u6811\u7684\u4e66\uff0c\u5305\u62ec\u6700\u521d\u7684\u82f1\u7279\u5c148086\u624b\u518c\u548c\u4e00\u672c\u9488\u5bf9MSX\u7684Z80\u7f16\u7a0b\u7684\u4e66(\u867d\u7136\u5b83\u5b9e\u9645\u4e0a\u6ca1\u6709\u63d0\u5230\u975e\u6587\u6863\u8bf4\u660e\uff0c\u5176\u4e2d\u4e00\u4e9b\u5728\u7f16\u5199\u8fd9\u4e2a\u8f6c\u6362\u5668\u65f6\u5f88\u6709\u7528)\uff0c\u4f46\u5e2e\u52a9\u4e0d\u5927\u3002\u7f3a\u5c11Ctrl+F\u5bf9\u8fd9\u7c7b\u6587\u6863\u6ca1\u6709\u5e2e\u52a9\u3002\u6700\u540e\uff0c\u4f46\u540c\u6837\u91cd\u8981\u7684\u662f\uff0c\u6211\u60f3\u4e0d\u5206\u5148\u540e\u5730\u611f\u8c22\u91cc\u5361\u591a\u00b7\u6bd4\u817e\u53e4\u5c14\u3001\u4e39\u5c3c\u5c14\u00b7\u5361\u57c3\u5854\u8bfa\u3001\u4e54\u74e6\u5c3c\u00b7\u52aa\u5185\u65af\u548c\u76ae\u7279\u00b7\u670b\u514b\u7b49\u4eba\u5728\u6211\u53d1\u63a8\u7279\u8c08\u8bba\u8fd9\u4ef6\u4e8b\u65f6\u7ed9\u4e88\u7684\u5e2e\u52a9\u3002\u8fd9\u4e2a\u8f6c\u6362\u5de5\u5177\u5df2\u7ecf\u53ef\u4ee5\u505a\u5f88\u591a\u5de5\u4f5c\u4e86\uff0c\u4f46\u662f\u5b83\u8fd8\u4e0d\u5b8c\u6574\u3002\u6211\u786e\u5b9e\u56e0\u4e3a\u4e2a\u4eba\u539f\u56e0\u6682\u505c\u4e86\u4e00\u6bb5\u65f6\u95f4\u7684\u5de5\u4f5c\uff0c\u4f46\u6b63\u5982\u6211\u4e4b\u524d\u63d0\u5230\u7684\uff0c\u5b83\u6b63\u5728\u88ab\u91cd\u6784\uff0c\u4ee5\u4fbf\u5728Transformer\u548cWriter\u6b65\u9aa4\u4e4b\u95f4\u6709\u4e00\u4e2a\u4e2d\u95f4\u6b65\u9aa4\uff0c\u8fd9\u5e94\u8be5\u4f1a\u5728\u89e3\u51b3\u7531\u4e8e\u751f\u6210\u65e0\u6548Z80\u6307\u4ee4\u800c\u5bfc\u81f4\u7684\u9519\u8bef\u65f6\u51cf\u5c11\u4e00\u4e9b\u5e72\u6270\u3002\u5728GW-Basic\u6e90\u4ee3\u7801\u7684\u5176\u4ed6\u5206\u652f\u4e2d\u4e5f\u8fdb\u884c\u4e86\u4e00\u4e9b\u5de5\u4f5c\uff0c\u4eba\u4eec\u8bd5\u56fe\u4f7f\u7528\u8f83\u65e7\u7248\u672c\u7684Microsoft\u6c47\u7f16\u5668\u548cLinker\uff0c\u6216\u8005\u4f7f\u7528\u66f4\u73b0\u4ee3\u7684\u5de5\u5177(\u5982JWAsm\u548cJWLink)\u6765\u6784\u5efaGW-Basic\u6e90\u4ee3\u7801\u3002\u4e00\u4e9b\u4f7f\u89e3\u91ca\u5668\u5de5\u4f5c\u7684\u4ee3\u7801\u4e22\u5931\u4e86\uff0c\u4f46\u5b83\u4e3b\u8981\u662f\u7279\u5b9a\u4e8e\u5e73\u53f0\u7684\u7c98\u5408\u4ee3\u7801\uff0c\u8fd9\u4e9b\u4ee3\u7801\u8981\u4e48\u4ece\u5934\u5f00\u59cb\u91cd\u65b0\u5b9e\u73b0\uff0c\u8981\u4e48\u4ece\u4e4b\u524d\u5728MIT\u8bb8\u53ef\u4e0b\u53d1\u5e03\u7684(\u4ec5\u9650\u4e8c\u8fdb\u5236\u7684)BASICA.COM\u4ee3\u7801\u8fdb\u884c\u53cd\u5411\u5de5\u7a0b\u3002\u4e00\u4e9b\u4e22\u5931\u7684\u7b26\u53f7\u7684\u540d\u79f0\u5bf9\u6211\u6765\u8bf4\u662f\u53ef\u7591\u7684\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u4eec\u4e2d\u7684\u8bb8\u591a\u5b9e\u9645\u4e0a\u662fMSX\u4e2d\u7684BIOS\u51fd\u6570\u7684\u540d\u79f0\u3002\u8003\u8651\u5230\u5fae\u8f6f\u5728\u8fd9\u4e9b\u7535\u8111\u4e2d\u8bbe\u8ba1\u4e86BIOS\uff0c\u8fd9\u5e76\u4e0d\u4ee4\u4eba\u60ca\u8bb6\u3002(\u8fd9\u4e5f\u5f88\u597d\uff0c\u56e0\u4e3a\u5982\u679c\u6211\u80fd\u8ba9\u5b83\u5728MSX\u4e0a\u8fd0\u884c\uff0c\u6211\u5c31\u4e0d\u9700\u8981\u91cd\u65b0\u5b9e\u73b0\u90a3\u4e9b\u4e1c\u897f\u4e86\u3002)\u3002\u6700\u7ec8\uff0c\u6211\u7684\u60f3\u6cd5\u662f\u4ee5\u6b64\u4e3a\u57fa\u7840", "note_en": "It took a lot of trial, error, and looking through the whole code and the Z80 instruction set, to find patterns and things that could be improved in the &#34;backwards translation&#34; of the GW-BASIC source code. This thing ended up being slightly complex, but complex enough to match and transform all patterns that I could find that required transformation of more than a single instruction at a time. As I learned more about the Z80 capabilities, such as conditional  CALL or  RET instructions, some patterns began to emerge and this step got some much needed refinement.   The last step is generating the Z80 code. The first thing that I had to do was figure out the register mapping of 8086 and Z80. This wasn&#39;t that difficult, because a lot of the older code in GW-BASIC still had comments referencing the Intel 8080 registers, which are named the same in the Z80. Some newer code couldn&#39;t be mapped to the Intel 8080, but luckily, they could in the Z80 due to the existence of the indexing registers  IX and  IY. The table on the right summarizes the register mapping that my converter is using, based on reading the source comments and the availability of Z80 instructions. Before writing the Transformation step, I had no clue what I would have to do with the usage of the  AH register. There were some uses throughout the code base, and there&#39;s no equivalent in the Z80: the low part of the 16-bit register  AF,  F, is used for flags; it&#39;s not really a general-purpose register. Luckily, due to the nature of the 8086 GW-BASIC code, uses of the  AH register followed a pattern (emitted by the proprietary Microsoft ISA converter) that I was able to figure out and emit instructions such as  EX AF, AF&#39; (exchange  AF with its shadow register,  AF&#39;), or  PUSH AF and  POP AF depending on the case. This last step will either fail assertions when trying to generate an instruction with the wrong number of arguments, or raise an exception if none of the other invariants hold. For instance, the code to generate the Z80 equivalent of the 8086  ROR (rotate right) instruction is the following: def  _gen_instruction_ror ( self ,  token ):  assert  len ( token [ &#39;operands&#39; ])  ==  2  op1 ,  op2  =  token [ &#39;operands&#39; ]  if  op2  ==  1 :  if  op1  ==  &#39;AL&#39; :  return  &#39;RRA&#39;  if  not  self . _is_16bit_reg ( op1 )  and  op1  in  self . regmap :  return  &#39;RR  %s &#39;  %  self . regmap [ op ]  if  op1  ==  &#39;[BX]&#39; :  return  &#39;RR (HL)&#39;  raise  SyntaxError ( &#34;Don&#39;t know how to generate ROR with op  %s ,  %s &#34;  %  ( op1 ,  op2 ))\n It&#39;ll only recognize uses of the  ROR instruction that makes sense for the GW-BASIC source code. This theme repeats over and over again.  Sites such as  MAP,  Z80 Heaven, and  this table detailing how each set of flags are used by each conditional jump instruction, were immensely helpful. A few other sites, such as the  CPC Tech page, or  WikiTI had some wonderful tips that helped me map the 8086 instructions to Z80, and gave me a few ideas on how to implement instructions such as  IMUL or  IDIV. I also happen to have some deadtree books at home, including the original Intel manual for the 8086 and a book for Z80 programming targeting the MSX (although it doesn&#39;t really mention the non-documented instructions, of which some were useful in writing this converter), which were less helpful. Lack of  Ctrl+F isn&#39;t helpful for this kind of documentation. Last, but certainly not least, I&#39;d like to thank in no particular order, people like Ricardo Bittencourt, Daniel Caetano, Giovanni Nunes, and Piter Punk for the help when I was tweeting about this.  The converter tool can do a lot of work already, but it&#39;s not complete. I did pause the work on it for a while due to personal reasons, but as I mentioned before, it&#39;s being refactored to have an intermediate step between the Transformer and Writer steps, which should reduce some of the churn when addressing bugs due to invalid Z80 instructions being generated. Some work has been also being made in other forks of the GW-BASIC source code, where  people are trying to build it using either older versions of the Microsoft Assembler and Linker, or using more modern tooling such as JWAsm and JWLink. Some of the code to make the interpreter work is missing, but it&#39;s mostly platform-specific glue code, which is being either reimplemented from the scratch, or reverse-engineered from the (binary-only)  BASICA.COM code that was released previously under the MIT license. Some of the missing symbols had names that were suspicious to me, and, indeed, many of them were actually names of BIOS functions from the MSX. Considering that Microsoft designed the BIOS in those computers, it&#39;s not really surprising. (It&#39;s good, too, because I wouldn&#39;t need to reimplement those things if I ever get this to work on the MSX.) My idea, eventually, is to use this as a base for a BASIC interpreter in the  C-BIOS project, which is an open source BIOS for the MSX computers. It currently lacks the BASIC component, and using one that&#39;s essentially the same that shipped with the MSX would be a good starting step. Of course, a lot of the hardware-specific things, such as the  PLAY command (which has 3 channels in the MSX, and is extensible to use FM synthethizers and whatnot), general extensibility via hooks in ROMs attached to the computer, and many other MSX-specific routines will need to be implemented. I&#39;m not really worried about all this, however, as I&#39;ll be really happy if I could fill the screen with the quintessential BASIC Hello, World:", "posttime": "2020-06-23 06:17:26", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u79fb\u690d,gw,z80", "title": "\u4e3aZ80\u79fb\u690dGW-Basic", "title_en": "Porting GW-Basic for the Z80", "transed": 1, "url": "https://tia.mat.br/posts/2020/06/21/converting-gwbasic-to-z80.html", "via": "", "real_tags": ["\u79fb\u690d", "gw", "z80"]}, {"category": "", "categoryclass": "", "imagename": "f125c092400a40855c283915d2980e45.jpg", "infoid": 1007723, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u9996\u5148\uff0c\u60a8\u53ef\u4ee5\u7f16\u8bd1\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4ee5\u5728\u57fa\u4e8e\u82f1\u7279\u5c14\u7684Mac\u548c\u57fa\u4e8eARM\u7684Mac\u4e0a\u8fd0\u884c\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u4e00\u79cd\u540d\u4e3aUniversal 2\u7684\u65b0\u683c\u5f0f\u5c06\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\u4e0e\u4e24\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u4e00\u8d77\u53d1\u5e03\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u4f7f\u7528\u4e86\u4e00\u6bb5\u65f6\u95f4\u7684Mac\uff0c\u4f60\u5c31\u4f1a\u77e5\u9053\u82f9\u679c\u5728\u4ecePowerPC CPU\u5207\u6362\u5230\u82f1\u7279\u5c14CPU\u65f6\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u6d41\u7a0b--\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e24\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002\n\u81f3\u4e8e\u672a\u7ecf\u4f18\u5316\u7684\u8f6f\u4ef6\uff0c\u4f60\u4ecd\u7136\u53ef\u4ee5\u8fd0\u884c\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u5b83\u7684\u6027\u80fd\u4e0d\u4f1a\u50cf\u672c\u5730ARM\u5c31\u7eea\u5e94\u7528\u7a0b\u5e8f\u90a3\u6837\u597d\u3002\u82f9\u679c\u516c\u53f8\u5c06\u63a8\u51faRosetta2\uff0c\u8fd9\u662f\u4e00\u4e2a\u6a21\u62df\u5c42\uff0c\u53ef\u4ee5\u8ba9\u4f60\u5728\u65b0\u7684Mac\u7535\u8111\u4e0a\u8fd0\u884c\u65e7\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\n\u5f53\u4f60\u5b89\u88c5\u4e00\u4e2a\u65e7\u7684\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u4f60\u7684Mac\u4f1a\u68c0\u67e5\u8be5\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u8bd5\u56fe\u9488\u5bf9\u4f60\u7684ARM\u5904\u7406\u5668\u5bf9\u5176\u8fdb\u884c\u4f18\u5316\u3002\u8fd9\u6837\uff0c\u5373\u4f7f\u5728\u4f60\u6253\u5f00\u5e94\u7528\u7a0b\u5e8f\u4e4b\u524d\uff0c\u4e5f\u4f1a\u6709\u4e00\u5b9a\u7a0b\u5ea6\u7684\u4f18\u5316\u3002\n\u4f46\u662f\uff0c\u5982\u679c\u5b83\u662f\u7f51\u7edc\u6d4f\u89c8\u5668\u6216\u5e26\u6709\u5373\u65f6\u4ee3\u7801\u7684\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u5462\uff1f\u5f53\u4f60\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0cRosetta2\u8fd8\u53ef\u4ee5\u5c06\u6307\u4ee4\u4ecex86\u5373\u65f6\u7ffb\u8bd1\u6210ARM\u3002\n\u5982\u679c\u60a8\u662f\u5f00\u53d1\u5c06\u8981\u5728\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684\u4ee3\u7801\u7684\u5f00\u53d1\u4eba\u5458\uff0c\u90a3\u4e48Apple\u4e5f\u5728\u5f00\u53d1\u4e00\u5957\u865a\u62df\u5316\u5de5\u5177\u3002\u60a8\u5c06\u80fd\u591f\u5728ARM Mac\u4e0a\u8fd0\u884cLinux\u548cDocker\u3002\n\u4f5c\u4e3a\u989d\u5916\u7684\u597d\u5904\uff0c\u7528\u6237\u8fd8\u53ef\u4ee5\u8bbf\u95ee\u66f4\u5927\u7684\u5e94\u7528\u7a0b\u5e8f\u5e93\u3002\u201cMac\u7528\u6237\u9996\u6b21\u53ef\u4ee5\u5728Mac\u4e0a\u8fd0\u884ciOS\u548ciPadOS\u5e94\u7528\u7a0b\u5e8f\uff0c\u201d\u82f9\u679c\u9996\u5e2d\u6267\u884c\u5b98\u8482\u59c6\u00b7\u5e93\u514b\u8bf4\u3002\n\u867d\u7136\u8be5\u516c\u53f8\u6ca1\u6709\u900f\u9732\u592a\u591a\u7ec6\u8282\uff0c\u4f46\u82f9\u679c\u5e76\u6ca1\u6709\u8c08\u8bbaCatalyst\uff0c\u8fd9\u662f\u82f9\u679c\u81ea\u5df1\u7684\u6846\u67b6\uff0c\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u5c06iOS\u5e94\u7528\u79fb\u690d\u5230MacOS\u4e0a\u3002\u5373\u4f7f\u5f00\u53d1\u4eba\u5458\u4ece\u672a\u9488\u5bf9MacOS\u4f18\u5316\u8fc7\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\uff0c\u60a8\u4e5f\u5e94\u8be5\u80fd\u591f\u4e0b\u8f7d\u548c\u8fd0\u884c\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\u3002\n\u8fc7\u6e21\u5c06\u9700\u8981\u4e00\u6bb5\u65f6\u95f4-\u5927\u7ea6\u4e24\u5e74\u3002\u7b2c\u4e00\u6b3e\u57fa\u4e8eARM\u7684Mac\u5c06\u4e8e\u4eca\u5e74\u5e74\u5e95\u53d1\u8d27\u3002\u5bf9\u4e8e\u6709\u5174\u8da3\u5c06\u5e94\u7528\u7a0b\u5e8f\u79fb\u690d\u5230\u57fa\u4e8eARM\u7684Mac\u4e0a\u7684\u5f00\u53d1\u4eba\u5458\uff0c\u5c06\u6709\u4e00\u4e2a\u5feb\u901f\u5165\u95e8\u8ba1\u5212\u3002\u9664\u4e86\u6587\u6863\u548c\u79c1\u4eba\u8bba\u575b\u5916\uff0c\u82f9\u679c\u8fd8\u5c06\u5411\u4f60\u53d1\u9001\u4e00\u53f0\u642d\u8f7dA12Z\u7cfb\u7edf\u7684\u5b9a\u5236Mac Mini\u3002\u8fd9\u6837\uff0c\u60a8\u5c31\u53ef\u4ee5\u5728\u88c5\u6709ARM\u82af\u7247\u7684\u5b9e\u9645Mac\u4e0a\u6d4b\u8bd5\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002", "note_en": "First, you\u2019ll be able to compile your app to run both on Intel-based Macs and ARM-based Macs. You can ship those apps with both executables using a new format called Universal 2. If you\u2019ve been using a Mac for a while, you know that Apple used the same process when it switched from PowerPC CPUs to Intel CPUs \u2014 one app, two executables.\n As for unoptimized software, you\u2019ll still be able to run those apps. But its performances won\u2019t be as good as what you\u2019d get from a native ARM-ready app. Apple is going to ship Rosetta 2, an emulation layer that lets you run old apps on new Macs.\n  When you install an old app, your Mac will examine the app and try to optimize it for your ARM processor. This way, there will be some level of optimization even before you open the app.\n But what if it\u2019s a web browser or a complicated app with just-in-time code? Rosetta 2 can also translate instructions from x86 to ARM on the fly, while you\u2019re running the app.\n And if you\u2019re a developer working on code that is going to run on servers, Apple is also working on a set of virtualization tools. You\u2019ll be able to run Linux and Docker on an ARM Mac.\n  As a bonus, users will also be able to access a much larger library of apps. \u201cMac users can for the first time run iOS and iPadOS apps on the Mac,\u201d Apple CEO Tim Cook said.\n While the company didn\u2019t share a lot of details, Apple isn\u2019t talking about Catalyst, its own framework that makes it easier to port iOS apps to macOS. You should be able to download and run apps even if the developer never optimized those apps for macOS.\n The transition is going to take a while \u2014\u00a0around two years. The first ARM-based Mac will ship by the end of the year. There will be a quick start program for developers interested in porting apps to ARM-based Macs. In addition to documentation and a private forum, Apple will send you a custom-made Mac Mini with an A12Z system on a chip. This way, you can test your apps on an actual Mac with an ARM chip.", "posttime": "2020-06-23 06:00:24", "source_domain": "slashdot.org", "source_name": "slashdot", "tags": "\u82f9\u679c,ios,apple,apps,\u5e94\u7528\u7a0b\u5e8f", "title": "\u82f9\u679c\u5c06\u8ba9\u4f60\u6a21\u4eff\u65e7\u5e94\u7528\uff0c\u5728ARM Mac\u4e0a\u8fd0\u884ciOS\u5e94\u7528", "title_en": "Apple Will Let You Emulate Old Apps, Run iOS Apps on ARM Macs", "transed": 1, "url": "https://techcrunch.com/2020/06/22/apple-will-let-you-emulate-old-apps-and-run-ios-apps-on-arm-macs/", "via": "", "real_tags": ["\u82f9\u679c", "ios", "apple", "apps", "\u5e94\u7528\u7a0b\u5e8f"]}]