[{"category": "", "categoryclass": "", "imagename": "ab5feb52dbde9d8eae28778890813f1e.jpg", "infoid": 1004882, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4f18\u6b65\u9996\u5e2d\u6267\u884c\u5b98Dara Khosrowshahi\u5728\u7ed9\u5458\u5de5\u7684\u4e00\u5c01\u7535\u5b50\u90ae\u4ef6\u4e2d\u8868\u793a\uff0c\u5728\u65b0\u51a0\u80ba\u708e\u542f\u53d1\u7684\u6700\u65b0\u4e00\u8f6e\u6210\u672c\u524a\u51cf\u4e2d\uff0c\u4f18\u6b65\u5c06\u88c1\u54583,000\u4eba\u3002\u201c\u534e\u5c14\u8857\u65e5\u62a5\u201d(The Wall Street Journal)\u4e0a\u5468\u672b\u6700\u5148\u62a5\u9053\u4e86\u8fd9\u4e00\u6d88\u606f\uff0c\u4e0e\u6b64\u540c\u65f6\uff0c\u7531\u4e8e\u51a0\u72b6\u75c5\u6bd2\u5927\u6d41\u884c\uff0c\u8fd9\u5bb6\u53eb\u8f66\u516c\u53f8\u7684\u53eb\u8f66\u4e1a\u52a1\u4e0b\u964d\u4e8680%\u3002\nKhosrowshahi\u5728\u7535\u5b50\u90ae\u4ef6\u4e2d\u8bf4\uff1a\u201c\u6211\u4eec\u5fc5\u987b\u91c7\u53d6\u8fd9\u4e9b\u8270\u96be\u7684\u884c\u52a8\uff0c\u624d\u80fd\u7ad9\u7a33\u811a\u8ddf\uff0c\u786e\u4fdd\u6211\u4eec\u7684\u672a\u6765\uff0c\u5e76\u7ee7\u7eed\u6211\u4eec\u7684\u4f7f\u547d\u3002\u201d\n\u201c\u6211\u4eec\u5fc5\u987b\u91c7\u53d6\u8fd9\u4e9b\u5f3a\u786c\u884c\u52a8\uff0c\u624d\u80fd\u7ad9\u7a33\u811a\u8ddf.\u201d\n\u4e0d\u5230\u4e24\u5468\u524d\uff0c\u4f18\u6b65\u89e3\u96c7\u4e863700\u540d\u5458\u5de5\uff0c\u5360\u5176\u5168\u7403\u5458\u5de5\u603b\u6570\u768414%\u3002\u5728\u4e0d\u5230\u4e00\u4e2a\u6708\u7684\u65f6\u95f4\u91cc\uff0c\u8be5\u516c\u53f8\u603b\u5171\u88c1\u5458\u7ea6\u56db\u5206\u4e4b\u4e00\u3002\n\u9664\u4e86\u88c1\u5458\u6570\u5343\u4eba\u5916\uff0c\u4f18\u6b65\u8fd8\u5c06\u5173\u95ed\u5168\u740345\u4e2a\u529e\u4e8b\u5904\u3002Khosrowshahi\u8bf4\uff0c\u5b83\u5c06\u5bf9\u4e00\u4e9b\u90e8\u95e8\u8fdb\u884c\u6539\u7ec4\uff0c\u4ee5\u201c\u5c06\u6211\u4eec\u7684\u52aa\u529b\u91cd\u65b0\u96c6\u4e2d\u5728\u6211\u4eec\u7684\u6838\u5fc3\u4e0a\u201d\uff0c\u4ed6\u5c06\u5176\u5b9a\u4e49\u4e3a\u201c\u5e2e\u52a9\u4eba\u4eec\u642c\u5bb6\uff0c\u5e76\u4ea4\u4ed8\u4e1c\u897f\u201d\u3002\n\u56e0\u6b64\uff0c\u4f18\u6b65\u6b63\u5728\u9010\u6b65\u5173\u95ed\u53bb\u5e749\u6708\u63a8\u51fa\u7684\u79d1\u6280\u5b75\u5316\u5668\u548c\u4eba\u5de5\u667a\u80fd\u5b9e\u9a8c\u5ba4\u3002\u8be5\u516c\u53f8\u8fd8\u5c06\u201c\u4e3aUber Works\u5bfb\u627e\u6218\u7565\u9009\u62e9\u201d\uff0c\u8fd9\u662f\u5176\u5de5\u4f5c\u627e\u73ed\u5668\u5e94\u7528\u7a0b\u5e8f\u3002Khosrowshahi\u8bf4\uff0c\u8be5\u516c\u53f8\u8d1f\u8d23\u5ba2\u6237\u53c2\u4e0e\u548c\u4e1a\u52a1\u6218\u7565\u7684\u526f\u603b\u88c1Zhenya Lindgardt\u5c06\u79bb\u5f00\u516c\u53f8\u3002\n\u8be5\u516c\u53f8\u7684\u5916\u5356\u670d\u52a1\u4f18\u6b65Eats(Uber Eats)\u98d9\u5347\uff0c\u800c\u4e16\u754c\u4e0a\u5927\u90e8\u5206\u5730\u533a\u90fd\u5728\u539f\u5730\u907f\u96be\u3002\u4e0a\u5468\uff0c\u8be5\u516c\u53f8\u62a5\u544a\u79f0\uff0c\u5176\u4f18\u6b65Eats\u90e8\u95e8\u7684\u9884\u8ba2\u91cf\u540c\u6bd4\u589e\u957f\u4e8654%\u4ee5\u4e0a\u3002\u4f46Khosrowshahi\u6307\u51fa\uff0c\u8fd9\u4e9b\u6536\u76ca\u4e0d\u8db3\u4ee5\u5f25\u8865\u4f18\u6b65\u6838\u5fc3\u4e1a\u52a1\u53eb\u8f66\u4e1a\u52a1\u4e0b\u6ed1\u5e26\u6765\u7684\u4e25\u91cd\u635f\u5931\u3002\nKhosrowshahi\u8bf4\uff1a\u201c\u6211\u8981\u63d0\u9192\u7684\u662f\uff0c\u867d\u7136Eats\u7684\u589e\u957f\u6b63\u5728\u52a0\u901f\uff0c\u4f46\u4eca\u5929\u7684\u4e1a\u52a1\u8fd8\u4e0d\u8db3\u4ee5\u652f\u4ed8\u6211\u4eec\u7684\u8d39\u7528\u3002\u201d\u201c\u6211\u5b8c\u5168\u76f8\u4fe1\uff0c\u6211\u4eec\u6b63\u5728\u91c7\u53d6\u7684\u4e3e\u63aa\u5c06\u4f7fEats\u5b9e\u73b0\u76c8\u5229\uff0c\u5c31\u50cf\u6211\u4eec\u5bf9\u6e38\u4e50\u8bbe\u65bd\u6240\u505a\u7684\u90a3\u6837\uff0c\u4f46\u8fd9\u4e0d\u4f1a\u5728\u4e00\u591c\u4e4b\u95f4\u53d1\u751f\u3002\u201d\n\u4f18\u6b65\u5e76\u6ca1\u6709\u653e\u5f03\u6240\u6709\u6210\u672c\u5bc6\u96c6\u578b\u7684\u526f\u4e1a\u3002\u8be5\u516c\u53f8\u8d1f\u8d23\u76d1\u7763\u5176\u81ea\u52a8\u9a7e\u9a76\u6c7d\u8f66\u9879\u76ee\u7684\u5148\u8fdb\u6280\u672f\u96c6\u56e2(Advanced Technologies Group)\u5c06\u7ee7\u7eed\u8fd0\u8425--\u5c3d\u7ba1\u4e00\u4e9bATG\u5458\u5de5\u6b63\u5728\u88c1\u5458\u3002\u4e0a\u5468\uff0cKhosrowshahi\u8868\u793a\uff0c\u4f18\u6b65\u5bf9\u81ea\u52a8\u9a7e\u9a76\u6c7d\u8f66\u7684\u8ffd\u6c42\u201c\u4e00\u76f4\u662f\u4e00\u9879\u957f\u671f\u6295\u8d44\u201d\u3002\n\u6574\u4e2a\u7f51\u7ea6\u8f66\u884c\u4e1a\u90fd\u5728\u611f\u53d7\u5230\u65b0\u51a0\u80ba\u708e\u7684\u75db\u82e6\u3002\u4f18\u6b65\u7684\u4e3b\u8981\u7ade\u4e89\u5bf9\u624bLyft\u6700\u8fd1\u5ba3\u5e03\u5c06\u88c1\u5458\u8fd11000\u4eba\uff0c\u7ea6\u5360\u5458\u5de5\u603b\u6570\u768417%\u3002\u4f18\u6b65\u7684\u4e2d\u4e1c\u5b50\u516c\u53f8Careem\u88c1\u5458\u8d85\u8fc730%\uff0c\u5e76\u6682\u505c\u4e86\u5176\u516c\u4ea4\u8fd0\u8f93\u5e94\u7528\u7a0b\u5e8f\u3002\n\u57283\u6708\u4efd\u7684\u7535\u8bdd\u4f1a\u8bae\u4e2d\uff0cKhosrowshahi\u8868\u793a\uff0c\u8be5\u516c\u53f8\u5efa\u7acb\u4e86\u201c\u6781\u7aef\u8fb9\u7f18\u60c5\u51b5\u201d\u7684\u6a21\u578b\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u51fa\u884c\u91cf\u66b4\u8dcc\u4e8680%\u3002\u5373\u4f7f\u5728\u8fd9\u79cd\u53ef\u6015\u7684\u60c5\u51b5\u4e0b-\u540e\u6765\u53d1\u751f\u4e86-\u4f18\u6b65\u4ecd\u7136\u4f1a\u5728\u5e74\u5e95\u62e5\u670940\u4ebf\u7f8e\u5143\u7684\u65e0\u9650\u5236\u73b0\u91d1\uff0c\u5916\u52a020\u4ebf\u7f8e\u5143\u7684\u5faa\u73af\u4fe1\u8d37\u3002\n\u4f46\u5728\u53d1\u7ed9\u5458\u5de5\u7684\u7535\u5b50\u90ae\u4ef6\u4e2d\uff0cKhosrowshahi\u8868\u793a\uff0c\u4ed6\u5e0c\u671b\u6700\u7cdf\u7cd5\u7684\u60c5\u51b5\u5df2\u7ecf\u8fc7\u53bb\u3002\n\u4ed6\u5199\u9053\uff1a\u201c\u5728\u4ece\u65b0\u51a0\u80ba\u708e\u8eab\u4e0a\u5b66\u5230\u4e86\u5173\u4e8e\u4e16\u754c\u4e0d\u53ef\u9884\u6d4b\u6027\u7684\u4e2a\u4eba\u6559\u8bad\u540e\uff0c\u6211\u4e0d\u4f1a\u7edd\u5bf9\u80af\u5b9a\u5730\u5bf9\u6211\u4eec\u7684\u672a\u6765\u505a\u51fa\u4efb\u4f55\u4e3b\u5f20\u3002\u201d\u4ed6\u5199\u9053\uff1a\u201c\u6211\u4ece\u65b0\u51a0\u80ba\u708e\u8eab\u4e0a\u5b66\u5230\u4e86\u5173\u4e8e\u4e16\u754c\u4e0d\u53ef\u9884\u6d4b\u6027\u7684\u4e2a\u4eba\u6559\u8bad\uff0c\u6211\u4e0d\u4f1a\u7edd\u5bf9\u80af\u5b9a\u5730\u5bf9\u6211\u4eec\u7684\u672a\u6765\u505a\u51fa\u4efb\u4f55\u4e3b\u5f20\u3002\u201d\u201c\u7136\u800c\uff0c\u6211\u8981\u544a\u8bc9\u4f60\u4eec\uff0c\u6211\u4eec\u73b0\u5728\u6b63\u5728\u505a\u51fa\u975e\u5e38\u975e\u5e38\u8270\u96be\u7684\u9009\u62e9\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u544a\u522b\uff0c\u5c3d\u53ef\u80fd\u5730\u660e\u786e\uff0c\u7ee7\u7eed\u524d\u8fdb\uff0c\u5145\u6ee1\u4fe1\u5fc3\u5730\u91cd\u65b0\u5f00\u59cb\u5efa\u8bbe\u3002\u201d", "note_en": "Uber is laying off 3,000 employees in the latest round of COVID-19-inspired cost-cutting, CEO Dara Khosrowshahi said in an email to staff. The news, which was first reported over  the weekend by  The Wall Street Journal, comes as the ride-hailing company has seen an  80 percent drop in its ride-hailing business as a result of the coronavirus pandemic.\n \u201cWe have to take these hard actions to stand strong on our own two feet, to secure our future, and to continue on our mission,\u201d Khosrowshahi said in the email.\n \u201cWe have to take these hard actions to stand strong on our own two feet.\u201d\n The move comes less than two weeks after  Uber laid off 3,700 employees, or 14 percent of its global workforce. In total, the company has eliminated around a quarter of its staff in less than a month.\n In addition to laying off thousands of employees, Uber will also close 45 offices globally. And it will reshuffle some of its divisions, Khosrowshahi said, to \u201cre-focus our efforts on our core,\u201d which he defines as \u201chelping people move, and delivering things.\u201d\n As such, Uber is winding down its  tech incubator and AI labs, which it launched last September. The company will also \u201cpursue strategic alternatives for Uber Works,\u201d  its work shift-finder app. And  Zhenya Lindgardt, the company\u2019s vice president of customer engagement and business strategy, will be leaving the company, Khosrowshahi said.\n Uber Eats, the company\u2019s food delivery serviced, has soared while much of the world is sheltering in place. Last week, the company reported that bookings in its Uber Eats division were up more than 54 percent year over year. But Khosrowshahi notes those gains won\u2019t cover the severe losses brought by the drop in ride-hailing, Uber\u2019s core business.\n \u201cI will caution that while Eats growth is accelerating, the business today doesn\u2019t come close to covering our expenses,\u201d Khosrowshahi said. \u201cI have every belief that the moves we are making will get Eats to profitability, just as we did with Rides, but it\u2019s not going to happen overnight.\u201d\n  Uber isn\u2019t abandoning all of its cost-intensive side businesses. The company\u2019s Advanced Technologies Group, which oversees its self-driving car program, will remain operational \u2014 although some ATG employees are being laid off. Last week, Khosrowshahi said Uber\u2019s pursuit of self-driving cars \u201chas always been a long-term investment.\u201d\n The pain of COVID-19 is being felt across the ride-hailing industry. Lyft, Uber\u2019s main rival, recently announced that it would be  laying off nearly 1,000 employees, or about 17 percent of its workforce. Careem, Uber\u2019s Middle Eastern subsidiary, slashed headcount by more than 30 percent and suspended its bus transport app.\n In the March call, Khosrowshahi said the company modeled \u201can extreme edge case\u201d in which trip volume plummeted 80 percent. Even in that dire circumstance \u2014 which has since come to pass \u2014 Uber would still end the year with $4 billion in unrestricted cash, plus $2 billion in revolving credit.\n But in his email to employees, Khosrowshahi said he hoped the worst was behind them.\n \u201cHaving learned my own personal lesson about the unpredictability of the world from the punch-in-the-gut called COVID-19, I will not make any claims with absolute certainty regarding our future,\u201d he wrote. \u201cI will tell you, however, that we are making really, really hard choices now, so that we can say our goodbyes, have as much clarity as we can, move forward, and start to build again with confidence.\u201d", "posttime": "2020-06-03 02:56:51", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u65b0\u51a0,latest,\u4f18\u6b65", "title": "\u4f18\u6b65\u5728\u65b0\u51a0\u80ba\u708e\u542f\u53d1\u7684\u6700\u65b0\u4e00\u8f6e\u88c1\u5458\u4e2d\u518d\u88c1\u54583000\u4eba", "title_en": "Uber lays off 3k more employees in latest round of Covid-19-inspired cuts", "transed": 1, "url": "https://www.theverge.com/2020/5/18/21262337/uber-layoff-3000-employees-covid-19-coronavirus", "via": "", "real_tags": ["\u65b0\u51a0", "latest", "\u4f18\u6b65"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1004881, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4e5f\u8bb8\u6211\u53ea\u662f\u5728\u6b64\u4e4b\u524d\u6ca1\u6709\u6ce8\u610f\u5230\uff0c\u4f46\u5728\u8fc7\u53bb\u7684\u4e00\u5e74\u5de6\u53f3\uff0c\u56f4\u7ed5NIX\u5305\u7ba1\u7406\u5668\u7684\u8ba8\u8bba\u4f3c\u4e4e\u6709\u6240\u589e\u52a0\u3002\u8fd9\u4e5f\u662f\u8ba9\u6211\u6700\u7ec8\u5c1d\u8bd5\u7684\u539f\u56e0\uff0c\u6211\u5bf9\u7ed3\u679c\u975e\u5e38\u6ee1\u610f\uff0c\u5c3d\u7ba1\u9053\u8def\u6709\u70b9\u98a0\u7c38\u3002\n\u6211\u4e0d\u76f8\u4fe1\u6211\u662f\u552f\u4e00\u4e00\u4e2a\u63d0\u5230\u6587\u6863\u7f3a\u5c11\u4e00\u70b9\u5b8c\u6210\u7684\u4eba\u3002\u6211\u4e2a\u4eba\u53d1\u73b0\uff0c\u5c3c\u514b\u65af\u5141\u8bb8\u4f60\u505a\u7684\u4e8b\u60c5\u592a\u591a\u4e86\uff0c\u6ca1\u6709\u4e24\u4e2a\u4eba\u505a\u4e8b\u60c5\u7684\u65b9\u5f0f\u662f\u4e00\u6837\u7684\u3002\u6700\u91cd\u8981\u7684\u662f\uff0c\u5b98\u65b9\u7684Nix\u624b\u518c\u53ef\u80fd\u4f1a\u5c1d\u8bd5\u6559\u4f60\u4e00\u5927\u5806\u4f60\u5728\u5b9e\u8df5\u4e2d\u4e0d\u4f1a\u7528\u5230\u7684\u4e1c\u897f\u3002\n\u8fd9\u7bc7\u5e16\u5b50\u662f\u4e00\u79cd\u5c1d\u8bd5\uff0c\u8bd5\u56fe\u5e2e\u52a9\u5e73\u6574\u4e00\u4e0b\u9053\u8def\u3002\u6211\u5c06\u5c1d\u8bd5\u505a\u7684\u662f\u81ea\u4e0b\u800c\u4e0a\u5730\u68c0\u67e5NIX\u672f\u8bed\uff0c\u5e76\u5e0c\u671b\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u89e3\u91ca\u6982\u5ff5\u3002\u4f46\u8fd9\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u4ece\u6211\u7684\u89d2\u5ea6\u6765\u770b\u7684\uff0c\u4e5f\u4f1a\u5305\u542b\u4e00\u4e9b\u89c2\u70b9\u3002\n\u8bbe\u7f6e\u627f\u8f7d\u53ef\u516c\u5f00\u8bbf\u95ee\u7684Portier\u9879\u76ee\u5e94\u7528\u7a0b\u5e8f\u7684NixOS\u670d\u52a1\u5668\uff0c\u5176\u4e2d\u5305\u62ec\u6253\u5305Rust\u548cPython\u5de5\u5177\u548c\u5e94\u7528\u7a0b\u5e8f\u3002\u6b64\u914d\u7f6e\u662f\u516c\u5171\u7684\uff0c\u53ef\u4ee5\u5728GitHub\u4e0a\u7684Portier/public-Infrastructure\u5b58\u50a8\u5e93\u4e2d\u627e\u5230\u3002\n\u4f7f\u7528nix-darwinand home-manager\u8bbe\u7f6e\u6211\u81ea\u5df1\u7684MacBook\uff0c\u66ff\u6362\u6211\u7684\u79c1\u6709dotfile repo\u3001vimlug\u3001oh-my-zsh\uff0c\u4ee5\u53ca\u6211\u4ee5\u524d\u4f7f\u7528Homebrew\u6240\u505a\u7684\u51e0\u4e4e\u6240\u6709\u4e8b\u60c5\u3002(\u6211\u4ecd\u7136\u4f7f\u7528\u81ea\u5236\u7684\u6728\u6876\u3002)\u3002\n\u4f46\u662f\uff0c\u6211\u4ecd\u7136\u8ba4\u4e3a\u81ea\u5df1\u662f\u4e2a\u65b0\u624b\uff0c\u6240\u4ee5\u4e00\u5b9a\u8981\u8bb0\u4f4f\u8fd9\u91cc\u53ef\u80fd\u4f1a\u6709\u9519\u8bef\u548c\u4e0d\u51c6\u786e\u7684\u5730\u65b9\uff01\nNIX\u901a\u5e38\u88ab\u79f0\u4e3a\u5305\u7ba1\u7406\u5668\uff0c\u56e0\u4e3a\u4e0e\u5176\u4ed6\u5305\u7ba1\u7406\u5668\u4e00\u6837\uff0c\u5b83\u7684\u76ee\u7684\u662f\u7ba1\u7406\u60a8\u9700\u8981\u7684\u6240\u6709\u5de5\u5177\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u88c5\u3002\u60a8\u4f1a\u53d1\u73b0Nix\u7a0d\u5fae\u6269\u5c55\u4e86\u8fd9\u4e2a\u5b9a\u4e49\uff0c\u5b83\u4e0d\u4ec5\u7528\u4e8e\u7ba1\u7406\u8f6f\u4ef6\u5305\u5b89\u88c5\uff0c\u8fd8\u7528\u4e8e\u66f4\u5c0f\u548c\u66f4\u5927\u7684\u4efb\u52a1\u3002\nNIX\u672c\u8eab\u7684\u4e00\u90e8\u5206\u662fNIX\u8868\u8fbe\u5f0f\u8bed\u8a00\u548c\u4e00\u7ec4\u547d\u4ee4\u884c\u5de5\u5177\u3002\n\u8fd9\u662f\u7528\u6765\u63cf\u8ff0\u5305\u6784\u5efa\u7684\u8bed\u8a00\uff0c\u5b83\u5305\u542b\u4e00\u4e9b\u72ec\u7279\u7684\u8bed\u8a00\u7ed3\u6784\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u540c\u6837\u91cd\u8981\u7684\u662f\u8981\u77e5\u9053\uff0c\u8bed\u8a00\u4e2d\u7684\u6240\u6709\u503c\u90fd\u662f\u4e0d\u53d8\u7684\uff0c\u5e76\u4e14\u8bed\u8a00\u672c\u8eab\u4e0d\u5141\u8bb8\u526f\u4f5c\u7528(\u6240\u6709\u4ee3\u7801\u548c\u51fd\u6570\u90fd\u662f\u7eaf\u7684)\u3002\n\u6211\u4e2a\u4eba\u8ba4\u4e3a\uff0c\u4f5c\u4e3a\u7528\u6237\u4f7f\u7528NIX\uff0c80%\u662f\u7528NIX\u8868\u8fbe\u5f0f\u8bed\u8a00\u505a\u6709\u8da3\u7684\u4e8b\u60c5\uff0c20%\u662f\u5305\u7ba1\u7406\u3002\n\u5b57\u9762\u610f\u601d\u662fNIX\u8bed\u8a00\u4e2d\u7684\u4e00\u4e2a\u8868\u8fbe\uff0c\u4f46\u8fd9\u4e2a\u672f\u8bed\u7ecf\u5e38\u5728\u4f20\u9012\u65f6\u4f7f\u7528\u3002\n\u5728NIX\u8bed\u8a00\u4e2d\uff0c\u8868\u8fbe\u5f0f\u662f\u9876\u7ea7\u8bed\u8a00\u7ed3\u6784\u3002(\u4f8b\u5982\uff0c\u4e0eJavaScript/Python\u4e2d\u7684\u8bed\u53e5\u6216C\u548cFriends\u4e2d\u7684\u5b9a\u4e49\u76f8\u53cd\u3002)\u3002\n\u672f\u8bedNIX\u8868\u8fbe\u5f0f\u6709\u65f6\u4e5f\u7528\u4e8e\u63cf\u8ff0\u5305\u542b\u5b83\u4eec\u7684\u6587\u4ef6\uff0c\u5e76\u5e26\u6709.nix\u540e\u7f00\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c.nix\u6587\u4ef6\u4e0d\u662f\u6307&#39\uff1b\u5e93\u6216&#39\uff1b\u6a21\u5757\uff0c\u800c\u662f\u66f4\u591a\u5730\u6307\u7528\u4e8e\u52a0\u8f7d\u5b83\u4eec\u7684\u5185\u7f6e\u51fd\u6570\u4e4b\u540e\u7684&#39\uff1b\u5bfc\u5165&#39\uff1b\u3002(\u4f8b\u5982\uff1a&#34\uff1b\u4ecefoo.nix.&#34\uff1b\u5bfc\u5165Nix\u8868\u8fbe\u5f0f)\u3002\n\u4e00\u7ec4\u540d\u79f0/\u503c\u5bf9\u3002\u975e\u5e38\u7c7b\u4f3c\u4e8ePython\u4e2d\u7684\u5b57\u5178\u6216JavaScript\u4e2d\u7684\u5bf9\u8c61\u3002\n\u867d\u7136\u8fd9\u662f\u4e00\u4e2a\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u4f46\u6211\u89c9\u5f97\u6211\u9700\u8981\u7279\u522b\u5f3a\u8c03\u5b83\u7684\u672f\u8bed\uff0c\u56e0\u4e3a\u5728\u6d4f\u89c8\u624b\u518c\u65f6\u5f88\u5bb9\u6613\u9057\u6f0f\u5b83\u3002\nNIX\u8bed\u8a00\u4e2d\u7684\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u503c\uff0c\u672c\u8d28\u4e0a\u7528\u4e8e\u63cf\u8ff0\u6784\u5efa\u6b65\u9aa4\u3002\n\u6d3e\u751f\u662f\u5c5e\u6027\u96c6\u7684\u5b50\u7c7b\u578b\uff0c\u5e76\u4f7f\u7528\u8bed\u8a00\u5185\u7f6e\u51fd\u6570\u6d3e\u751f\u521b\u5efa\u3002(\u4e0d\u8fc7\uff0c\u60a8\u6700\u7ec8\u901a\u5e38\u4f1a\u5bf9\u5176\u4f7f\u7528\u5305\u88c5\u5668\u3002)\u3002\n\u6d3e\u751f\u63a5\u53d7\u4e00\u4e9b\u8f93\u5165\u5e76\u4ea7\u751f\u4e00\u4e9b\u8f93\u51fa\u3002\u7531\u4e8e\u5ef6\u8fdf\u6c42\u503c\uff0c\u4ec5\u5f53\u7528NIX\u8bed\u8a00\u6c42\u503c\u5176\u4e2d\u4e00\u4e2a\u8f93\u51fa\u65f6\u624d\u5b9e\u9645\u6784\u5efa\u6d3e\u751f\u3002\u5f53\u7136\uff0c\u8fd9\u4e5f\u4f1a\u5bfc\u81f4\u8f93\u5165\u88ab\u6c42\u503c\uff0c\u800c\u8fd9\u53c8\u53ef\u80fd\u662f\u66f4\u591a\u7684\u6d3e\u751f\u3002\u8fd9\u5c31\u662f\u5305\u5728NIX\u4e2d\u76f8\u4e92\u4f9d\u8d56\u7684\u65b9\u5f0f\u3002\n\u4e3aNIX\u6253\u5305\u65f6\uff0c\u6700\u5e38\u89c1\u7684\u573a\u666f\u662f\u6d3e\u751f\u6709\u4e00\u4e2a\u540d\u4e3aout\u7684\u8f93\u51fa(\u7f3a\u7701\u8bbe\u7f6e)\uff0c\u5e76\u5c06\u5176\u7528\u4f5c\u8981\u6253\u5305\u7684\u4efb\u4f55\u5de5\u5177\u7684\u5b89\u88c5\u524d\u7f00\u3002\u56e0\u6b64\uff0c\u4f8b\u5982\uff0c\u53ef\u6267\u884c\u6587\u4ef6\u5c06\u4ee5$out/bin\u7ed3\u675f\u3002\n\u540c\u6837\u91cd\u8981\u7684\u662f\u8981\u6ce8\u610f\uff0c\u6d3e\u751f\u4e0d\u4ec5\u7528\u4e8e\u6784\u5efa\u5305\uff0c\u8fd8\u7528\u4e8e\u6784\u5efa\u4efb\u4f55\u4e1c\u897f\uff0c\u4f8b\u5982\u914d\u7f6e\u6587\u4ef6\u3002\n\u6d3e\u751f\u6240\u9700\u7684\u8f93\u5165\u4e4b\u4e00\u662f\u6784\u5efa\u5668\uff0c\u5b83\u8d1f\u8d23\u5b9e\u9645\u751f\u6210\u8f93\u51fa\u3002\u8fd9\u901a\u5e38\u53ea\u662f\u4e00\u4e2ashell\u811a\u672c\u3002\n\u6d3e\u751f{=&#34\uff1bhello-world&#34\uff1b\uff1b=&#34\uff1bx86_64-linux&#34\uff1b\uff1b=[&#34\uff1bout&#34\uff1b]\uff1b#\u9ed8\u8ba4\uff0c\u53ef\u4ee5\u7701\u7565\u3002=&#34\uff1b${pkgs.bash}/bin/bash&#34\uff1b\uff1b=[&#34\uff1b-c&#34\uff1b&#34\uff1becho&#39\uff1bHello World\uff01&#39\uff1b&gt\uff1b$out&#34\uff1b]\uff1b}\u3002\n\u4e3a\u6784\u5efa\u5668\u5206\u914d\u4e86\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u4e00\u4e9b\u8f93\u51fa\u8def\u5f84\uff0c\u6bcf\u4e2a\u58f0\u660e\u7684\u8f93\u51fa\u5bf9\u5e94\u4e00\u4e2a\u8def\u5f84\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u53ea\u6709out\uff0c\u7136\u540e\u8be5\u8f93\u51fa\u7684\u8def\u5f84\u5728$out\u73af\u5883\u53d8\u91cf\u4e2d\u53ef\u7528\u3002\u6784\u5efa\u5668\u53ef\u4ee5\u5728\u90a3\u91cc\u521b\u5efa\u76ee\u5f55\uff0c\u4f46\u4e5f\u53ef\u4ee5\u53ea\u5199\u5165\u5355\u4e2a\u6587\u4ef6\u3002\n\u901a\u8fc7\u5185\u5bb9\u6563\u5217\u63d0\u524d\u77e5\u9053\u5176\u8f93\u51fa\u7684\u6d3e\u751f\u3002\n\u5982\u679c\u6253\u5305\u7684\u57fa\u672c\u6b65\u9aa4\u662f\u4e0b\u8f7d\u60a8\u8981\u6253\u5305\u7684\u4efb\u4f55\u5de5\u5177\u7684\u6e90\u4ee3\u7801\uff0c\u90a3\u5c31\u662f\u4e00\u79cd\u3002\u5728NIX\u4e2d\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u53ea\u662f\u66f4\u591a\u7684\u6d3e\u751f\uff0c\u7531FetChurl\u7b49\u5305\u88c5\u5668\u51fd\u6570\u521b\u5efa\u3002\n\u5728\u6ca1\u6709\u4efb\u4f55\u9a8c\u8bc1\u7684\u60c5\u51b5\u4e0b\u7b80\u5355\u5730\u83b7\u53d6URL\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\uff0c\u56e0\u4e3aURL\u7684\u5185\u5bb9\u53ef\u80fd\u4f1a\u66f4\u6539\uff0c\u4ece\u800c\u7834\u574fNix\u8bd5\u56fe\u5b9e\u73b0\u7684\u4e0d\u53ef\u53d8\u7684\u6784\u5efa\u3002\u66f4\u4e0d\u7528\u8bf4\uff1a\u4e0d\u9a8c\u8bc1\u4e0b\u8f7d\u7684\u5305\u7ba1\u7406\u5668\u5c06\u662f\u4e00\u4e2a\u5de8\u5927\u7684\u5b89\u5168\u98ce\u9669\u3002\nNIX\u901a\u8fc7\u6dfb\u52a0\u5185\u5bb9\u6563\u5217\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u8fd9\u5c31\u662f\u56fa\u5b9a\u8f93\u51fa\u6240\u6307\u7684\u5185\u5bb9\u6563\u5217\u3002\u8fd9\u770b\u8d77\u6765\u50cf\u662f\uff1a\n(\u8fd9\u5c06\u8c03\u7528\u51fd\u6570FETCHULL\uff0c\u5e76\u5c06\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u5176\u53c2\u6570\u3002FETFLULL\u7684\u8fd4\u56de\u503c\u662f\u6d3e\u751f\u7684\u3002)\u3002\n\u56e0\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u786e\u5b9a\u6d3e\u751f\u5728\u6587\u4ef6\u7cfb\u7edf\u4e0a\u4ea7\u751f\u8f93\u51fa\uff0c\u4f46\u662f\u8fd9\u4e9b\u8f93\u51fa\u5728NIX\u8bed\u8a00\u4e2d\u4e5f\u662f\u4e0d\u53d8\u7684\u503c\u3002\u8fd9\u4e9b\u503c\u53ea\u662f\u4ee5\u4e0b\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u8def\u5f84\uff1a\nNIX\u5728\u8bc4\u4f30\u5b8c\u6240\u6709\u8f93\u5165\u4e4b\u540e\uff0c\u751a\u81f3\u5728\u6784\u5efa\u5668\u5f00\u59cb\u8fd0\u884c\u4e4b\u524d\u5c31\u786e\u5b9a\u4e86\u8fd9\u4e9b\u8def\u5f84\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u7684\u6784\u5efa\u5668\u811a\u672c\u4e2d\u7684$out\u53d8\u91cf\u5df2\u7ecf\u662f\u6700\u7ec8\u7684/nix/store\u8def\u5f84\u3002\n\u4e00\u65e6\u8bc4\u4f30\uff0c\u8def\u5f84\u4e2d\u7684\u6563\u5217\u5c31\u662f\u6240\u6709\u8f93\u5165\u7684\u5185\u5bb9\u6563\u5217\u3002\u8fd9\u610f\u5473\u7740\u6563\u5217\u4e0d\u4ec5\u5305\u542b\u6240\u4f7f\u7528\u7684\u4f9d\u8d56\u9879\u548c\u7248\u672c\uff0c\u8fd8\u5305\u542b\u6240\u6709\u8fd9\u4e9b\u4f9d\u8d56\u9879\u7684\u7279\u5b9a\u6784\u5efa\u3002\u4f8b\u5982\uff0c\u5373\u4f7f\u53ea\u6709\u7528\u4e8e\u6784\u5efa\u5305\u7684\u7f16\u8bd1\u5668\u6709\u8f83\u5c0f\u7684\u7248\u672c\u63d0\u5347\uff0c\u5b83\u4e5f\u4f1a\u53d1\u751f\u53d8\u5316\u3002\n\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u5305\u5c31\u4f7f\u7528\u5b8c\u6574\u7684/nix/store\u8def\u5f84\u5f15\u7528\u4f9d\u8d56\u9879\u3002NIX\u5b9e\u9645\u4e0a\u4e0d\u9057\u4f59\u529b\u5730\u4fee\u8865\u4e0a\u6e38\u5de5\u5177\u7684\u5404\u4e2a\u90e8\u5206\uff0c\u4ee5\u4fbf\u5c06\u5176\u5e94\u7528\u5230\u6240\u6709\u5730\u65b9\u3002\u4f8b\u5982\uff0c\u901a\u8fc7\u5728NixOS\u7cfb\u7edf\u4e0a\u8fd0\u884c\u8bf8\u5982ldd$(\u5176\u4e2dbash)\u4e4b\u7c7b\u7684\u547d\u4ee4\uff0c\u60a8\u53ef\u4ee5\u5728\u5171\u4eab\u5e93\u4e2d\u770b\u5230\u8fd9\u4e00\u70b9\uff1a\nlinux-vdso.so.1(0x00007fffc547e000)libreadline.so.7=&gt\uff1b/nix/store/ms1ris36xzyx9rzyss4h7pir759adc2d-readline-7.0p5/lib/libreadline.so.7(0x000071e760ba4000)libhistory.so.7=&gt\uff1b/nix/store/ms1ris36xzyx9rzyss4h7pir759adc2d-readline-7.0p5/lib/libhistory.so.7(0x000071e760b97000)libncursesw.so.6=&gt\uff1b/nix/store/kpw4kmc74djprg3bjc5rxblij46jdmnf-ncurses-6.1-20190112/lib/libncursesw.so.6(0x000071e760b26000)libdl.so.2=&gt\uff1b/nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib/libdl.so.2(0x000071e760b21000)libc.so.6=&gt\uff1b/nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib/libc.so.6(0x000071e760962000)/nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib/ld-linux-x86-64.so.2=&gt\uff1b/nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib64/ld-linux-x86-64.so.2(0x000071e760bf4000)\u3002\n\u8bed\u8a00\u4e2d\u7684\u4e0d\u53ef\u53d8\u503c\u548c/nix/store\u4e2d\u7684\u4e0d\u53ef\u53d8\u6587\u4ef6\u4e4b\u95f4\u7684\u8fd9\u79cd\u5339\u914d\u4f7fNIX\u80fd\u591f\u7cbe\u786e\u5730\u63cf\u8ff0\u5305\u7684\u975e\u5e38\u5177\u4f53\u7684\u6784\u5efa\uff0c\u751a\u81f3\u6574\u4e2a\u7cfb\u7edf\uff0c\u5305\u62ec\u5b83\u7684\u6240\u6709\u4f9d\u8d56\u9879\u3002\u5b83\u8fd8\u81ea\u7136\u5730\u63d0\u4f9b\u4e86\u53ef\u91cd\u73b0\u7684\u6784\u5efa\u3002\n\u8fd9\u4e9b\u53ea\u662f\u6258\u7ba1Nix\u53ef\u4ee5\u4e0b\u8f7d\u5e76\u76f4\u63a5\u590d\u5236\u5230/nix/store\u7684\u9884\u7f6e\u6d3e\u751f\u8f93\u51fa\u3002\u5bf9\u4e8e\u50cfglibc\u6216GCC\u8fd9\u6837\u6784\u5efa\u6210\u672c\u9ad8\u6602\u7684\u5927\u578b\u8f6f\u4ef6\u5305\u6765\u8bf4\u5c24\u5176\u6709\u7528\uff0c\u4f46\u662f\u60a8\u4f1a\u53d1\u73b0\u5b98\u65b9\u6253\u5305\u7684\u5305\u4e2d\u53ef\u80fd\u670990%\u4ee5\u4e0a\u90fd\u6709\u53ef\u7528\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\n\u4e00\u7ec4\u53ef\u4f9b\u7528\u6237\u4f7f\u7528\u7684\u8f6f\u4ef6\u5305\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5728shell\u4e2d\u6b63\u5e38\u4f7f\u7528\u3002\u6709\u65f6\u4e5f\u79f0\u4e3a\u7528\u6237\u73af\u5883\u3002\n\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u4f7f\u7528NIX\u9644\u5e26\u7684nix-env\u5de5\u5177\u8fdb\u884c\u7ba1\u7406\uff0c\u4f46\u662f\u8bb8\u591aNIX\u7528\u6237\u9009\u62e9\u4e0d\u540c\u7684\u89e3\u51b3\u65b9\u6848\u3002(\u50cfNixOS\u3001nix-Darwin\u6216home-manager\uff0c\u56e0\u4e3a\u5b83\u4eec\u5141\u8bb8\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u58f0\u660e\u6027\u5730\u5199\u51fa\u6240\u9700\u7684\u5305\u3002)\u3002\n\u7528\u6237\u7684shell\u8def\u5f84\u4e2d\u6709$HOME/.nix-profile/bin\u3002\u7136\u540e\uff0c\u6700\u7ec8\u7684\u7528\u6237\u73af\u5883\u76ee\u5f55\u5305\u542b\u6240\u6709\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u7684\u7ec4\u5408\u76ee\u5f55\u6811\u3002\n\u7f16\u53f7\u7b26\u53f7\u94fe\u63a5\u7f16\u7801&#39\uff1b\u4ee3&#39\uff1b\u3002\u8fd9\u6837\uff0c\u53ea\u9700\u5207\u6362\u7b26\u53f7\u94fe\u63a5\uff0c\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u5207\u6362\u56de\u4ee5\u524d\u7684\u72b6\u6001\u3002(NIX-ENV-G&lt\uff1bNUM&gt\uff1b)\u3002\n\u540c\u6837\uff0c\u5728NixOS\u4e0a\uff0c\u60a8\u4f1a\u53d1\u73b0\u6709\u4e00\u4e2a\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\uff0c\u5176\u4e2d\u5b89\u88c5\u4e86\u6240\u6709\u8f6f\u4ef6\u5305\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u7cfb\u7edf\u8303\u56f4\u5185/\u5bf9\u6240\u6709\u7528\u6237\u4f7f\u7528\u3002\n\u5f53\u4f60\u7ee7\u7eed\u4f7f\u7528Nix\u65f6\uff0c\u5b83\u5c06\u7ee7\u7eed\u5728\u5546\u5e97\u4e2d\u5efa\u7acb\u6587\u4ef6\uff0c\u5e76\u7ee7\u7eed\u5efa\u7acb\u8001\u4e00\u4ee3\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8fd9\u4e9b\u9700\u8981\u901a\u8fc7nix-store--gc\u6216\u5176\u5305\u88c5\u5668nix-Collect-\u5783\u573e\u6e05\u7406\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u5730\u4ee5\u4e00\u5b9a\u7684\u95f4\u9694(\u901a\u5e38\u662f\u6bcf\u5929)\u8fd0\u884c\u5176\u4e2d\u4e00\u4e2a\u6765\u5b9e\u73b0\u81ea\u52a8\u5316\u3002\n\u8fd9\u4e2a\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u975e\u5e38\u7b80\u5355\uff1aNIX\u626b\u63cf/nix/var/nix\u4e2d\u7684\u7b26\u53f7\u94fe\u63a5\uff0c\u5e76\u5220\u9664\u4e0d\u518d\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b\u7b26\u53f7\u94fe\u63a5\u8bbf\u95ee\u7684\u4efb\u4f55\u5b58\u50a8\u9879\u3002\u8be5\u76ee\u5f55\u5305\u542bProfiles\u5b50\u76ee\u5f55\uff0c\u4f46\u4e5f\u5305\u542b\u4e00\u4e2agcroots\u5b50\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u53ef\u7531\u6784\u5efa\u5728Nix\u4e4b\u4e0a\u7684\u5de5\u5177\u4f7f\u7528\u3002\u6240\u6709\u8fd9\u4e9b\u7b26\u53f7\u94fe\u63a5\u90fd\u79f0\u4e3a\u5783\u573e\u6536\u96c6\u6839\u6216GC\u6839\u3002\n\u4ece\u5916\u90e8\u6e90\u83b7\u53d6\u7684NIX\u8868\u8fbe\u5f0f\u7684\u96c6\u5408\u3002\u53ef\u4e0e\u5176\u4ed6\u5305\u7ba1\u7406\u5668\u4e2d\u7684\u5305\u6ce8\u518c\u8868/\u5b58\u50a8\u5e93\u76f8\u5ab2\u7f8e\u3002\nNIX\u901a\u9053\u7531NIX\u9644\u5e26\u7684NIX\u901a\u9053\u5de5\u5177\u7ba1\u7406\u3002\u6b64\u5de5\u5177\u53ea\u9700\u4e0b\u8f7d\u5e76\u89e3\u538b\u7f29tarball\uff0c\u5b83\u5fc5\u987b\u5305\u542b\u8981\u5bfc\u5165\u7684default.nix\u3002\n\u901a\u5e38\uff0c\u60a8\u4f1a\u53d1\u73b0\u9891\u9053\u662f\u76f4\u63a5\u4eceGitHub\u5b58\u50a8\u5e93\u4e2d\u63d0\u53d6\u7684\uff0c\u4f7f\u7528\u7279\u6b8a\u7684GitHub URL\u4ece\u4e3b\u5206\u652f\u4e0b\u8f7dtarball\u3002\u5373\u4f7f\u662f\u5b98\u65b9\u7684Nixpkgs\u9891\u9053\u4e5f\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528\uff0c\u5c3d\u7ba1\u6807\u51c6\u7684Nix\u5b89\u88c5\u4f7f\u7528\u7684\u662fnixos.org\u955c\u50cf\u3002\nNIX-CHANNEL\u5de5\u5177\u91cd\u590d\u4f7f\u7528\u8f6e\u5ed3\u529f\u80fd\u3002\u6bcf\u4e2a\u7528\u6237\u7684\u7b26\u53f7\u94fe\u63a5\u94fe\u53c8\u4e00\u6b21\u51fa\u73b0\u4e86\uff1a\n\u5728\u6700\u7ec8\u7684\u7528\u6237\u73af\u5883\u76ee\u5f55\u4e2d\uff0c\u60a8\u5c06\u6309\u540d\u79f0\u627e\u5230\u6bcf\u4e2a\u9891\u9053\u7684\u7b26\u53f7\u94fe\u63a5\uff0c\u6307\u5411\u5b83\u4eec\u63d0\u53d6\u7684\u5185\u5bb9\u3002\n\u7c7b\u4f3c\u4e8eshell\u4e2d\u7684\u8def\u5f84\uff0c\u4f46\u7528\u4e8eNix\u8bed\u8a00\u5bfc\u5165\u3002\u4ee5\u5206\u53f7\u5206\u9694\u7684\u641c\u7d22\u8def\u5f84\u5217\u8868\u3002\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNIX_PATH\u81f3\u5c11\u5305\u542b/nix/var/nix/profile/per-user/root/channel\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u4f7f\u7528root\u6ce8\u518c\u7684\u9891\u9053\u3002(\u8fd9\u6837\uff0croot\u7528\u6237\u8d1f\u8d23\u7ba1\u7406\u7cfb\u7edf\u4e0a\u7684nixpkgs\u7684\u4e3b\u526f\u672c\u3002)\u3002\n\u7136\u540e\u641c\u7d22nix_path\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\u4ee5\u67e5\u627enixpkgs\uff0c\u5e76\u4f7f\u7528\u7b2c\u4e00\u4e2a\u547d\u4e2d\u3002\n\u5f53\u7136\uff0c\u8fd9\u53ef\u4ee5\u7528\u4e8e\u4efb\u4f55\u76ee\u7684\uff0c\u4f46\u6700\u5e38\u88ab\u50cfNixOS\u8fd9\u6837\u7684\u7cfb\u7edf\u7528\u6765\u5bf9\u914d\u7f6e\u4f4d\u7f6e\u8fdb\u884c\u7f16\u7801\uff1a\nNIX\u5305\u7684\u5b98\u65b9\u96c6\u5408\u3002Fresh Nix\u5b89\u88c5\u5c06\u6709\u4e00\u4e2a\u9488\u5bf9Nixpkgs\u7684\u901a\u9053\u8bbe\u7f6e\uff0c\u901a\u5e38\u4f4d\u4e8eroot\u7528\u6237\u5e10\u6237\u4e2d\u3002\n\u624b\u52a8\u5bfc\u5165\u65f6\uff0c\u60a8\u5c06\u83b7\u5f97\u4e00\u4e2a\u5de5\u5382\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u63a5\u53d7\u5305\u542b\u53ef\u9009\u914d\u7f6e\u7684\u5c5e\u6027\u96c6\u3002\u4f8b\u5982\uff0c\u6b64\u914d\u7f6e\u7528\u4e8e\u6253\u5f00/\u5173\u95ed\u975e\u514d\u8d39\u5957\u9910\u3002\u8be5\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f\u5305\u542b\u6240\u6709\u53ef\u7528\u5305\u7684\u5c5e\u6027\u96c6\u3002(\u61d2\u60f0\u7684\u8bc4\u4f30\u8ba9\u8fd9\u53d8\u5f97\u5f88\u4fbf\u5b9c\u3002)\u3002\n\u4f46\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u60a8\u4e0d\u5fc5\u624b\u52a8\u5bfc\u5165Nixpkg\uff0c\u56e0\u4e3a\u5b83\u662f\u5728\u5176\u4ed6\u5730\u65b9\u914d\u7f6e\u7684\u3002\u67e5\u627e\u540d\u4e3apkgs\u7684\u53c2\u6570\u6216\u53d8\u91cf\uff0c\u5b83\u5c06\u5305\u542b\u5df2\u914d\u7f6e\u7684Nixpkgs\u3002\nNixpkgs\u8fd8\u7528\u4f5cNix\u8bed\u8a00\u7684\u6807\u51c6\u5e93\u3002Nix\u8bed\u8a00\u672c\u8eab\u6709\u4e00\u4e9b\u5185\u7f6e\u51fd\u6570\uff0c\u4f46\u662fNixpkgs\u5728lib\u5c5e\u6027\u4e2d\u63d0\u4f9b\u4e86\u8bb8\u591a\u6709\u7528\u7684\u6269\u5c55\u3002\n\u8fd9\u4e9b\u662f\u81ea\u5b9a\u4e49Nixpkgs\u7684\u65b9\u6cd5\u3002\u8986\u76d6\u662f\u5f53\u524d\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u800cFLACKS\u662f\u4e00\u79cd\u65b0\u65b9\u6cd5\uff0c\u5176\u5b9e\u73b0\u5728\u64b0\u5199\u672c\u6587\u65f6\u4ecd\u5904\u4e8e\u5b9e\u9a8c\u9636\u6bb5\u3002\n\u901a\u5e38\uff0c\u8fd9\u4e9b\u5141\u8bb8\u6dfb\u52a0\u65b0\u5305\u6216\u81ea\u5b9a\u4e49\u73b0\u6709\u5305\u3002\u8981\u4f7f\u7528\u7684\u8986\u76d6\u96c6\u662f\u63d0\u4f9b\u7ed9Nixpkgs\u5de5\u5382\u51fd\u6570\u7684\u914d\u7f6e\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u6709\u66f4\u591a\u65b9\u6cd5\u53ef\u4ee5\u8bbe\u7f6e\u5b83\u3002\n\u6b64\u5b88\u62a4\u7a0b\u5e8f\u4ee5root\u7528\u6237\u8eab\u4efd\u8fd0\u884c\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u4e0d\u8ba1\u7b97Nix\u8bed\u8a00\u4ee3\u7801\u3002\u4f46\u662f\uff0c\u5b83\u786e\u5b9e\u6267\u884c\u5b9e\u9645\u7684\u6d3e\u751f\u6784\u5efa\u3002\u5373\u4f7f\u6784\u5efa\u88ab\u6c99\u7bb1\u4fdd\u62a4\uff0c\u901a\u5e38\u53ea\u6709\u4e00\u7ec4\u9009\u5b9a\u7684\u7528\u6237\u88ab\u5141\u8bb8\u5728\u7cfb\u7edf\u4e0a\u4f7f\u7528NIX\u3002\nNixOS\u63a5\u53d7configation.nix\uff0c\u5e76\u4f7f\u7528\u6d3e\u751f\u4e3a\u5b8c\u6574\u7684Linux\u7cfb\u7edf\u751f\u6210\u5b9e\u9645\u914d\u7f6e\u3002\u8fc7\u5ea6\u7b80\u5316\u540e\uff0c\u53ef\u4ee5\u5c06\u5176\u89c6\u4e3a/etc\u7684\u5927\u578b\u6784\u5efa\u6b65\u9aa4\u3002\u6b64\u6784\u5efa\u6b65\u9aa4\u4f1a\u81ea\u52a8\u5f15\u5165\u5b9e\u73b0\u7cfb\u7edf\u914d\u7f6e\u6240\u9700\u7684\u4efb\u4f55\u5305\uff0c\u5c31\u50cf\u4efb\u4f55\u5176\u4ed6\u4f9d\u8d56\u9879\u4e00\u6837\u3002\n\u6700\u597d\u5c06configation.nix\u7684\u5904\u7406\u770b\u4f5c\u662f\u5728Nix\u5305\u6784\u5efa\u4e4b\u4e0a\u6dfb\u52a0\u4e00\u4e2a\u5168\u65b0\u7684\u5c42\uff0c\u8fd9\u5f15\u5165\u4e86\u6240\u6709\u65b0\u6982\u5ff5\u3002\u4f46\u662f\u8fd9\u4e2a\u65b0\u7684\u5c42\u53ef\u4ee5\u4f7f\u7528\u548c\u4fee\u6539\u5305\u88c5\u6784\u5efa\u7684\u8f83\u4f4e\u5c42\u3002\n\u8fd9\u91cc\u770b\u4e0d\u5230\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u94fe\u8df3\u8fc7\u4e86\u4e00\u4e2a\u6b65\u9aa4\uff0c\u4f46\u662f/nix/store\u4e2d\u7684\u8fd9\u4e2a\u5185\u7f6e\u5b9e\u9645\u4e0a\u662f\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\u7684\u4e00\u90e8\u5206\u3002\u56e0\u4e3a\u5b83\u4f7f\u7528\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6240\u4ee5\u5b83\u6709\u53ef\u4ee5\u56de\u6eda\u5230\u7684\u5c42\u4ee3\u3002(NIXOS-REBUILD\u5f00\u5173--\u56de\u6eda)\u3002\nNixOS\u8fd8\u53ef\u4ee5\u4e3a\u7cfb\u7edf\u4e0a\u7684\u5355\u4e2a\u7528\u6237\u7ba1\u7406\u8f6f\u4ef6\u5305\u3002\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u7684\u5de5\u4f5c\u539f\u7406\u6709\u70b9\u7c7b\u4f3c\u4e8enix-env\u914d\u7f6e\u6587\u4ef6\uff0c\u4f46\u662f\u5b83\u4eec\u5206\u522b\u4f4d\u4e8e/etc/profile\u4e2d\u3002\n\u81f3\u5173\u91cd\u8981\u7684\u662f\uff0cNixpkgs\u4e2d\u7684\u8f6f\u4ef6\u5305\u53ea\u662f\u8f6f\u4ef6\u7684\u6784\u5efa\u7248\u672c\uff0c\u5e76\u4e14\u4e0d\u5305\u542bsystemd\u5355\u5143\u6587\u4ef6\u3002\u8fd9\u5c31\u662f\u6a21\u5757\u7684\u7528\u6b66\u4e4b\u5730\u3002\n\u6a21\u5757\u662f\u5728\u5904\u7406NixOS configuration ation.nix\u65f6\u52a0\u8f7d\u7684NIX\u8868\u8fbe\u5f0f\uff0c\u5e76\u63d0\u4f9b\u65b0\u7684\u9009\u9879\u3002NixOS\u9884\u52a0\u8f7d\u7684\u6807\u51c6\u6a21\u5757\u901a\u5e38\u6709\u4e00\u4e2a\u542f\u7528\u9009\u9879\u6765\u6fc0\u6d3b\u5b83\u4eec\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528Imports=[.]\u52a0\u8f7d\u81ea\u5b9a\u4e49\u6a21\u5757\u3002\u5728\u914d\u7f6e\u4e2d\u5217\u51fa\u3002(\u4e0d\u662f\u8bed\u8a00\u7ea7\u5bfc\u5165\u3002)\n\u542f\u7528\u540e\uff0c\u6a21\u5757\u53ef\u4ee5\u4fee\u6539NixOS\u914d\u7f6e\u7684\u5404\u4e2a\u90e8\u5206\u4ee5\u53ca\u60a8\u81ea\u5df1\u7684configation.nix\uff0c\u4f8b\u5982\u521b\u5efa/etc\u6587\u4ef6\u548c\u6dfb\u52a0\u65b0\u7684systemd\u5355\u5143\u3002\u56e0\u6b64\uff0c\u8fd9\u4e9b\u901a\u5e38\u4f1a\u62c9\u8fdb\u5305\u88f9\u3002\u4f8b\u5982\uff0cNginx\u6a21\u5757\u62c9\u5165Nginx\u5305\uff0c\u5e76\u521b\u5efa\u5fc5\u8981\u7684systemd\u670d\u52a1\u5355\u5143\u3002\n(\u60a8\u4f1a\u53d1\u73b0home-manager\u548cnix-darwin(\u7a0d\u540e\u8ba8\u8bba)\u4e5f\u4f7f\u7528\u6a21\u5757\u6982\u5ff5\uff0c\u4f46\u8be5\u4ee3\u7801\u4e0d\u5728Nixpkgs\u4e2d\u3002)\u3002\n\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u53ea\u8ba8\u8bba\u4e86\u6784\u5efa\u65f6\u6982\u5ff5\u3002\u4f8b\u5982\uff0cNix\u4e4b\u4e0a\u7684NixOS\u5c42\u8fd8\u6dfb\u52a0\u4e86\u4e00\u4e2a\u8fd0\u884c\u65f6\u5143\u7d20\uff0c\u56e0\u4e3a\u670d\u52a1\u9700\u8981\u542f\u52a8/\u505c\u6b62\u3002NixOS\u4f7f\u7528\u6fc0\u6d3b\u8fd9\u4e2a\u672f\u8bed\u6765\u8868\u793anixos-rebuild\u5f00\u5173\u5728\u5207\u6362\u914d\u7f6e\u65f6\u6240\u505a\u7684\u6240\u6709\u989d\u5916\u7684\u8fd0\u884c\u65f6\u5de5\u4f5c\u3002\n\u5176\u4e2d\u4e00\u90e8\u5206\u662f\u540d\u4e3a\u9010\u5b57\u6fc0\u6d3b\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u5728\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\u7684TopLevel\u76ee\u5f55\u4e2d\u627e\u5230\u8be5\u811a\u672c\u3002\u8be5\u811a\u672c\u7531NixOS\u548c\u901a\u8fc7system.activate ationScriptsconfiguration\u9009\u9879\u542f\u7528\u7684\u5404\u79cd\u6a21\u5757\u7ec4\u6210\u3002(\u67e5\u627e\u8be5\u811a\u672c\u7684\u4e00\u79cd\u5feb\u6377\u65b9\u6cd5\u662f\u4f7f\u7528/run/current-system\u7b26\u53f7\u94fe\u63a5\uff0c\u8be5\u7b26\u53f7\u94fe\u63a5\u8fd8\u6307\u5411\u5f53\u524d\u7684systemprofile\u751f\u6210\u3002)\u3002\n\u4e0d\u8fc7\uff0c\u5b9e\u9645\u4e0a\u542f\u52a8/\u505c\u6b62\u670d\u52a1\u662f\u7531\u4e00\u4e9bPerl\u4ee3\u7801\u4f5c\u4e3aNixOS\u5de5\u5177\u7684\u4e00\u90e8\u5206\u6765\u5904\u7406\u7684\u3002\nnix-Darwin\u7684\u7ed3\u6784\u7c7b\u4f3c\u4e8eNixOS\uff1a\u4f7f\u7528Darwin\u914d\u7f6e.nix\uff0c\u7531\u6a21\u5757\u7ec4\u6210\uff0c\u4f7f\u7528\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u4e14\u6709\u4e00\u4e2a\u6fc0\u6d3b\u6b65\u9aa4\u3002(\u8fbe\u5c14\u6587-\u91cd\u5efa\u4ea4\u6362\u673a)\u3002\nnix-darwin\u4e2d\u7684\u6a21\u5757\u5141\u8bb8\u60a8\u6709\u9009\u62e9\u5730\u63a5\u7ba1\u90e8\u5206MacOS\u914d\u7f6e\uff0c\u6dfb\u52a0\u65b0\u7684\u542f\u52a8\u670d\u52a1\uff0c\u5f53\u7136\u8fd8\u6709\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002\n\u8bf7\u6ce8\u610f\uff0c\u8981\u542f\u52a8\u5e76\u8fd0\u884cnix-Darwin\uff0c\u60a8\u9996\u5148\u9700\u8981\u6309\u7167\u624b\u518c\u4e2d\u7684\u8bf4\u660e\u8fdb\u884c\u591a\u7528\u6237\u5b89\u88c5\u3002\u4f46\u662fNIX-\u8fbe\u5c14\u6587\u4e4b\u540e\u5c06\u63a5\u7ba1\u8fd9\u4e2a\u88c5\u7f6e\u7684\u7ba1\u7406\uff0c\u5b83\u7684\u6548\u679c\u8981\u597d\u5f97\u591a\u3002\u4e0d\u8fc7\uff0c\u60a8\u53ef\u80fd\u4f1a\u5728MacOS\u4e0a\u8bbe\u7f6eNIX\u65f6\u51fa\u9519\u3002\u5feb\u901f\u63d0\u793a\uff1a\u4e86\u89e3\u5982\u4f55\u4e3a/nix\u8bbe\u7f6eAPFS\u5377\uff0c\u5173\u95ed\u8be5\u5377\u7684Spotlight\u7d22\u5f15\uff0c\u5e76\u6ce8\u610f\u5b89\u88c5\u7a0b\u5e8f\u53d1\u51fa\u7684\u6709\u5173/etc\u4e2d\u672a\u89e6\u53ca\u7684\u6587\u4ef6\u7684\u8b66\u544a\u3002(\u8fd9\u4e9b\u9700\u8981\u7279\u522b\u6ce8\u610f\u3002)\n\u540c\u6837\uff0c\u5176\u7ed3\u6784\u7c7b\u4f3c\u4e8eNixOS\uff1a\u4f7f\u7528home.nix\uff0c\u7531\u6a21\u5757\u7ec4\u6210\uff0c\u4f7f\u7528\u4e3b\u7ba1\u7406\u5668\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u4e14\u6709\u4e00\u4e2a\u6fc0\u6d3b\u6b65\u9aa4\u3002(\u5bb6\u5ead\u7ba1\u7406\u5458\u4ea4\u6362\u673a)\u3002\nhome-manager\u4e2d\u7684\u6a21\u5757\u5141\u8bb8\u60a8\u6709\u9009\u62e9\u5730\u63a5\u7ba1git\u3001zsh\u3001vim\u3001Firefox\u7b49\u5de5\u5177\u7684\u914d\u7f6e\uff0c\u4ec5\u4e3e\u51e0\u4f8b\uff0c\u4f46\u5217\u8868\u5f88\u957f\u3002Home-Manager\u8fd8\u53ef\u4ee5\u4e3a\u60a8\u8bbe\u7f6esystemd\u7528\u6237\u670d\u52a1\uff0c\u5f53\u7136\u8fd8\u53ef\u4ee5\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002\nHome-Manager\u540c\u65f6\u652f\u6301Linux\u548cMacOS\uff0c\u5c3d\u7ba1\u5728\u64b0\u5199\u672c\u6587\u65f6\u5bf9MacOS\u7684\u652f\u6301\u8fd8\u4e0d\u5b8c\u5168\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8bb8\u591a\u542f\u52a8\u7528\u6237\u670d\u52a1\u7684\u6a21\u5757\u8fd8\u4e0d\u77e5\u9053\u542f\u52a8\u3002\n\u5728\u5355\u7528\u6237\u7cfb\u7edf\u4e0a\u771f\u6b63\u6709\u7528\u7684\u662f\uff0c\u60a8\u53ef\u4ee5\u5c06\u60a8\u7684\u5bb6\u5ead\u7ba1\u7406\u5668\u914d\u7f6e\u5d4c\u5165\u5230\u60a8\u7684NixOS\u6216nix-Darwin\u914d\u7f6e\u4e2d\u3002\u8fd9\u4e5f\u7ed3\u5408\u4e86\u6fc0\u6d3b\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u6839\u672c\u4e0d\u5fc5\u89e6\u6478\u4e3b\u7ba1\u7406\u5668\u547d\u4ee4\u884c\u5de5\u5177\u3002\n\u6211\u60f3\u8981\u6709\u4e00\u4e2a\u7ae0\u8282\u6765\u8ba8\u8bbaNIX\u5b98\u65b9\u624b\u518c\u4e2d\u63d0\u5230\u7684(\u975eNixOS)\u5b89\u88c5\u65b9\u6cd5\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u4e00\u4ef6\u4e8b\uff0c\u4f46\u5b83\u4eec\u662f\u4e0d\u53ef\u9760\u7684\u3002\u5728MacOS\u4e0a\uff0c\u60a8\u5fc5\u987b\u7ecf\u8fc7\u8fd9\u4e9b\u6b65\u9aa4\u624d\u80fd\u5347\u7ea7\u5230nix-Darwin\uff0c\u6211\u76f8\u4fe1\u5728\u5176\u4ed6Linux\u53d1\u884c\u7248\u4e0a\uff0c\u5b83\u4eec\u53ef\u80fd\u662f\u552f\u4e00\u53d7\u652f\u6301\u7684\u65b9\u6cd5\u3002\n\u5176\u4e2d\u4e00\u4e2a\u9009\u9879\u662f\u5355\u7528\u6237nix\u5b89\u88c5\uff0c\u8fd9\u610f\u5473\u7740\u6ca1\u6709nix\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5e76\u4e14/nix\u4e0d\u5c5e\u4e8eroot\u7528\u6237\uff0c\u800c\u5c5e\u4e8e\u666e\u901a\u7528\u6237\u3002\u624b\u518c\u672c\u8eab\u5df2\u7ecf\u5efa\u8bae\u4e0d\u8981\u8fd9\u6837\u505a\uff0c\u56e0\u4e3aNix\u53ef\u4ee5\u5728\u6b64\u8bbe\u7f6e\u4e2d\u6784\u5efa\u6c99\u7bb1\u3002\n\u53e6\u4e00\u79cd\u9009\u62e9\u662f\u591a\u7528\u6237\u5b89\u88c5\uff0c\u5b83\u4ee5root\u8eab\u4efd\u6b63\u786e\u8fd0\u884cnix-daemon\u3002\u4e0d\u8fc7\uff0c\u5b89\u88c5\u7a0b\u5e8f\u505a\u8fd9\u4ef6\u4e8b\u7684\u65b9\u5f0f\u6709\u70b9\u4e00\u6b21\u6027\uff0c\u81f3\u5c11\u5728MacOS\u4e0a\u662f\u8fd9\u6837\u3002\u4e00\u65e6\u5b89\u88c5\uff0c\u5b9e\u9645\u4e0a\u5347\u7ea7Nix\u672c\u8eab\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u975e\u5e38\u624b\u52a8\u4e14\u4ee4\u4eba\u56f0\u60d1\u7684\u8fc7\u7a0b\u3002\n\u8fd9\u91cc\u6709\u5f88\u591a\u4e1c\u897f\u6211\u6839\u672c\u6ca1\u78b0\u8fc7\uff0c\u6bd4\u5982NixOps\u6216\u8fdc\u7a0b\u6784\u5efa\u3002\u4e3b\u8981\u662f\u56e0\u4e3a\u6211\u81ea\u5df1\u8fd8\u6ca1\u6709\u7528\u8fc7\u5b83\u4eec\uff0c\u6211\u60f3\u77e5\u9053\u6211\u4f1a\u4e0d\u4f1a\u7528\uff01\u4f46\u5e0c\u671b\u8fd9\u4e5f\u610f\u5473\u7740\u8fd9\u4e2a\u5217\u8868\u662f\u65b0\u7528\u6237\u611f\u5174\u8da3\u7684\u4e00\u4e2a\u66f4\u8212\u9002\u7684\u5b50\u96c6\u3002\n\u6211\u4e2a\u4eba\u53d1\u73b0\u771f\u6b63\u5f3a\u5927\u7684\u662f\u5c06NixOS\u7528\u4e8e\u5177\u6709\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u5355\u4e2a\u670d\u52a1\u5668\u3002\u6211\u4ece\u6765\u6ca1\u6709\u60f3\u8fc7\u5728Debian\u4e0a\u6253\u5305\uff0c\u4f46\u662fNixOS\u6253\u5305\u76f8\u5bf9\u5bb9\u6613\uff0c\u5c3d\u7ba1\u6709\u8bed\u8a00\u5b66\u4e60\u66f2\u7ebf\u3002\u7ed5\u8fc7Debian\u4e0a\u7684\u6253\u5305\u603b\u662f\u8ba9\u6211\u611f\u5230\u7591\u60d1\uff1a&#34\uff1b\u5982\u679c\u65e0\u4eba\u53c2\u4e0e\u7684\u5347\u7ea7\u63a8\u51fa\u4e86\u91cd\u8981\u4f9d\u8d56\u9879(\u5982OpenSSL\u6216Node.js)\u7684\u65b0\u7248\u672c\uff0c\u6211\u5982\u4f55\u81ea\u52a8\u91cd\u65b0\u542f\u52a8\u6211\u7684\u670d\u52a1\uff1f\u6b64\u5916\uff0cNixOS\u4e2d\u7684systemd\u96c6\u6210\u4ee4\u4eba\u60ca\u53f9\uff0c\u4f7f\u81ea\u5b9a\u4e49chroot\u53d8\u5f97\u8f7b\u800c\u6613\u4e3e\u3002\n\u6211\u8ba4\u4e3a\u5bf9\u6211\u6765\u8bf4\uff0cNIX\u6700\u5927\u7684\u969c\u788d\u662fMacOS\u7684\u5b89\u88c5\u8fc7\u7a0b\u3002\u4e5f\u8bb8\u5728\u5176\u4ed6Linux\u53d1\u884c\u7248\u4e0a\u8bd5\u7528NIX\u4e5f\u5b58\u5728\u540c\u6837\u7684\u95ee\u9898\uff1f\u6211\u89c9\u5f97\u5728NixOS\u4e4b\u5916\u7684\u7b2c\u4e00\u6b21\u5f88\u68d2\u7684\u4f53\u9a8c\u53ef\u80fd\u771f\u7684\u6709\u52a9\u4e8e\u57f9\u517b\u66f4\u591a\u7684\u5174\u8da3\u3002\n\u5177\u4f53\u5730\u8bf4\uff0c\u6211\u8ba4\u4e3aNix-Darwin\u5e94\u8be5\u6709\u4e00\u4e2a\u7ec4\u5408\u5b89\u88c5\u7a0b\u5e8f\uff0c\u72ec\u7acb\u5b89\u88c5\u65b9\u6cd5\u5e94\u8be5\u6ce8\u9500\u4e3a\u9ad8\u7ea7\u3002\n\u6211\u7684\u53e6\u4e00\u4e2a\u62b1\u6028\u662f\u9488\u5bf9\u6bcf\u4e2a\u7528\u6237\u7684\u9891\u9053\u7ba1\u7406\u3002\u8fd9\u5f88\u597d\uff0c\u4f46\u662f\u9ed8\u8ba4\u8bbe\u7f6e\u5e94\u8be5\u4e3a\u53ea\u6709\u4e00\u4e2a\u7528\u6237\u7684\u7cfb\u7edf\u91cf\u8eab\u5b9a\u505a\uff0c\u56e0\u4e3a\u6211\u89c9\u5f97\u8fd9\u5c06\u662f\u5927\u591a\u6570\u5b89\u88c5\uff1f\u5177\u4f53\u5730\u8bf4\uff0c\u6211\u5728Mac\u4e0a\u5c06Nixpkgs\u9891\u9053\u79fb\u5230\u4e86\u6211\u81ea\u5df1\u7684\u7528\u6237\uff0c\u800c\u4e0d\u662froot\u7528\u6237\u3002\u4e0d\u5f97\u4e0d\u5207\u6362\u5230root\u6765\u5347\u7ea7nix\u548cnixpkgs\u771f\u7684\u5f88\u70e6\u4eba\u3002\u73b0\u5728\uff0c\u6211\u6839\u672c\u4e0d\u9700\u8981sudo\uff0c\u800c\u4e14\u53ea\u6709\u8fbe\u5c14\u6587-rebuild\u5f00\u5173\u4f1a\u5411\u6211\u7d22\u8981\u5bc6\u7801\u3002\n\u5c3d\u7ba1\u5982\u6b64\uff0c\u6211\u771f\u8bda\u5730\u5e0c\u671b\u8fd9\u4e00\u5207\u90fd\u4e0d\u4f1a\u8ba9\u4f60\u8fdc\u79bb\u5c3c\u514b\u65af\uff0c\u56e0\u4e3a\u6211\u88ab\u7092\u4f5c\u4e86\u3002\u5c31\u8f6f\u4ef6\u5305\u548c\u7cfb\u7edf\u7ba1\u7406\u800c\u8a00\uff0c\u5b83\u662f\u672a\u6765\u4e3b\u4e49\u7684\u3002\u5728\u6211\u770b\u6765\uff0c\u82b1\u5728\u5b66\u4e60\u4e0a\u7684\u65f6\u95f4\u662f\u503c\u5f97\u7684\uff01", "note_en": "Maybe I just haven&#39;t been paying attention before, but in the last year or so, there seems to have been an increase in discussion around the Nix package manager. This is also what got me to finally try it, and I&#39;m very happy with the results, even if the road is a little bumpy.\n I don&#39;t believe I&#39;m the only one to mention the documentation is lacking a little finish. What I personally find is that there&#39;s just a lot Nix allows you to do, and no two people do things the same way. On top of this, the  official Nix manual may try to teach you a whole bunch of things you won&#39;t be using in practice.\n This post is an attempt to help smooth the road a bit. What I will try to do is go through Nix terminology bottom-up, and hopefully explain concepts that way. But this will be very much from my perspective, and will contain some opinion as well.\n  Setup the NixOS server hosting the publicly accessible applications of the Portier project, which includes packaging Rust and Python tools and applications. The configuration for this is public and can be found in the portier/public-infrarepository on GitHub.\n Setup my own MacBook using  nix-darwinand  home-manager, replacing my private dotfiles repo, vimplug, oh-my-zsh, and almost everything I did with Homebrew before. (I still use homebrew-cask.)\n But, I still consider myself quite new, so do keep in mind there are probably mistakes and inaccuracies here!\n   Nix is often called a package manager, because like other package managers, its intended purposes is to manage installations of all the tools and applications you need. You&#39;ll find Nix stretches this definition a bit, and is used for both smaller and larger tasks than just managing package installation.\n Part of Nix itself are the Nix expression language, and a set of command-line tools.\n   This is the language used to describe package builds, and it contains some unique language constructs to make that work. Also important to know is that all values in the language are immutable, and the language itself does not allow side-effects (all code and functions are &#39;pure&#39;).\n I&#39;d personally argue that working with Nix as a user is 80% doing interesting things with the Nix expression language, and 20% package management.\n   Literally an expression in the Nix language, but a term very often used in passing.\n In the Nix language, expressions are  the top-level language construct. (As opposed to, for example, statements in JavaScript / Python, or definitions in C and friends.)\n The term &#39;Nix expression&#39; is also sometimes used to describe files containing them, with the  .nix suffix. Notably,  .nix files are  not referred to as &#39;libraries&#39; or &#39;modules&#39;, but more often as &#39;imports&#39;, after the built-in function used to load them. (For example: &#34;Import the Nix expression from foo.nix.&#34;)\n  A set of name/value pairs. Very similar to a dictionary in Python or an object in JavaScript.\n  While this is an incredibly basic concept, I felt like I needed to highlight the term for it specifically, because it can be easily missed when skimming ahead through manuals.\n  A special type of value in the Nix language to describe, essentially, a build step.\n Derivations are a subtype of an attribute set, and created using the language built-in function  derivation. (Though, you&#39;ll often end up using a wrapper for it.)\n A derivation takes some inputs and produces some outputs. Because of lazy evaluation, the derivation is only actually built when one of the outputs is evaluated in the Nix language. Of course, this will also cause inputs to be evaluated, which may in turn be more derivations. This is how packages depend on eachother in Nix.\n The most common scenario when packaging for Nix is for a derivation to have a single output called  out (the default), and to use that as the installation prefix for whatever tool you are packaging. So, executables would end up in $out/bin, for example.\n It is also important to note that derivations are not just used to build packages, but anything really, like configuration files for example.\n   One of the required inputs of a derivation is the builder, responsible for actually producing the outputs. This is often simply a shell script.\n  derivation {   =  &#34;hello-world&#34;;   =  &#34;x86_64-linux&#34;;   = [  &#34;out&#34; ];  # This is the default, and can be omitted.   =  &#34; ${pkgs.bash}/bin/bash&#34;;   = [  &#34;-c&#34;  &#34;echo &#39;Hello world!&#39; &gt; $out&#34; ];}\n The builder is assigned some output paths on the filesystem, one for each output declared. Here, we only have  out, and the path for that output is then made available in the  $out environment variable. The builder can create a directory there, but may also just write a single file.\n  A derivation for which the output is known ahead of time, via a content hash.\n One if the basic steps in packaging is to download the source code of whatever tool you are packaging. In Nix these steps are just more derivations, created by wrapper functions like  fetchurl.\n Simply fetching a URL without any verification is a bad idea, because the contents of the URL may change, breaking the immutable builds Nix tries to achieve. Not to mention: a package manager that doesn&#39;t verify downloads would be a huge security risk.\n Nix solves this by adding a content hash, which is what &#39;fixed-output&#39; refers to. This looks like:\n  (This calls the function  fetchurl with an attribute set as its argument. The return value of  fetchurl is a derivation.)\n   So we&#39;ve established derivations produce output on the filesystem, but these outputs are  also immutable values in the Nix language. These values are simply string paths in the format:\n  Nix determines these paths once all inputs have been evaluated, and  beforethe builder even starts running. In fact, the  $out variable in the builder script above is already the final  /nix/store path.\n The hash in the path is a content hash of all inputs, once evaluated. This means the hash encompasses not just what dependencies and versions are used, but the  specific build of all those dependencies. It changes even if only the compiler used to build your package had a minor version bump, for example.\n Whenever possible, packages refer to dependencies using the full  /nix/storepaths. Nix actually goes through lengths to patch various parts of upstream tools to apply this everywhere. For example, you can see this with shared libraries by running something like  ldd $(which bash) on a NixOS system:\n linux-vdso.so.1 (0x00007fffc547e000)libreadline.so.7 =&gt; /nix/store/ms1ris36xzyx9rzyss4h7pir759adc2d-readline-7.0p5/lib/libreadline.so.7 (0x000071e760ba4000)libhistory.so.7 =&gt; /nix/store/ms1ris36xzyx9rzyss4h7pir759adc2d-readline-7.0p5/lib/libhistory.so.7 (0x000071e760b97000)libncursesw.so.6 =&gt; /nix/store/kpw4kmc74djprg3bjc5rxblij46jdmnf-ncurses-6.1-20190112/lib/libncursesw.so.6 (0x000071e760b26000)libdl.so.2 =&gt; /nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib/libdl.so.2 (0x000071e760b21000)libc.so.6 =&gt; /nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib/libc.so.6 (0x000071e760962000)/nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib/ld-linux-x86-64.so.2 =&gt; /nix/store/9hy6c2hv8lcwc6clnc1p2jf09cs5q9dp-glibc-2.30/lib64/ld-linux-x86-64.so.2 (0x000071e760bf4000)\n    This match between immutable values in the language, and immutable files in /nix/store, is what allows Nix to  precisely describe a very specific build of a package or even complete system, encompassing all its dependencies. It also naturally provides reproducable builds.\n   These simply host prebuilt derivation outputs that Nix can download and copy straight to  /nix/store. Especially useful for large, expensive to build packages like glibc or gcc, but you&#39;ll find probably more than 90% of what&#39;s packaged officially has a binary available.\n  A set of packages to make available to the user, so they can be used normally from a shell. Also sometimes called &#39;user environments&#39;.\n Profiles can be managed with the  nix-env tool included with Nix, but many Nix users opt for different solutions. (Like NixOS, nix-darwin, or home-manager, because they allow you to write out the desired packages declaratively, in a configuration file.)\n   The user has  $HOME/.nix-profile/bin in their shell  PATH. The final user-environment directory then contains a combined directory tree of all packages installed.\n The numbered symlink encodes &#39;generations&#39;. This way, it&#39;s easy to switch back to a previous state, simply by switching the symlink. ( nix-env -G &lt;NUM&gt;)\n Similarly, on NixOS you&#39;ll find there is a  system profile with all packages installed and available system-wide / to all users.\n   As you keep using Nix, it will continue building up files in the store, and continue building up old generations of profiles. These need to be cleaned up via  nix-store --gc or its wrapper  nix-collect-garbage. This can be automated by simply running one of them at an interval (usually daily).\n The process is actually quite simple: Nix scans the symlinks in  /nix/var/nixand deletes any store items no longer reachable through those symlinks. This directory contains the  profiles subdirectory, but also a  gcrootssubdirectory that can be used by tools built on top of Nix. All of these symlinks are called &#39;garbage collection roots&#39; or &#39;GC roots&#39;.\n  Collections of Nix expressions fetched from an external source. Comparable to a package registry / repository in other package managers.\n Nix channels are managed by the  nix-channel tool included with Nix. This tool simply downloads and extracts tarballs, which must contain a  default.nix to be imported.\n Very often, you&#39;ll find channels are pulled directly from a GitHub repository, using the special GitHub URL to download a tarball from the master branch. Even the official Nixpkgs channel can be used this way, though standard Nix installations use a nixos.org mirror.\n The  nix-channel tool reuses the profiles functionality. There&#39;s again a chain of symlinks for each user:\n  In the final  user-environment directory, you&#39;ll find symlinks for each channel by name, pointing to their extracted contents.\n  Like  PATH in a shell, but for Nix language imports. A semi-colon seperated list of search paths.\n By default, NIX_PATH contains at least /nix/var/nix/profiles/per-user/root/channels, which means channels registered by  root are available to everyone. (This way, the root user is responsible for managing the main copy of Nixpkgs on the system.)\n   Each directory in NIX_PATH is then searched in order for  nixpkgs, and the first hit is used.\n   This can be used for any purpose, of course, but is most often used by systems like NixOS to encode the location of configuration:\n   The official collection of Nix packages. Fresh Nix installations will have a channel setup for Nixpkgs, usually in the root user account.\n When manually imported, you get a factory function that takes an attribute set containing optional configuration. This configuration is used to switch on/off non-free packages, for example. The return value of that function is an attribute set containing  all of the available packages. (Lazy evaluation makes this cheap.)\n   But more often than not, you don&#39;t have to import Nixpkgs manually, because it is configured elsewhere. Look for an argument or variable called  pkgs, which will contain an already-configured Nixpkgs.\n Nixpkgs also functions as a standard library for the Nix language. The Nix language itself has some built-in functions, but Nixpkgs provides many useful extensions in the  lib attribute.\n  These are methods to customize Nixpkgs. Overlays is the currently used method, while flakes is new, and its implementation is still experimental at the time of writing.\n In general, these allow adding new packages or customizing existing packages. The set of overlays to use are part of the configuration provided to the Nixpkgs factory function, but there are  more ways to set this.\n   This daemon runs as  root, but does not actually evaluate Nix language code. It does, however, perform the actual derivation builds. Even though builds are sandboxed, usually only a select group of users will be allowed to use Nix on a system.\n   NixOS takes a  configuration.nix, and uses derivations to generate real configuration for a  complete Linux system. Over-simplified, it can be seen as a large build step for  /etc. This build step automatically pulls in any packages it needs to realize your system configuration, just like any other dependency.\n Processing of  configuration.nix is best seen as adding an entire new layer on top of Nix package builds, that introduces all new concepts. But this new layer can use and modify the &#39;lower&#39; layer of package building.\n   Not visible here, because this chain skips a step, but this build in /nix/store is actually part of the  system profile. Because it uses a profile underneath, it has generations you can rollback to. ( nixos-rebuild switch --rollback)\n NixOS can also manage packages for individual users on the system. These work a bit like  nix-env profiles, but live separately in  /etc/profiles.\n   Crucially, packages in Nixpkgs are just builds of software, and don&#39;t include systemd unit files. That&#39;s where modules come in.\n Modules are Nix expressions that are loaded while processing NixOS configuration.nix, and which provide new options. Standard modules preloaded by NixOS often have an  enable option to activate them, and custom modules can be loaded using the  imports = [ ... ] list in configuration. ( Not a language-level  import.)\n When enabled, modules may modify various parts of NixOS configuration alongside your own  configuration.nix, such as creating  /etc files and adding new systemd units. These often pull in packages as a consequence. For example, an Nginx module pulls in the Nginx package, and creates the necessary systemd service unit.\n  (You&#39;ll find home-manager and nix-darwin, discussed later, also use the modules concept, but that code does not live in Nixpkgs.)\n   So far, we&#39;ve only discussed build-time concepts. The NixOS layer on top of Nix also adds a run-time element, because services need to be started/stopped, for example. NixOS uses the term &#39;activation&#39; for all of the additional run-time stuff  nixos-rebuild switch does when switching configuration.\n One part of this is a script called literally  activate, which can be found in toplevel directory of your  system profile. This script is composed by NixOS and various modules that were enabled, through the  system.activationScriptsconfiguration option. (A quick way to find the script is to use the /run/current-system symlink, which also points to the current  systemprofile generation.)\n Actually starting/stopping services is handled by some Perl code as part of NixOS tooling, though.\n   The structure of nix-darwin is similar to NixOS: uses a darwin-configuration.nix, is composed of modules, uses a  system profile, and has an activation step. ( darwin-rebuild switch)\n The modules in nix-darwin allow you to have it selectively take over parts of macOS configuration, add new launchd services, and of course install packages.\n Note that to get up and running with nix-darwin, you first need to do a &#39;multi-user install&#39; as described by the manual. But nix-darwin will afterwards take over management of this installation, which works far better. Though, you probably  will stumble setting up Nix on macOS. Quick tips: figure out how to setup an APFS volume for  /nix, turn off Spotlight indexing for that volume, and heed warnings from the installer about files in  /etc that it didn&#39;t touch. (Those require special attention.)\n   Again, the structure is similar to NixOS: uses a  home.nix, is composed of modules, uses a  home-manager profile, and has an activation step. ( home-manager switch)\n The modules in home-manager allow you to have it selectively take over configuration of tools like git, zsh, vim, firefox, just to name a few, but the list is long. Home-manager can also setup systemd user services for you, and of course install packages.\n Home-manager has support for both Linux and macOS, though the macOS support is not as complete at the time of writing. Notably, many modules that start user services don&#39;t yet know about launchd.\n Really useful on single-user systems is that you can embed your home-manager configuration inside your NixOS or nix-darwin configuration. This also combines activation, meaning you don&#39;t have to touch the  home-manager command-line tool at all.\n  I wanted to have a section to talk about the (non-NixOS) installation methods mentioned in the official Nix manual, because they&#39;re a thing, but they&#39;re wonky. On macOS, you have to go through these to &#39;move up&#39; to nix-darwin, and I believe on other Linux distributions they may be the only supported method.\n One of these options is a single-user Nix install, which means there is no nix-daemon, and  /nix is owned not by  root but by a regular user. This is already recommended against by the manual itself, because Nix can&#39;t sandbox builds in this setup.\n The other option is a multi-user install, which runs  nix-daemon properly as root. The way the installer does this is a bit &#39;one-off&#39;, though, at least on macOS. Once installed, actually upgrading Nix itself becomes a very manual and confusing process.\n  There&#39;s a bunch of stuff I haven&#39;t touched here at all, like NixOps or remote builds. Mainly because I haven&#39;t used them myself yet at all, and I wonder if I ever will! But hopefully that also means this list is a more comfortable subset of things interesting to new users.\n What I personally found really powerful is using NixOS for individual servers with custom applications. I was never able to figure out packaging on Debian, but NixOS packaging is comparatively  easy, despite the language learning curve. Bypassing packaging on Debian always meant I was left wondering: &#34;How do I restart my service automatically if unattended upgrades roll out a new version of an important dependency, like OpenSSL or Node.js?&#34; Also, the systemd integration in NixOS is  amazing, and makes custom chroots a breeze.\n I think the biggest hurdle to Nix for me was really the macOS installation process. Maybe the same problem exists trying out Nix on other Linux distributions? I feel like a great first-time experience outside of NixOS may really help build more interest.\n Specifically, I think  nix-darwin should have a combined installer, and the stand-alone install methods should be written off as &#39;advanced&#39;.\n Another gripe I have is with per-user channel management. It&#39;s fine, but the default should be tailored to systems with just one user, because I feel like that&#39;ll be the majority of installations? Specifically, I moved the Nixpkgs channel to my own user on my Mac, instead of  root. Having to switch to  rootjust to upgrade Nix and Nixpkgs is  really annoying. Now, I don&#39;t  sudo at all, and only  darwin-rebuild switch ever asks for my password.\n Still, I sincerely hope none of this has turned you away from Nix, because I am hyped. As far as package and system management goes, it is futuristic. Time spent learning Nix is time spent well, in my opinion!", "posttime": "2020-06-03 02:40:11", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "nix,terminology", "title": "\u521d\u6765\u4e4d\u5230\u7684NIX\u672f\u8bed\u5165\u95e8\u8bfb\u7269", "title_en": "A Nix terminology primer by a newcomer", "transed": 1, "url": "https://stephank.nl/p/2020-06-01-a-nix-primer-by-a-newcomer.html", "via": "", "real_tags": ["nix"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1004879, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "AWK\u5904\u7406\u6d77\u91cf\u6570\u636e\uff1b\u9ad8\u6027\u80fd\u8ba1\u7b97(HPC)\u811a\u672c\u540c\u65f6\u8c03\u7528AWK\u3002\u5728\u52a0\u8102\u673a\u4e0a\u63d0\u4f9b\u5feb\u901f\u4e14\u53ef\u6269\u5c55\u7684\u5185\u5b58\u89e3\u51b3\u65b9\u6848\u3002\n\u5411\u7ec4\u7ec7\u5728\u5de5\u4f5c\u4e2d\u7684\u6570\u636e\u6311\u6218\u5c55\u793a\u6211\u57282018\u5e74\u5f00\u53d1\u7684\u89e3\u51b3\u65b9\u6848\u3002\u6211\u89e3\u51b3\u4e86\u75315\u4e2a\u95ee\u9898\u7ec4\u6210\u7684\u79d1\u5b66\u51fa\u7248\u7269\u6316\u6398\u6311\u6218(\u7b2c4\u9898)\u3002\u6211\u4f7f\u7528\u7ecf\u5178\u7684Unix\u5de5\u5177\u548c\u73b0\u4ee3\u53ef\u4f38\u7f29\u7684HPC\u811a\u672c\u5de5\u5177\u6765\u5236\u5b9a\u89e3\u51b3\u65b9\u6848\u3002\u8be5\u9879\u76ee\u6258\u7ba1\u5728GitHub\u4e0a\u3002\u5927\u7ea6\u670912\u652f\u961f\u4f0d\u53c2\u52a0\u4e86\u6bd4\u8d5b\u3002\n\u963f\u8d21\u56fd\u5bb6\u5b9e\u9a8c\u5ba4\u5f00\u53d1\u7684\u540d\u4e3aSWIFT(\u4e0d\u662fApple SWIFT)\u7684HPC\u811a\u672c\u5de5\u5177\u7528\u4e8e\u5728\u6570\u636e\u96c6\u4e0a\u5e76\u53d1\u8fd0\u884cAwk\u7a0b\u5e8f\uff0c\u4ece\u800c\u4ece\u6839\u672c\u4e0a\u63d0\u9ad8\u6027\u80fd\u3002SWIFT\u4f7f\u7528\u57fa\u4e8eMPI\u7684\u901a\u4fe1\u6765\u5e76\u884c\u548c\u540c\u6b65\u72ec\u7acb\u7684\u4efb\u52a1\u3002\n\u8fd8\u4f7f\u7528\u4e86\u5176\u4ed6Unix\u5de5\u5177\uff0c\u5982SORT\u3001grep\u3001tr\u3001sed\u548cbash\u3002\u6b64\u5916\uff0c\u8fd8\u4f7f\u7528\u4e86jq\u3001d3\u3001dot/raphviz\u548cffmpeg\u3002\n\u5e78\u8fd0\u7684\u662f\uff0c\u6211\u53ef\u4ee5\u4f7f\u7528512\u6838Intel Xeon(2.5 GHz)CPU\u7684\u5927\u5185\u5b58(24T)SGI\u7cfb\u7edf\u3002\u6240\u6709IO\u90fd\u4e0e\u5185\u5b58(/dev/shm)\u7ed1\u5b9a\uff0c\u5373\u3002\u4ece/dev/shm\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u5199\u5165/dev/shm\u3002\nAWK\u662f\u8f7b\u91cf\u7ea7\u7684\u3001\u7b80\u6d01\u7684\u3001\u5bcc\u6709\u8868\u73b0\u529b\u7684\u548c\u5feb\u901f\u7684-\u7279\u522b\u662f\u5bf9\u4e8e\u6587\u672c\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u3002\u6709\u4e9b\u4eba\u89c9\u5f97Awk\u7a0b\u5e8f\u7b80\u6d01\u660e\u4e86\uff0c\u5f88\u96be\u8bfb\u61c2\u3002\u6211\u5fc5\u987b\u6ce8\u610f\u4f7f\u4ee3\u7801\u53ef\u8bfb\u3002\u6211\u60f3\u770b\u770b\u6211\u548cAwk\u80fd\u8d70\u591a\u8fdc(\u5929\u54ea\uff0c\u6211\u771f\u7684\u8d70\u4e86\u5f88\u8fdc\uff01)\u3002\u66ff\u4ee3\u5de5\u5177\uff0c\u5982\u73b0\u4ee3Python\u5e93\uff0c\u6709\u65f6\u4f1a\u6709\u53ef\u4f38\u7f29\u6027\u9650\u5236\u548c\u53ef\u79fb\u690d\u6027\u95ee\u9898\u3002\u6709\u4e9b\u4eba\u8fd8\u5728\u72b9\u8c6b\u3002\u4e4b\u6240\u4ee5\u4f7f\u7528SWIFT\uff0c\u53ea\u662f\u56e0\u4e3a\u6211\u719f\u6089\u5b83\uff0c\u5e76\u4e14\u76f8\u4fe1\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b83\u4f1a\u5f88\u597d\u5730\u6269\u5c55\u3002\n\u539f\u59cb\u6570\u636e\u5206\u6210\u4e24\u7ec4(amine\u548cmag)\uff0c\u6bcf\u7ec4322\u4e2ajson\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5305\u542b\u4e00\u767e\u4e07\u6761\u8bb0\u5f55\u3002\u6709\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a\u96c6\u5408\u4e2d\u51fa\u73b0\u7684\u516c\u5171\u8bb0\u5f55\u5217\u8868\u7684\u6587\u4ef6\u53ef\u7528\u3002awk\u811a\u672c(src/filterdup.awk)\u7528\u4e8e\u4eceamineDataSet\u4e2d\u6392\u9664\u8fd9\u4e9b\u91cd\u590d\u8bb0\u5f55\u3002\u7ed3\u679c\uff0c\u5b83\u4ea7\u751f\u4e86\u5927\u7ea62.56\u4ebf\u6761(\u51c6\u786e\u5730\u8bf4\u662f256,382,605\u6761)\u9700\u8981\u5904\u7406\u7684\u552f\u4e00\u8bb0\u5f55\u3002\u603b\u6570\u636e\u5927\u5c0f\u4e3a329 GB\u3002\u6570\u636e\u4e2d\u7684\u67d0\u4e9b\u5b57\u6bb5\u4e3a\u7a7a\u3002\u5728\u76f8\u5173\u7684\u5730\u65b9\uff0c\u8fd9\u4e9b\u8bb0\u5f55\u88ab\u907f\u514d\u3002\u6b64\u5916\uff0c\u4e0e\u975e\u82f1\u6587\u51fa\u7248\u7269\u6709\u5173\u7684\u8bb0\u5f55\u5728\u9700\u8981\u65f6\u4e5f\u88ab\u907f\u514d\u3002\u8868\u683c\u6570\u636e\u7684\u5feb\u7167\u53ef\u7528\u3002\u9009\u62e9\u5b57\u7b26\u4e32qwqw\u4f5c\u4e3a\u5217\u5206\u9694\u7b26\uff0c\u4ee5\u5c06\u5176\u4e0e\u6570\u636e\u4e2d\u5df2\u627e\u5230\u7684\u6587\u672c\u533a\u5206\u5f00\u6765\u3002\u6240\u6709\u5176\u4ed63\u4e2a\u6216\u66f4\u5c11\u7684\u5b57\u7b26\u7ec4\u5408\u5df2\u5b58\u5728\u4e8e\u7981\u6b62\u5c06\u5176\u7528\u4f5c\u5206\u9694\u7b26\u7684\u6570\u636e\u4e2d\u3002\n#\uff01/usr/bin/env awk-f#$1 Magid#$2 amineid#\u6839\u636e\u94fe\u63a5\u5173\u7cfbBEGIN{FS=ofs=&#34\uff1bqwqw&#34\uff1b}nr==fnr{a[$2]=$1}\uff01(a\u4e2d\u7684$1)&amp\uff1b&amp\uff1b\u6587\u4ef6\u540d~/amier/{print}\nnr==fnr\u662f\u4e00\u4e2a\u5f88\u9177\u7684Awk\u4e60\u60ef\u7528\u6cd5\uff0c\u5b83\u786e\u4fdd\u53ea\u6709\u7b2c\u4e00\u4e2a\u6587\u4ef6\u7684\u6761\u4ef6\u4e3a\u771f\u3002\u8fd9\u662f\u56e0\u4e3a\u5bf9\u4e8e\u5904\u7406\u7684\u6bcf\u4e2a\u6587\u4ef6\uff0cFNR(\u6587\u4ef6\u8bb0\u5f55\u53f7)\u4f1a\u88ab\u91cd\u7f6e\uff0c\u4f46NR\u4e0d\u4f1a\u3002\u8fd9\u610f\u5473\u7740\u6761\u4ef6NR==FNR\u4ec5\u5bf9\u7b2c\u4e00\u4e2a\u6587\u4ef6\u4ea7\u751fTRUE\u3002\njq\u7528\u4e8e\u5c06json\u6570\u636e\u8f6c\u6362\u4e3a\u8868\u683c\u683c\u5f0f(src/json2tabular.sh)\u3002\u8f6c\u6362\u540e\u7684\u8868\u683c\u6587\u4ef6\u670919\u4e2a\u539f\u59cb\u5217(id\u3001\u6807\u9898\u3001\u4f5c\u8005\u3001\u5e74\u4efd\u3001\u5f15\u6587\u7b49)\u548c\u4e00\u4e2a\u540d\u4e3anum_Authors\u7684\u9644\u52a0\u5217\uff0c\u8be5\u5217\u663e\u793a\u4e86\u4e00\u4e2a\u51fa\u7248\u7269\u8bb0\u5f55\u7684\u4f5c\u8005\u6570\u91cf\u3002Authors\u5217\u5177\u6709\u5206\u53f7\u5206\u9694\u7b26\u516c\u5f0fAuthors\u3002\u8868\u683c\u6570\u636e\u7684\u8fdb\u4e00\u6b65\u7cbe\u9009\u662f\u901a\u8fc7\u4f7f\u7528sed\u5220\u9664\u65e0\u5173\u7684\u7a7a\u683c\u3001\u65b9\u62ec\u53f7\u3001\u8f6c\u4e49\u5b57\u7b26\u548c\u5f15\u53f7\u6765\u5b9e\u73b0\u7684\u3002\n\u83b7\u5f97\u7684\u4e00\u4e9b\u7ed3\u679c\u88ab\u540e\u5904\u7406\uff0c\u4ee5\u4fbf\u4f7f\u7528D3\u56fe\u5f62\u6846\u67b6\u8fdb\u884c\u53ef\u89c6\u5316\u3002ffmpeg\u7528\u4e8e\u7f1d\u5408\u6d41\u884c\u672f\u8bed\u7684\u56fe\u50cf\u4ee5\u521b\u5efa\u52a8\u753b\u3002\u4f7f\u7528Dot/Graphviz\u6784\u5efa\u6700\u597d\u7684\u8bba\u6587\u7684\u6d77\u91cf\u57ce\u5e02\u7f51\u7edc\u56fe\u3002\n\u6bcf\u4e2a\u89e3\u51b3\u65b9\u6848\u90fd\u4f7f\u7528SWIFT\u5bf9322\u4e2aCPU\u6838\u5fc3\u4e0a\u7684322\u4e2a\u6570\u636e\u6587\u4ef6\u540c\u65f6\u8fd0\u884cAWK\u4ee3\u7801\u3002\u8fd9\u5bfc\u81f4\u5927\u89c4\u6a21\u52a0\u901f\u3002\u6240\u6709\u7684\u89e3\u51b3\u65b9\u6848\u90fd\u6ca1\u6709\u8d85\u8fc7\u4e00\u4e2a\u5c0f\u65f6\u7684\u8fd0\u884c\u65f6\u95f4--\u5927\u591a\u6570\u90fd\u4e0d\u5230\u4e00\u5206\u949f\u3002\n\u786e\u5b9a\u4f3c\u4e4e\u662f\u7279\u5b9a\u9886\u57df\u6216\u5b50\u9886\u57df\u7684\u4e13\u5bb6\u7684\u4e2a\u4eba\u6216\u4e2a\u4eba\u7ec4\u3002\n\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u89e3\u51b3\u3002\u7b2c\u4e00\u79cd\u65b9\u6cd5\u8bc6\u522b\u7ed9\u5b9a\u641c\u7d22\u4e3b\u9898(Results/Meditation_Highly_cited.txt)\u7684\u5f15\u6587\u91cf\u9ad8\u4e8e500\u7684\u6240\u6709\u6761\u76ee\u3002\n#\uff01/usr/bin/env awk-fBEGIN{#\u5b57\u6bb5\u5206\u9694\u7b26FS=&#34\uff1bqwqw&#34\uff1b#\u8f93\u51fa\u5b57\u6bb5\u5206\u9694\u7b26ofs=&#34\uff1b\\t&#34\uff1bIGNORECASE=1#\u53ef\u8bfb\u6027\u5b57\u6bb5\u540d\u79f0id=1\uff1btitle=2\uff1bnum_Authors=3\uff1bDOI=4\uff1bFOS_ISBN=5\uff1bdoctype_issn=6\uff1blang=7\uff1bn_citing=8\uff1bIssue=9\u3002Publisher_pdf=16\uff1b\u53c2\u8003=17\uff1b\u5173\u952e\u5b57=18\uff1b\u6458\u8981=19\uff1b\u4f5c\u8005=20\uff1b}($0~Theme&amp\uff1b&amp\uff1b$num_Authors&gt\uff1b0&amp\uff1b&amp\uff1b$n_citing\uff01~/null/&amp\uff1b&amp\uff1b$n_citing&gt\uff1b500){print$n_citing\uff0c$title\uff0c$Authors\uff0c$Year}#\u5982\u4f55\u8fd0\u884c\uff1a#awk-v Theme=\u51a5\u60f3-f src/pro1_p.\u3002\n\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u67e5\u627e\u59d3\u540d\u91cd\u590d\u4f2a\u9020\u4e3b\u9898\u7684\u4f5c\u8005\u59d3\u540d\uff0c\u6bcf\u4e2a\u6761\u76ee\u4e2d\u81f3\u5c11\u6709\u4e00\u5b9a\u6570\u91cf\u7684\u5f15\u7528\u3002\u8fd9\u7ed9\u51fa\u4e86\u4e00\u4e2a\u5408\u7406\u7684\u60f3\u6cd5\uff0c\u8c01\u662f\u7ed9\u5b9a\u7814\u7a76\u9886\u57df\u7684\u4e13\u5bb6\u4eba\u7269\u3002Results/Cancer_Research_topauths.txt\u4e2d\u7684\u4e00\u4e2a\u8fd9\u6837\u7684\u7ed3\u679c\u663e\u793a\u4e86\u4f5c\u8005\u5728\u591a\u4e2a\u51fa\u7248\u7269\u4e2d\u8fdb\u884c\u7684\u764c\u75c7\u7814\u7a76\uff0c\u81f3\u5c11\u67091,000\u6b21\u5f15\u7528\u3002\n#\uff01/usr/bin/env awk-fBEGIN{#\u5b57\u6bb5\u5206\u9694\u7b26FS=&#34\uff1bqwqw&#34\uff1bOFS=&#34\uff1b\\t&#34\uff1bIGNORECASE=1#\u5b57\u6bb5\u540d\u79f0id=1\uff1b\u6807\u9898=2\uff1bnum_Authors=3\uff1bDOI=4\uff1bFOS_ISBN=5\uff1bdoctype_ISSN=6\uff1blang=7\uff1bn_citing=8\uff1bIssue=9\uff1burl=10\uff1bVolume=11\u3002\u5173\u952e\u5b57=18\uff1b\u6458\u8981=19\uff1b\u4f5c\u8005=20\uff1b}($0~TOPIC&amp\uff1b&amp\uff1b$Num_Authors&gt\uff1b0&amp\uff1b&amp\uff1b$n_citing\uff01~/null/&amp\uff1b&amp\uff1b$n_citing&gt\uff1b1000){#\u67e5\u627e\u7279\u5b9a\u4e3b\u9898\u59d3\u540d\u91cd\u590d\u7684\u4f5c\u8005\u3002#\u8fd9\u4e9b\u4f5c\u8005\u5c06\u88ab\u89c6\u4e3a\u4e13\u5bb6\u3002Gsub(&#34\uff1b\\&#34\uff1b&#34\uff1b\uff0c&#34\uff1b\uff0c$Authors)Split($Authors\uff0ca\uff0c&#34\uff1b\uff1b&#34\uff1b)(I In A){Split(a[i]\uff0cb\uff0c&#34\uff1b\uff0c&#34\uff1b)#auths\u6570\u7ec4\u5c06\u6709\u5173\u952e\u5b57\u4f5c\u4e3a\u8eab\u4efd\u9a8c\u8bc1\u540d\u79f0\uff0c\u5982\u679c\u5173\u952e\u5b57\u91cd\u590dif(b[1]\uff01~/null/)auths[b[1]]++}}end{for(K In Auths)if(auths[k]&gt\uff1b1)print auths[k]\uff0ck}#How to run\uff1a#awk-v title=Cancer-f src/pro1_p2.awk data/mag_Papers_sample.allcols.txt\u3002\n\u65c1\u8fb9\u662f\u8fd9\u4e2a\u56fe\u8868\u4e2d\u88ab\u5f15\u7528\u6700\u591a\u7684\u8bba\u6587\u7684\u5f15\u6587\u7f51\u7edc\u56fe(\u592a\u5927\u4e86\uff0c\u8fd9\u91cc\u653e\u4e0d\u4e0b)\u3002\u67e5\u8be2\u9608\u503c\u4e3a20,000\u7684\u6700\u591a\u88ab\u5f15\u7528\u8bba\u6587\u7684\u5386\u53f2\u5217\u8868\u7684\u7ed3\u679c\u5728Results/top_Paps.txt\u4e2d\u3002\n\u8fd9\u662f\u901a\u8fc7\u8bc6\u522b\u96c6\u5408\u4e2d\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u7684\u5355\u8bcd\u6765\u89e3\u51b3\u7684\u3002\u5206\u6790\u4e86\u6807\u9898\u3001\u6458\u8981\u548c\u5173\u952e\u5b57\uff0c\u627e\u5230\u4e86\u6574\u4e2a\u96c6\u5408\u4e2d\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u76841000\u4e2a\u5355\u8bcd\u3002\u4ece\u7ed3\u679c\u4e2d\u8fc7\u6ee4\u4e86\u51e0\u4e2a\u5e38\u7528\u8bcd(\u4e5f\u79f0\u4e3a\u505c\u7528\u8bcd)\u3002\u57282300\u4e07\u4eba\u4ee5\u4e0a\uff0c\u201c\u75c5\u4eba\u201d\u4e00\u8bcd\u51fa\u73b0\u7684\u9891\u7387\u6700\u9ad8\u3002\u524d1,000\u4e2a\u5355\u8bcd\u7684\u5b8c\u6574\u5217\u8868\u53ef\u5728/Results/top_1K_word_kw_abs_title.txt\u4e2d\u627e\u5230\u3002\u51fa\u7248\u7269\u7684\u76ee\u6807\u96c6\u5408\u53ef\u4ee5\u7f29\u5c0f\u5230\u8bf8\u5982\u5e74\u4efd\u8303\u56f4\u4e4b\u7c7b\u7684\u6807\u51c6\u3002\n#\uff01/usr/bin/env awk-f#\u95ee\u9898\u9648\u8ff0#\u786e\u5b9a\u6240\u6709\u51fa\u7248\u7269\u7814\u7a76\u8fc7\u7684\u4e3b\u9898\u3002#\u89e3\u51b3\u65b9\u6848\uff1a#\u6b65\u9aa41\u3002\u8fc7\u6ee4\u5bf9\u82f1\u8bed\u8bb0\u5f55#Step2\u7684\u8f93\u5165\u3002\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u5185\u5bb9\uff0c\u5982\u6807\u70b9\u7b26\u53f7\u3001#\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\u548c\u5c0f\u5355\u8bcd\uff0c\u5982#1\u4e2a\u5b57\u6bcd\u548c2\u4e2a\u5b57\u6bcd\u5355\u8bcd#step3\u3002\u6458\u5f55\u5173\u952e\u8bcd\u3001\u6807\u9898\u548c\u6458\u8981\u4e2d\u4f7f\u7528\u7684\u8bcd\u8bed#\u6b65\u9aa44\u3002\u67e5\u627e\u6700\u5e38\u7528\u7684\u5355\u8bcdBEGIN{FS=&#34\uff1bqwqw&#34\uff1bIGNORECASE=1#\u5b57\u6bb5\u540did=1\uff1btitle=2\uff1bnum_Authors=3\uff1bDOI=4\uff1bFOS_ISBN=5\uff1bdoctype_ISSN=6\uff1blang=7\uff1bn_citing=8\uff1bIssue=9\uff1burl=10\uff1bvolume=11\uff1bpage_start=12\uff1bpage_end=13\uff1byear=14\uff1bVenue=15\uff1bPublisher_pdf=16\u3002}#Collect Stop WordsNR==fnr{x[$1]\uff1bNext}$lang~/en/&amp\uff1b&amp\uff1b($\u5173\u952e\u5b57\uff01~/null/||$\u62bd\u8c61\uff01~/null/){#Treat Titles$title=tolower($title\uff0ca\uff0c&34\uff1b&#34\uff1b)for(I In A)if(length(a[i])&amp\uff1b2&amp\uff1b)for(I In A)if(length(a[i])&amp\uff1b2&amp\uff1b)for(I In A)if(Length(a[i])&amp\uff1b2&/amp\uff1b\u5339\u914d(a[i]\uff0c/[a-z]/)&amp\uff1b&amp\uff1ba[i]in x==0)kw[a[i]]++#\u5bf9\u5f85\u5173\u952e\u5b57$KEYWORKS=tolower($KEYOYS)Split($KEYWORKS\uff0cb\uff0cb\uff0c&34\uff1b\uff0c&#34\uff1b)for(I In B)if(Length(b[i])&gt\uff1b2&amp\uff1b&amp\uff1bMatch(b[i]\uff0c/[a-z]/)&amp\uff1b&amp\uff1bb[i]in x==0)kw[b[i]++#\u5bf9\u5f85\u6458\u8981(\u8ba1\u7b97\u5f00\u9500\u5f88\u5927\uff0c\u7ed3\u679c\u5728\uff1a#top_1000_words_from_kw_abstract_title_by_freq.txt)$ACTRICAL=tolower($ASTRAGE)gsub(&#34\uff1b\\&#34\uff1b&#34\uff1b\uff0c&#34\uff1b\uff0c$ASTAL)gsub(&#34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b\uff0c$ASTAL)Split($ASTERAL\uff0cc\uff0c&#34\uff1b\uff1b&#34\uff1b)for(I In C)if(length(c[i])&gt\uff1b2&amp\uff1b&amp\uff1bMatch(c[i]\uff0c/[a-z]/)&amp\uff1b&amp\uff1bc[i]in x==0)kw[c[i]]++}end{for(K In Kw){if(kw[k]&gt\uff1b1000)\u6253\u5370kw[k]\uff0ck}}#\u5982\u4f55\u8fd0\u884c\uff1alc_all=C awk-f pro2.awk stop_words.txt\\../miner_Papers_allols_excl/amer_Papers_*.allcols.excl.txt\\../mag_Papers_allols/mag_Papers_*.allcols.txt\\|sorte-nr&gt\uff1bfreq.txt\u3002\n\u5bfc\u5165\u6587\u4ef6\uff1b\u5bfc\u5165Unix\uff1b/*app\u5b9a\u4e49\u6211\u4eec\u8981\u8fd0\u884c\u7684\u5185\u5bb9\u3001\u8f93\u5165\u53c2\u6570\u3001stdout\u5e94\u8be5\u653e\u5230\u7684\u4f4d\u7f6e\u7b49\u3002*/app(File Out)myawk(FILE BUCKPRG\uff0cFILE STOP_WORD\uff0cFILE INFILE){&#34\uff1b/usr/bin/awk&#34\uff1b&#34\uff1b-f&#34\uff1bjauprog stop_word infile@stdout=out}/*\u586b\u5145\u8f93\u5165\u6570\u636e*/file miner[]=glob(&#34\uff1b/dev/shm/miner_mag_Papers/*.txt&#34\uff1b)\uff1b/*\u6b64\u5904\u5c06\u6536\u96c6\u6bcf\u4e2a\u8c03\u7528\u7684\u8f93\u51fa*/file outfiles[]\uff1bforeach v\uff0ci in miner{outfiles[i]=myawk(input(&#34\uff1b/home/km0/SMC18/src/pro2.awk&#34\uff1b)\uff0cinput(&#34\uff1b/home/km0/smc18/data/stop_words.tx\uff1b)\uff0cinput(&#34\uff1b/home/km0/smc18/data/stop_words.tx.)\uff0cinput(&#34\uff1b/home/km0/smc18/data/stop_words.tx.)\u3002}/*\u5c06\u6240\u6709\u8f93\u51fa\u5408\u5e76\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d*/FILE JOINED&lt\uff1b&#34\uff1bjoined.txt&#34\uff1b&gt\uff1b=cat(Outfiles)\uff1b/*\u8fd0\u884c\u6b64\u5feb\u901f\u5e94\u7528\u540e\uff1aawk&#39\uff1b{a[$2]+=$1}end{for(K In A)print a[k]\uff0ck}&#39\uff1bjoined.txt|ort-nr&gt\uff1bfreq.txt*/\u3002\n\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bc6\u522b\u5176\u4e2d\u5305\u542b\u641c\u7d22\u4e3b\u9898\u7684\u8bb0\u5f55\u7684\u4f5c\u8005\u4ece\u5c5e\u5173\u7cfb\u6765\u89e3\u51b3\u3002\u5728\u57ce\u5e02\u3001\u5927\u5b66\u548c\u56fd\u5bb6\u8fd9\u4e09\u4e2a\u6570\u636e\u5e93\u4e2d\u641c\u7d22\u4ece\u5c5e\u5173\u7cfb\uff0c\u4ee5\u627e\u51fa\u8be5\u7814\u7a76\u7684\u5730\u7406\u4f4d\u7f6e\u3002\u5c06\u7ed3\u679c\u6c47\u603b\u5230\u5370\u5237\u673a\n\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e09\u79cd\u622a\u7136\u4e0d\u540c\u7684\u65b9\u5f0f\u89e3\u51b3\u3002\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u5904\u7406\uff0c\u4ee5\u627e\u51fa\u4efb\u4f55\u7ed9\u5b9a\u7684\u4e24\u4e2a\u4e3b\u9898\u6bcf\u5e74\u4e00\u8d77\u51fa\u73b0\u7684\u60c5\u51b5\u3002\u5b83\u4f1a\u751f\u6210\u4e00\u4efd\u5e74\u4efd\u5217\u8868\uff0c\u5e76\u5217\u51fa\u8fd9\u4e24\u4e2a\u4e3b\u9898\u5728\u8be5\u5e74\u7684\u5355\u4e2a\u51fa\u7248\u7269\u4e2d\u51fa\u73b0\u7684\u6b21\u6570\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u7684\u56fe\u8868\u663e\u793a\u4e86\u591a\u5e74\u6765\u201c\u80a5\u80d6\u201d\u548c\u201c\u7cd6\u201d\u8fd9\u4e24\u4e2a\u672f\u8bed\u5728\u51fa\u7248\u7269\u4e2d\u662f\u5982\u4f55\u7ed3\u5408\u5728\u4e00\u8d77\u7684\u3002\n#\uff01/usr/bin/env awk-f#\u95ee\u9898\u9648\u8ff0#\u786e\u5b9a\u4e3b\u9898\u5982\u4f55\u968f\u65f6\u95f4\u53d8\u5316\u3002#\u4e0b\u9762\u7684\u89e3\u51b3\u65b9\u68481\u5c06\u641c\u7d22\u63d0\u5230\u7684\u4efb\u610f\u4e24\u4e2a\u4e3b\u9898#\u5e76\u663e\u793a\u8fd9\u4e24\u4e2a\u4e3b\u9898\u6309\u5e74\u51fa\u73b0\u7684\u6b21\u6570BEGIN{#Field Separator FS=&#34\uff1bqwqw&#34\uff1bIGNORECASE=1#Field Names id=1\uff1bTitle=2\uff1bNum_Authors=3\uff1bDOI=4\uff1bFOS_ISBN=5\uff1bdoctype_ISSN=6\uff1blang=7\uff1bn_citing=8\uff1bIssue=9\uff1burl=10\uff1bVolume=11\u3002\u5173\u952e\u8bcd=18\uff1b\u6458\u8981=19\uff1b\u4f5c\u8005=20\uff1b}$lang~/en/&amp\uff1b&amp\uff1b$0~topic1&amp\uff1b&amp\uff1b$0~topic1&amp\uff1b&amp\uff1b$0~topic2{a[$Year]++}end{n=asorti(a\uff0cb)printf(&#34\uff1b\u4e3b\u9898\u8d8b\u52bf\uff1a%s\uff0c%s\\n&34\uff1b\uff0ctopic1\uff0ctopic2)(i=1\uff1bi&lt\u3002%d\uff1a-%d\\n&#34\uff1b\uff0cb[i]\uff0ca[b[i]])}#\u6309\u5982\u4e0b\u65b9\u5f0f\u8fd0\u884c\uff1a#awk-v topic1=\u80a5\u80d6-v topic2=\u7cd6-f\u4ee3\u7801/pro4.awk miner_mag_Papers/*.txt\u3002\n\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u627e\u5230\u6bcf\u5e74\u5f71\u54cd\u6700\u5927\u7684\u8bba\u6587\uff0c\u5e76\u63d0\u53d6\u8fd9\u4e9b\u8bba\u6587\u4e2d\u7684\u5173\u952e\u8bcd\u3002\u5f71\u54cd\u662f\u6839\u636e\u90a3\u4e00\u5e74\u88ab\u5f15\u7528\u6700\u591a\u7684\u8bba\u6587\u8ba1\u7b97\u51fa\u6765\u7684\u3002\u6b64\u4efb\u52a1\u7684\u7ed3\u679c\u4ee5\u5e74\u4efd\u3001\u5173\u952e\u5b57\u3001\u5f15\u7528\u4e09\u5143\u7ec4\u7684\u5f62\u5f0f\u5b58\u50a8\u5728Results/Year_Trending_keywords.txt\u4e2d\u3002\n#\uff01/usr/bin/env awk-f#\u95ee\u9898\u9648\u8ff0#\u786e\u5b9a\u4e3b\u9898\u5982\u4f55\u968f\u65f6\u95f4\u53d8\u5316\u3002#\u89e3\u51b3\u65b9\u68482\u662f\u6839\u636eBEGIN{FS=OFS=&#34\uff1bqwqw&#34\uff1bIGNORECASE=1#\u5b57\u6bb5\u540d\u79f0id=1\uff1b\u6807\u9898=2\uff1bnum_Authors=3\uff1bDOI=4\uff1bFOS_ISBN=5\uff1bdoctype_issn=6\uff1blang=7\uff1bn_citing=8\uff1bIssue=9\uff1burl=10\uff1bVolume=11\uff1bpage_start=8\u627e\u51fa\u88ab\u5f15\u7528\u6b21\u6570\u6700\u9ad8\u7684\u8bba\u6587#\u5e74\uff0c\u5e76\u8ba1\u7b97\u51fa\u8be5\u8bba\u6587\u6240\u57fa\u4e8e\u7684\u4e3b\u9898{FS=ofs=&#34\uff1bqwqw&#34\uff1bIGNORECASE=1#Field Names=1\uff1bTitle=2\uff1bnum_Authors=3\uff1bDOI=4\u3002\u6458\u8981=19\uff1b\u4f5c\u8005=20\uff1b}$lang~/en/&amp\uff1b&amp\uff1b$Year\uff01~/NULL/&amp\uff1b&amp\uff1b$Year&lt\uff1b2020&amp\uff1b&amp\uff1b$KEYENTS\uff01~/NULL/&amp\uff1b&amp\uff1b$n_CITION\uff01~/NULL/&amp\uff1b&amp\uff1bMAX[$Year]{MAX[$Year]=$n_CITIONS\uff1ba[$Year]=$KEYOYES}end{n=asorti\u3002i++)\u901a\u8fc7SWIFT\u5e76\u884c\u8fd0\u884c\u6253\u5370b[i]\uff0ca[b[i]]\uff0cmax[b[i]]}#\u3002\u5982\u679c\u662f\u4e32\u884c\u7684\uff0c\u8bf7\u6309\u5982\u4e0b\u65b9\u5f0f\u8fd0\u884c\uff1a#awk-f code/pro4_p2.awk miner_mag_Papers/*.txt&gt\uff1bYear Way_Trending_keywords.txt\u3002\n\u7b2c\u4e09\u79cd\u65b9\u6cd5\u627e\u51fa\u6bcf\u5e74\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u768410\u4e2a\u672f\u8bed\uff0c\u4ee5\u627e\u51fa\u8fd9\u4e9b\u5e74\u6765\u8fd9\u4e9b\u8bdd\u9898\u662f\u5982\u4f55\u6d41\u884c\u548c\u8fc7\u65f6\u7684\u3002\u6b64\u5904\u662f\u4e00\u6bb5MKV\u52a8\u753b\u89c6\u9891\uff0c\u663e\u793a\u4e861800\u81f32017\u5e74\u95f4\u5355\u8bcd\u7684\u6ce1\u6cab\u56fe\u3002\u6240\u6709\u5355\u8bcd\u7684\u6587\u4ef6\u5217\u8868\u53ef\u5728Results/Trending_Words_by_Year\u4e2d\u627e\u5230\u30022002\u5e74\u7684\u70ed\u95e8\u8bcd\u6c47\u6ce1\u6cab\u5316\u622a\u56fe\u5982\u4e0b\u6240\u793a\uff1a\n#\uff01/usr/bin/env awk-f#\u67e5\u627e\u6bcf\u5e74\u6700\u70ed\u95e8\u768410\u4e2a\u4e3b\u9898\uff0c\u770b\u770b\u5b83\u4eec\u5728\u8d8b\u52bf\u4e2d\u5982\u4f55\u51fa\u73b0/\u6d88\u5931#\u6211\u4eec\u901a\u8fc7\u5c06\u5173\u952e\u5b57\u3001\u6807\u9898\u548c\u6458\u8981\u5199\u5165\u4ee5\u5b83\u4eec\u51fa\u73b0\u7684\u5e74\u4efd\u547d\u540d\u7684\u6587\u4ef6\u5e76\u5bf9\u8fd9\u4e9b\u6587\u4ef6\u8fdb\u884c\u540e\u5904\u7406\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9BEGIN{FS=&#34\uff1bqwqw&#34\uff1bIGNORECASE=1#\u5b57\u6bb5\u540d\u79f0id=1\uff1btitle=2\uff1bnum_Authors=3\uff1bDOI=4\uff1bFOS_ISBN=5\uff1bpage_start=12\uff1bpage_end=13\uff1b\u5e74\u4efd=14\uff1b\u5730\u70b9=15\uff1bPublisher_pdf=16\uff1b\u53c2\u8003=17\uff1b\u5173\u952e\u5b57=18\uff1b\u6458\u8981=19\uff1b\u4f5c\u8005=20\uff1b}#\u6536\u96c6\u505c\u7528\u8bcdNR==fnr{x[$1]\uff1bNext}$lang~/en/&amp\uff1b&amp\uff1b$n_citing&gt\uff1b0&amp\uff1b&amp\uff1b$Year=yr&amp\uff1b&amp\uff1b$\u5173\u952e\u5b57\uff01~/null/{#\u5c06\u6807\u9898\u3001\u5173\u952e\u5b57\u548c\u6458\u8981\u5199\u5165\u6309\u51fa\u73b0\u5e74\u4efd\u547d\u540d\u7684\u6587\u4ef6#\u5bf9\u5f85\u6807\u9898$TITLE=tolower($TITLE\uff0ca\uff0ca\uff0c&#34\uff1b&#34\uff1b)for(I In A)if(length(a[i])&gt\uff1b2&amp\uff1bMatch(a[i]\uff0c/[a-z]/)&amp\uff1b&amp\uff1b)(I In A)if(length(a[i])&gt\uff1b2&amp\uff1bMatch(a[i]\uff0c/[a-z]/)&amp\uff1b&amp\uff1ba[i]in x==0)\u5982\u679c(I In B)if(Length(b[i])&gt\uff1b2&amp\uff1b&amp\uff1bMatch(b[i])&amp\uff1b&amp\uff1b\u5339\u914d(b[i]\uff0c/[a-z]/)&amp\uff1b&amp\uff1b\uff0c\u6253\u5370(i]in x==0)\u7684[i]#Treat Keypes$Keyons=tolower($Keyons)gsub(&#34\uff1b\\&#34\uff1b&#34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b\uff0c$Keyons)Split($Keyons\uff0cb\uff0c&34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b)\u3002b[i]in x==0)\u4e3a(I In C)\u6253\u5370b[i]#Treat Abstral$Abstra=tolower($Summary)gsub(&#34\uff1b\\&#34\uff1b&#34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b\uff0c&#34\uff1b\uff0c$Summary)\u62c6\u5206($Summary\uff0cc\uff0c&#34\uff1b&#34\uff1b)if(Length(c[i])&gt\uff1b2&amp\u3002Match(c[i]\uff0c/[a-z]/)&amp\uff1b&amp\uff1bc[i]in x==0)\u6253\u5370c[i]}#\u8fdb\u884c\u4ee5\u4e0b\u540e\u5904\u7406\uff1a#for i in 18\uff1f\uff1f19\uff1f\uff1f20\uff1f\uff1f#do(grep-o-E&#39\uff1b\\w+&#39\uff1b$i|TR[A-Z][a-z]\\#|sed-e&#39\uff1bs/null//g&#39\uff1b-e&#39\uff1bs/^.$//g&#39\uff1b-e/^..$//g&#39\uff1b-e&#39\uff1bs/^[0-9]*$//g&#39\uff1b\\#|awk NF|fgrep-v-w-f stop_words.txt\\#|SORT|uniq-c|SORT-nr\\#|head-1\n\u8fd9\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u627e\u5230\u65b0\u63d0\u6848\u4e0a\u7684\u5173\u952e\u5b57\u3002\u5982\u679c\u8fd9\u4e9b\u5173\u952e\u5b57\u51fa\u73b0\u5728\u73b0\u6709\u53d1\u5e03\u8bb0\u5f55\u4e2d\uff0c\u5219\u5b83\u662f\u53ef\u7591\u7684\u3002\u53ef\u4ee5\u901a\u8fc7\u5173\u952e\u5b57\u4e4b\u95f4\u7684\u903b\u8f91OR\u627e\u5230\u5e7f\u6cdb\u7684\u5acc\u7591\u4eba\u5217\u8868\uff0c\u8fd9\u4e9b\u5173\u952e\u5b57\u53ef\u4ee5\u7528\u903b\u8f91AND\u7f29\u5c0f\u8303\u56f4\u3002\u5173\u952e\u5b57\u53ef\u4ee5\u5728OR\u548cAND\u4e2d\u4efb\u610f\u7ec4\u5408\u3002\u7ed3\u679c\u6587\u4ef6/Results/Suspects.txt\u663e\u793a\u4e861400\u591a\u540d\u6765\u81ea\u82f1\u6587\u62a5\u7eb8\u7684\u7591\u4f3c\u5173\u952e\u8bcd\u53ca\u5176\u7ec4\u5408\uff1a\u7535\u6c60\u3001\u7535\u5b50\u3001\u9502\u548c\u80fd\u6e90\u3002HPC\u5b9e\u65bd\u5c06\u572826\u79d2\u5185\u5b8c\u6210\u3002\u4e0b\u9762\u7684AWK\u4ee3\u7801\u3002\n#\uff01/usr/bin/env awk-f#\u95ee\u9898\u9648\u8ff0#\u7ed9\u51fa\u7814\u7a76\u5efa\u8bae\uff0c\u786e\u5b9a\u63d0\u8bae\u7684\u5de5\u4f5c\u4ee5\u524d\u662f\u5426#\u5df2\u5b8c\u6210\u3002#\u89e3\u51b3\u65b9\u6848\uff1a\u627e\u5230\u65b0\u63d0\u6848\u4e2d\u7684\u5173\u952e\u5b57\u3002#\u5982\u679c\u8fd9\u4e9b\u5173\u952e\u5b57\u51fa\u73b0\u5728\u73b0\u6709\u51fa\u7248\u7269\u8bb0\u5f55\u4e2d\uff0c\u5219\u4e3a\u53ef\u7591\u3002BEGIN{FS=&#34\uff1bqwqw&#34\uff1bIGNORECASE=1#\u5b57\u6bb5\u540did=1\uff1b\u6807\u9898=2\uff1bnum_Authors=3\uff1bDOI=4\uff1bFOS_ISBN=5\uff1bdoctype_ISSN=6\uff1blang=7\uff1bn_citing=8\uff1bIssue=9\uff1burl=10\uff1bvolume=11\uff1bpage_start=12\uff1bpage_end=13\uff1bYear\u3002}#topic1..\u3002topic4\u5728\u547d\u4ee4\u884c$0~topic1&amp\uff1b&amp\uff1b$0~topic2&amp\uff1b&amp\uff1b$0~topic3&amp\uff1b&amp\uff1b$0~topic4&amp\uff1b&amp\uff1b$lang~/en/&amp\uff1b&amp\uff1b$Authors\uff01~/null/{print$id\uff0c$title\uff0c$Authors\uff0c$Year}\u4e2d\u63d0\u4f9b\u3002\n\u6211\u5c55\u793a\u4e86\u5982\u4f55\u5229\u7528\u7ecf\u5178\u7684Unix\u5de5\u5177\u6765\u89e3\u51b3\u73b0\u4ee3\u95ee\u9898\uff0c\u6570\u767e\u4e07\u6761\u8bb0\u5f55\u53ef\u4ee5\u5728\u4e0d\u5230\u4e00\u5206\u949f\u7684\u65f6\u95f4\u5185\u5927\u89c4\u6a21\u5904\u7406\u3002\u5c31\u6570\u636e\u672c\u8eab\u800c\u8a00\uff0c\u4f3c\u4e4e\u751f\u7269\u79d1\u5b66\u7814\u7a76\u5728PU\u4e2d\u5360\u636e\u4e3b\u5bfc\u5730\u4f4d\u3002\n..", "note_en": "Awk crunches massive data; a High Performance Computing (HPC) script callshundreds of Awk concurrently. Fast and scalable in-memory solution on a fatmachine.\n  Presenting the solution I worked on in 2018, to a  DataChallenge organized atwork. I solve the Scientific Publications Mining challenge (no.4) that consistsof 5 problems. I use classic Unix tools with a modern scalable HPC scriptingtool to work out the solutions. The project is hosted on github. About 12 teams entered thecontest.\n    Argonne National Laboratory developed HPC scripting tool called Swift ( NOT the Apple Swift) is used to runthe Awk programs concurrently over the dataset to radically improveperformance. Swift uses MPI based communication to parallelize and synchronizeindependent tasks.\n Other Unix tools such as  sort,  grep,  tr,  sed and  bash are used aswell. Additionally,  jq,  D3,  dot/graphviz, and  ffmpeg are used.\n  Fortunately, I had access to a large-memory (24 T) SGI system with 512-coreIntel Xeon (2.5GHz) CPUs. All the IO is memory ( /dev/shm) bound ie. the datais read from and written to  /dev/shm.\n  Awk is lightweight, concise, expressive, and fast \u2013 especially for text processingapplications. Some people find Awk programs terse and hard to read. I havetaken care to make the code readable. I wanted to see how far can I go with Awk(and boy did I go far!). Alternative tools such as modern Python librariessometimes have scaling limitations, portability concerns. Some are stillevolving. Swift is used simply because I was familiar with it and confidentthat it will scale well in this case.\n  The original  data was in two sets ( aminerand  mag) of 322  json files \u2013 each containing a million records. A filewith a list of common records appearing in both sets was available. An Awk script( src/filterdup.awk) is used to exclude these duplicate records from the aminerdataset. As a result, it came out about  256 million (256,382,605 to beexact) unique records to be processed. The total data size is 329GB. Somefields in the data are  null. Those records are avoided where relevant.Additionally, records related to non-English publications were avoided asneeded. A snapshotof tabular data is available. String  qwqw is chosen as a column separator todistinguish it from text already found in data. All other 3 or less charactercombinations already existed in data prohibiting them to be used as separators.\n #!/usr/bin/env awk -f # $1 magid # $2 aminerid # Filter duplicate papers and remove them # from aminer database based on the linking relationship BEGIN  {FS  = OFS  =  &#34;qwqw&#34; }NR  == FNR  {a[ $2 ]  =  $1 } !( $1  in a )  &amp;&amp; FILENAME ~ /aminer/  { print  }\n NR == FNR is a cool Awk idiom that ensures the condition is true only for the first file. This is because for each file that is processed the FNR (File Record Number) gets reset but the NR does not. This means the condition  NR == FNR yields true only for the first file.\n     jq is used to transform the json data to tabular format( src/json2tabular.sh). The converted tabular files have 19 original columns( id,  title,  authors,  year,  citations, etc) and oneadditional column called  num_authors showing the number of authors for agiven publication record. The authors column has a semi-colon separator formultiple authors. Further curation of tabular data is done by removingextraneous space, square brackets, escape characters and quotes using  sed.\n Some of the results obtained were postprocessed for visulization using the  D3graphics framework.  ffmpeg is used to stitch images of trending terms tocreate an animation.  dot/graphviz is used to build the massive citationnetwork graph of the best paper.\n  Each solution has Awk code run concurrently over the 322 data files on 322 CPUcores using Swift. This resulted in radical speedup at scale. None of thesolution has taken more than an hour of runtime\u2013most took less than a minute.\n  Identify the individual or group of individuals who appear to be the expert in a particular field or sub-field.\n This is solved in two ways. First approach identifies all the entries withcitations higher than 500 for a given search topic( results/meditation_highly_cited.txt).\n #!/usr/bin/env awk -fBEGIN  {  # Field Separator FS  =  &#34;qwqw&#34;  # Output field separator OFS  =  &#34; \\t &#34; IGNORECASE  = 1  # Field names for readability  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ;  lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } ( $0~topic  &amp;&amp;  $num_authors  &gt; 0  &amp;&amp;  $n_citation !~/null/  &amp;&amp;  $n_citation &gt;500 ){ print  $n_citation,  $title,  $authors,  $year } # How to run: # awk -v topic=meditation -f src/prob1_p1.awk data/mag_papers_sample.allcols.txt\n The second approach finds the names of authors whose names are repeating forqueried topic with at least a certain number of citations in each entry. Thisgives a reasonable idea of who are the expert figures in a given research area.One such result in  results/cancer_research_topauths.txt shows authors incancer research with more than one publication with at least 1,000 citations.\n #!/usr/bin/env awk -fBEGIN  {  # Field separator FS  =  &#34;qwqw&#34; OFS  =  &#34; \\t &#34; IGNORECASE  = 1  # Field names  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ;  lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } ( $0~topic  &amp;&amp;  $num_authors &gt;0  &amp;&amp;  $n_citation !~/null/  &amp;&amp;  $n_citation &gt;1000 )  {  # find the authors whose names are repeating for a particular topic.  # Those authors will be considered experts.  gsub ( &#34; \\&#34; &#34;, &#34;&#34;, $authors )  split ( $authors, a,  &#34;;&#34; )  for  (i  in a )  {  split (a[i], b,  &#34;,&#34; )  # auths array will have keys as auth names and the   # element value increases if the key repeats  if (b[1]!~/null/ ) auths[b[1]]++  } }END  {  for  (k  in auths )  if (auths[k]&gt;1 ) print auths[k], k  } #How to run: # awk -v topic=cancer -f src/prob1_p2.awk data/mag_papers_sample.allcols.txt # sort the results\n  Alongside is the citation  network graph of the most cited paper in this diagram(too big to fit here). The result of a query for all-time list of most citedpapers with a threshold of 20,000 is in  results/top_papers.txt.\n   This is solved by identifying most frequently appearing words in thecollection. Title, abstract and keywords are parsed and top 1,000 frequentlyoccurring words across the whole collection is found. Several common words (aka stop-words) are filtered from the results. At over 23 million, the word\u201cpatients\u201d occurs the most frequently. The full list of top 1,000 words isfound in  /results/top_1K_words_kw_abs_title.txt. The target collection ofpublications may be narrowed down to criteria such as years range.\n #!/usr/bin/env awk -f # Problem Statement # Identify topics that have been researched across all publications.  # Solution: # step1. Filter the input to English language records  # step2. Eliminate unnecessary content such as punctuation, # non-printable chars and small words such as  # 1 letter and 2 letter words # step3. Extract words used in keywords, title and abstract # step4. Find most frequently used words BEGIN  { FS  =  &#34;qwqw&#34; IGNORECASE  = 1  # Field names  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ; lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } #collect stop wordsNR  == FNR  {x[ $1 ] ;next } $lang~/en/  &amp;&amp;  ( $keywords !~/null/  ||  $title !~/null/  ||  $abstract !~/null/ )  {  # treat titles  $title  = tolower ( $title )  split ( $title, a,  &#34; &#34; )  for  (i  in a )  if (length (a[i] )&gt;2  &amp;&amp; match (a[i],/[a-z]/ )  &amp;&amp; a[i]  in x  == 0 ) kw[a[i]]++  # treat keywords  $keywords  = tolower ( $keywords )  split ( $keywords, b,  &#34;,&#34; )  for  (i  in b )  if (length (b[i] )&gt;2  &amp;&amp; match (b[i],/[a-z]/ )  &amp;&amp; b[i]  in x  == 0 ) kw[b[i]]++  # treat abstracts (Computationally expensive, results are in:  # top_1000_words_from_kw_abstract_title_by_freq.txt)  $abstract  = tolower ( $abstract ) gsub ( &#34; \\&#34; &#34;, &#34;&#34;, $abstract ) gsub ( &#34;,&#34;, &#34;&#34;, $abstract )  split ( $abstract, c,  &#34; &#34; )  for  (i  in c )  if (length (c[i] )&gt;2  &amp;&amp; match (c[i],/[a-z]/ )  &amp;&amp; c[i]  in x  == 0 ) kw[c[i]]++ }END  {  for (k  in kw ){  if  (kw[k]&gt;1000 ) print kw[k], k  } } # HOW TO RUN: LC_ALL=C awk -f prob2.awk stop_words.txt \\ ../aminer_papers_allcols_excl/aminer_papers_ *.allcols.excl.txt  \\ ../mag_papers_allcols/mag_papers_ *.allcols.txt  \\ |  sort  -nr  &gt; freq.txt\n  import  files ; import  unix ; /* app defines what we want to run, the input parameters, where the stdout should go, etc.*/ app  ( file  out )  myawk  ( file  awkprog ,  file  stop_words ,  file  infile ){  &#34;/usr/bin/awk&#34;  &#34;-f&#34;  awkprog  stop_words  infile  @ stdout = out } /* populate the input data */ file  aminer []  =  glob ( &#34;/dev/shm/aminer_mag_papers/*.txt&#34; ); /* output for each call will be collected here */ file  outfiles [];  foreach  v ,  i  in  aminer  {  outfiles [ i ]  =  myawk ( input ( &#34;/home/km0/SMC18/src/prob2.awk&#34; ),  input ( &#34;/home/km0/SMC18/data/stop_words.txt&#34; ),  v ); } /* Combine all output in one file */ file  joined  &lt; &#34;joined.txt&#34; &gt;  =  cat ( outfiles ); /* After running this swift app: awk &#39;{a[$2]+=$1} END {for (k in a) print a[k],k}&#39; joined.txt | sort -nr &gt; freq.txt*/\n   This is solved by identifying the author affiliations for the records that hasthe search topic in them. The affiliation is searched against threedatabases\u2013cities, universities and countries to find out the geographiclocations for that research. The results are aggregated to present a list ofcenters for which a given keyword appears most frequently. For cities, theresults are plotted on world map. One such result is shown below for the topicof research on \u201cbirds\u201d.\n  The  results/ directory contains other similar results such as epilepsy,opioid, meditation research by universities and by countries. The HPCimplementation finishes in  25 seconds. The Awk code is shown below.\n #!/usr/bin/env awk -f # problem statement # visualize the geographic distribution of the topics in the publications.BEGIN  {  # Field separator FS  = OFS  =  &#34;qwqw&#34; IGNORECASE  = 1  # Field names  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ;  lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } #collect the countries/cities/univs dataNR  == FNR  {a[ $1 ] ;next }  #treat records with authors whose affiliation is available $0~topic  &amp;&amp;  $num_authors !~/null/  &amp;&amp;  $authors~/ \\,/  {  # extract words from author affiliation and compare with the countries.  # If a match is found increment that array entry. w  =  split ( $authors, b,  &#34;,&#34; )  for  ( i =0 ;i&lt;w ;i++ ){ gsub ( &#34;;&#34;, &#34; &#34;,b[i] )  if  (b[i]  in a ) a[b[i]]++  } }END  {  for (k  in a ){  if (a[k] ) print a[k], k  } } # HOW TO RUN: # awk -v topic=birds -f prob3.awk cities.txt \\ ../mag_papers_allcols/mag_papers_ *.allcols.txt  \\ ../aminer_papers_allcols_excl/aminer_papers_ *.allcols.excl.txt # awk -v topic=birds -f prob3.awk countries.txt ... # awk -v topic=birds -f prob3.awk universities.txt ...  # Run the following pipeline on the results: # sort -nr -k 1 citywise_papers.txt &gt; tmp &amp;&amp; mv tmp citywise_papers.txt  # OR # After running the swift app: # awk -F: &#39;{a[$2]+=$1} END {for (k in a) print a[k],k}&#39; joined_cities.txt \\ |  sort  -nr  &gt; tmp  &amp;&amp;  mv tmp joined_cities.txt\n   This problem may be solved in three distinct ways. The first approach processesthe database to find out year-wise occurrence of any given two topics together. It generates a list of years and the number of times  both topicshas occurred in a single publication in that year. For example, the plot shownbelow shows how the terms \u201cobesity\u201d and \u201csugar\u201d have trended together inpublications over the years.\n   #!/usr/bin/env awk -f # Problem Statement # Identify how topics have shifted over time. # Solution 1 below will search for any two topics # mentioned and show the number of occurrence of both the topics year-wiseBEGIN  {  # Field Separator FS  =  &#34;qwqw&#34; IGNORECASE  = 1  # Field names  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ;  lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } $lang~/en/  &amp;&amp;  $year !~/null/  &amp;&amp;  $0~topic1  &amp;&amp;  $0~topic2  { a[ $year ]++ }END  { n  = asorti (a,b )  printf ( &#34;Trend for topics: %s, %s \\n &#34;, topic1, topic2 )  for  ( i =1 ;i&lt; =n ;i++ )  printf ( &#34;%d :- %d \\n &#34;, b[i], a[b[i]] ) } # Run as follows: # awk -v topic1=obesity -v topic2=sugar -f code/prob4.awk aminer_mag_papers/*.txt\n The second approach finds the papers that has highest impact in each year andextracts the keywords in those papers. The impact is computed by the paper thatis cited the most in that year. The result for this task are in results/yearwise_trending_keywords.txt in the form of year, keywords,citations triplet.\n #!/usr/bin/env awk -f # Problem Statement # Identify how topics have shifted over time. # Solution 2 is to find the highest cited paper # year-wise and figure out the topics it was based onBEGIN  { FS  = OFS  =  &#34;qwqw&#34; IGNORECASE  = 1  # Field names  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ;  lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } $lang~/en/  &amp;&amp;  $year !~/null/  &amp;&amp;  $year&lt;2020  &amp;&amp;  $keywords !~/null/  &amp;&amp;  $n_citation !~/null/  &amp;&amp;  $n_citation &gt;max[ $year ]  { max[ $year ]  =  $n_citation ; a[ $year ]= $keywords }END  { n  = asorti (a,b )  for  ( i =1 ;i&lt; =n ;i++ ) print b[i], a[b[i]], max[b[i]] } # Run via Swift in parallel. If serial, run like so: # awk -f code/prob4_p2.awk aminer_mag_papers/*.txt &gt; yearwise_trending_keywords.txt\n The third approach finds the top 10 most frequently occurring terms each yearto find how the topics get in and out of trend over the years. An mkv animationvideo showing a bubble plot of words trending between the year 1800 and 2017 is here.A file list of all the words is found in  results/trending_words_by_year. Asnapshot trending words bubble in 2002 is shown below:\n   #!/usr/bin/env awk -f # find the top 10 trending topics year-wise and see how they appear/disappear in the trend # We achieve this by writing keywords, titles and abstract to files named after  # the year they appeared and do postprocessing on those filesBEGIN  { FS  =  &#34;qwqw&#34; IGNORECASE  = 1  # Field names  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ;  lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } #collect stop wordsNR  == FNR  {x[ $1 ] ;next } $lang~/en/  &amp;&amp;  $n_citation &gt;0  &amp;&amp;  $year ==yr  &amp;&amp;  $keywords !~/null/ {  # write title, keywords and abstract to a file   # titled by the year in which they appear  # treat title  $title  = tolower ( $title )  split ( $title, a,  &#34; &#34; )  for  (i  in a )  if (length (a[i] )&gt;2  &amp;&amp; match (a[i],/[a-z]/ )  &amp;&amp; a[i]  in x  == 0 ) print a[i]  # treat keywords  $keywords  = tolower ( $keywords ) gsub ( &#34; \\&#34; &#34;, &#34;&#34;, $keywords )  split ( $keywords, b,  &#34;,&#34; )  for  (i  in b )  if (length (b[i] )&gt;2  &amp;&amp; match (b[i],/[a-z]/ )  &amp;&amp; b[i]  in x  == 0 ) print b[i]  # treat abstract  $abstract  = tolower ( $abstract ) gsub ( &#34; \\&#34; &#34;, &#34;&#34;, $abstract ) gsub ( &#34;,&#34;, &#34; &#34;, $abstract )  split ( $abstract, c,  &#34; &#34; )  for  (i  in c )  if (length (c[i] )&gt;2  &amp;&amp; match (c[i],/[a-z]/ )  &amp;&amp; c[i]  in x  == 0 ) print c[i] } #Do the following for postprocessing: #for i in 18?? 19?? 20?? # do (grep -o -E &#39;\\w+&#39; $i | tr [A-Z] [a-z] \\ # | sed -e &#39;s/null//g&#39; -e &#39;s/^.$//g&#39; -e &#39;s/^..$//g&#39; -e &#39;s/^[0-9]*$//g&#39; \\ # | awk NF | fgrep -v -w -f stop_words.txt \\ # | sort | uniq -c | sort -nr \\ # | head -10 &gt; trending/trending.$i.txt) &amp; done\n Parallelizing the third approach was challenging as it involved a two-levelnested foreach loop. The outer loop iterates over the years and the inner loopiterates over the input files. The HPC implementation finishes in  48minutes. Swift code for this shown below.\n import  files ; import  io ; import  unix ; import  string ; app  ( file  out )  myawk  ( file  awkprog ,  file  infile ,  file  stopwords ,  string  yr ){  &#34;/usr/bin/awk&#34;  &#34;-v&#34;  yr  &#34;-f&#34;  awkprog  stopwords  infile  @ stdout = out } file  aminer []  =  glob ( &#34;/dev/shm/aminer_mag_papers/*.txt&#34; ); foreach  y  in  [ 1800 : 2017 : 1 ]{  file  yearfiles [];  foreach  v ,  i  in  aminer {  yearfiles [ i ]  =  myawk ( input ( &#34;/home/km0/SMC18/src/prob4_p3.awk&#34; ),  v ,  input ( &#34;/home/km0/SMC18/data/stop_words.txt&#34; ),  sprintf ( &#34;yr=%s&#34; , toString ( y )));  }  file  joined  &lt; sprintf ( &#34;year%s.txt&#34; , toString ( y )) &gt;  =  cat ( yearfiles ); }\n   This has a simple solution: Find the keywords on a new proposal. If thosekeywords appear in an existing publication record, it is a suspect. A broadlist of suspects may be found with logical  OR between keywords which couldbe narrowed down with logical  AND. The keywords may be arbitrarily combinedin ORs and ANDs. The results file  /results/suspects.txt shows over 1,400suspects for an  AND combination of keywords:  battery,  electronics, lithium, and  energy from English language papers. The HPC implementationfinishes in  26 seconds. Awk code below.\n #!/usr/bin/env awk -f # Problem Statement # Given a research proposal, determine whether the proposed work has been # accomplished previously. # Solution: Find the keywords in the new proposal.  # If those keywords appear in an existing publication record, it is a suspect.BEGIN  { FS  =  &#34;qwqw&#34; IGNORECASE  = 1  # Field names  id =1 ;  title =2 ;  num_authors =3 ;  doi =4 ;  fos_isbn =5 ;  doctype_issn =6 ;  lang =7 ;  n_citation =8 ;  issue =9 ;  url =10 ;  volume =11 ;  page_start =12 ;  page_end =13 ;  year =14 ;  venue =15 ;  publisher_pdf =16 ;  references =17 ;  keywords =18 ;  abstract =19 ;  authors =20 ; } # topic1 .. topic4 are provided at command line $0~topic1  &amp;&amp;  $0~topic2  &amp;&amp;  $0~topic3  &amp;&amp;  $0~topic4  &amp;&amp;  $lang~/en/  &amp;&amp;  $authors !~/null/ { print  $id,  $title,  $authors,  $year }\n  I show how the classic Unix tools may be leveraged to solve modern problemsand that millions of records may be processed in under a minute at scale.About the data itself, it seems the biosciences research dominatesthe pu\n......", "posttime": "2020-06-03 02:39:15", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u8fd0\u884c,awk", "title": "\u5e76\u884c\u8fd0\u884cAWK\u4ee5\u5904\u74062.56\u4ebf\u6761\u8bb0\u5f55", "title_en": "Running Awk in parallel to process 256M records", "transed": 1, "url": "https://ketancmaheshwari.github.io/posts/2020/05/24/SMC18-Data-Challenge-4.html", "via": "", "real_tags": ["\u8fd0\u884c", "awk"]}, {"category": "", "categoryclass": "", "imagename": "c3f0187519479516880e5375c7ab0f1f.jpg", "infoid": 1004878, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u60a8\u53ef\u80fd\u542c\u8bf4\u8fc7\u7f16\u8bd1\u5668\u5728\u89e3\u6790\u7a0b\u5e8f\u65f6\u4f7f\u7528\u79f0\u4e3a\u62bd\u8c61\u8bed\u6cd5\u6811(AST)\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u5f88\u5c11\u6709\u4eba\u77e5\u9053\u901a\u5e38\u5728\u7f16\u8bd1\u5f00\u59cb\u65f6\u5c31\u4f7f\u7528AST\uff0c\u800c\u529f\u80fd\u5f3a\u5927\u7684\u7f16\u8bd1\u5668\u901a\u5e38\u4f7f\u7528\u66f4\u9ad8\u7ea7\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\u4f5c\u4e3a\u5176\u4e2d\u95f4\u8868\u793a\uff0c\u4ee5\u4f18\u5316\u60a8\u7684\u7a0b\u5e8f\u5e76\u5728\u7f16\u8bd1\u7684\u540e\u671f\u9636\u6bb5\u5c06\u5176\u8f6c\u6362\u4e3a\u673a\u5668\u7801\u3002\u4ee5\u6211\u4eec\u5728Shopify\u5de5\u4f5c\u7684Ruby\u7684\u5373\u65f6\u7f16\u8bd1\u5668TruffleRuby\u4e3a\u4f8b\uff0c\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u88ab\u79f0\u4e3a\u8282\u70b9\u6d77\u56fe\u5f62\u3002\u6211\u60f3\u5411\u60a8\u5c55\u793a\u8fd9\u79cd\u8282\u70b9\u6d77\u56fe\u5f62\u6570\u636e\u7ed3\u6784\u662f\u4ec0\u4e48\u6837\u5b50\u4ee5\u53ca\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff0c\u6211\u8ba4\u4e3a\u51fa\u4e8e\u4ee5\u4e0b\u51e0\u4e2a\u539f\u56e0\uff0c\u8fd9\u6837\u505a\u662f\u503c\u5f97\u7684\u3002\u9996\u5148\uff0c\u6211\u53ea\u662f\u8ba4\u4e3a\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u8da3\u548c\u6f02\u4eae\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u4e5f\u662f\u4e00\u4e2a\u5b9e\u7528\u7684\u7ed3\u6784\u3002\u4e3a\u4e86\u901a\u8fc7\u6211\u4eec\u884c\u4e1a\u7684\u9762\u8bd5\uff0c\u5b66\u4e60\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u7684\u538b\u529b\u5f88\u5927\uff0c\u80fd\u5c55\u793a\u4e00\u4e9b\u6211\u4eec\u5728Shopify\u5e94\u7528\u7684\u975e\u5e38\u5b9e\u7528\u7684\u4e1c\u897f\u662f\u5f88\u68d2\u7684\u3002\u6b64\u5916\uff0c\u8282\u70b9\u6d77\u4e2d\u7684\u56fe\u5f62\u5728\u89c6\u89c9\u4e0a\u5bf9\u6211\u975e\u5e38\u6709\u5438\u5f15\u529b\uff0c\u6211\u60f3\u4e0e\u60a8\u5206\u4eab\u5b83\u4eec\u3002\u5176\u6b21\uff0c\u5bf9\u6b64\u6570\u636e\u7ed3\u6784\u7565\u77e5\u4e00\u4e8c\u53ef\u4ee5\u8ba9\u60a8\u6df1\u5165\u4e86\u89e3\u7a0b\u5e8f\u7684\u771f\u6b63\u542b\u4e49\u4ee5\u53ca\u7f16\u8bd1\u5668\u5982\u4f55\u7406\u89e3\u5b83\uff0c\u56e0\u6b64\u6211\u8ba4\u4e3a\u5b83\u53ef\u4ee5\u589e\u52a0\u60a8\u5bf9\u7a0b\u5e8f\u5982\u4f55\u8fd0\u884c\u7684\u7406\u89e3\u3002\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u5e94\u8be5\u544a\u8bc9\u60a8\uff0c\u6211\u6050\u6015\u5b9e\u9645\u4e0a\u8981\u4f7f\u7528Java\u6765\u5c55\u793a\u6211\u7684\u793a\u4f8b\uff0c\u4ee5\u4fbf\u4f7f\u5b83\u4eec\u66f4\u7b80\u5355\u3001\u66f4\u5bb9\u6613\u7406\u89e3\u3002\u8fd9\u662f\u56e0\u4e3a\u4e0eRuby\u76f8\u6bd4\uff0cJava\u5177\u6709\u66f4\u7b80\u5355\u7684\u8bed\u4e49-\u66f4\u7b80\u5355\u7684\u8bed\u8a00\u5de5\u4f5c\u89c4\u5219-\u4ee5\u53ca\u66f4\u7b80\u5355\u7684\u56fe\u5f62\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728Java\u4e2d\u7d22\u5f15\u4e00\u4e2a\u6570\u7ec4\uff0c\u90a3\u4e48\u7b80\u5355\u7684\u7d22\u5f15\u51e0\u4e4e\u5c31\u662f\u5b83\u7684\u5168\u90e8\u529f\u80fd\u3002\u5982\u679c\u5728Ruby\u4e2d\u4e3a\u6570\u7ec4\u7f16\u5236\u7d22\u5f15\uff0c\u53ef\u80fd\u4f1a\u6709\u6b63\u7d22\u5f15\u3001\u8d1f\u7d22\u5f15\u3001\u8303\u56f4\u3001\u8f6c\u6362\u3001\u5f3a\u5236\u548c\u66f4\u591a-\u53ea\u662f\u66f4\u590d\u6742\u3002\u4f46\u662f\u4e0d\u7528\u62c5\u5fc3\uff0c\u5b83\u90fd\u662f\u8d85\u57fa\u672c\u7684Java\u4ee3\u7801\uff0c\u6240\u4ee5\u5982\u679c\u60a8\u6765\u81eaRuby\u6216\u4efb\u4f55\u5176\u4ed6\u8bed\u8a00\uff0c\u90fd\u53ef\u4ee5\u5047\u88c5\u5b83\u662f\u4f2a\u4ee3\u7801\u3002\u9605\u8bfb\u8282\u70b9\u6d77GraphsLets\u901a\u8fc7\u663e\u793a\u4e00\u4e9b\u4ee3\u7801\u548c\u76f8\u5e94\u7684\u8282\u70b9\u6d77\u56fe\u76f4\u63a5\u8fdb\u5165\u3002\u4e0b\u9762\u662f\u4e00\u4e2aJava\u65b9\u6cd5\u3002\u6b63\u5982\u6211\u6240\u8bf4\u7684\uff0c\u5b83\u6ca1\u6709\u4f7f\u7528\u4efb\u4f55\u9ad8\u7ea7Java\u7279\u6027\uff0c\u6240\u4ee5\u5982\u679c\u60a8\u613f\u610f\uff0c\u60a8\u53ef\u4ee5\u5047\u88c5\u5b83\u662f\u4f2a\u4ee3\u7801\u3002\u5b83\u4f7f\u7528\u7b80\u5355\u7684\u9012\u5f52\u65b9\u6cd5\u4ece\u79f0\u4e3a\u6590\u6ce2\u90a3\u5951\u5e8f\u5217\u7684\u6570\u5b66\u5e8f\u5217\u4e2d\u8fd4\u56de\u4e00\u4e2a\u6570\u5b57\u3002\u4ee5\u4e0b\u662f\u8be5\u7a0b\u5e8f\u7684\u4f20\u7edfAST\u6570\u636e\u7ed3\u6784\u3002\u5b83\u662f\u4e00\u68f5\u6811\uff0c\u5b83\u76f4\u63a5\u6620\u5c04\u5230\u6587\u672c\u6e90\u4ee3\u7801\uff0c\u4e0d\u6dfb\u52a0\u548c\u5220\u9664\u4efb\u4f55\u5185\u5bb9\u3002\u8981\u8fd0\u884c\u5b83\uff0c\u60a8\u9700\u8981\u6cbf\u7740\u6811\u4e2d\u7684\u4e00\u6761\u8def\u5f84\uff0c\u4ece\u9876\u90e8\u5f00\u59cb\uff0c\u6309\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u5b83\u3002\u62bd\u8c61\u6590\u6ce2\u7eb3\u5951\u5e8f\u5217\u7a0b\u5e8f\u7684\u8bed\u6cd5\u6811\uff0c\u4e0b\u9762\u662f\u540c\u4e00\u7a0b\u5e8f\u7684\u8282\u70b9\u6d77\u56fe\u3002\u8fd9\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u6570\u636e\u7ed3\u6784\u8f6c\u50a8\uff0c\u5c31\u50cf\u6211\u4eec\u5728\u524d\u9762\u5c55\u793a\u7684\u7f16\u8bd1\u6590\u6ce2\u7eb3\u5951\u5e8f\u5217\u7684Java\u65b9\u6cd5\u65f6\u4f7f\u7528\u7684\u6570\u636e\u7ed3\u6784\u4e00\u6837\uff0c\u8282\u70b9\u6d77\u56fe\u8868\u662f\u6590\u6ce2\u7eb3\u5951\u5e8f\u5217\u7a0b\u5e8f\u7684\u8282\u70b9\u6d77\u56fe\u8868\uff0c\u8fd9\u91cc\u6709\u5f88\u591a\u4e8b\u60c5\u8981\u505a\uff0c\u4f46\u6211\u4f1a\u5c06\u5176\u5206\u89e3\u3002\u6211\u4eec\u6709\u65b9\u6846\u548c\u7bad\u5934\uff0c\u6240\u4ee5\u5b83\u5c31\u50cf\u6d41\u7a0b\u56fe\u4e00\u6837\u3002\u6846\u662f\u64cd\u4f5c\uff0c\u7bad\u5934\u662f\u64cd\u4f5c\u4e4b\u95f4\u7684\u8fde\u63a5\u3002\u4e00\u4e2a\u64cd\u4f5c\u53ea\u6709\u5728\u6240\u6709\u5e26\u7bad\u5934\u7684\u64cd\u4f5c\u90fd\u8fd0\u884c\u5b8c\u4e4b\u540e\u624d\u80fd\u8fd0\u884c\u3002\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\u662f\uff0c\u6709\u4e24\u79cd\u4e3b\u8981\u7684\u7bad\u5934\uff0c\u5b83\u4eec\u975e\u5e38\u4e0d\u540c\u3002\u7c97\u7ea2\u8272\u7bad\u5934\u663e\u793a\u63a7\u4ef6\u5728\u7a0b\u5e8f\u4e2d\u7684\u6d41\u52a8\u65b9\u5f0f\u3002\u7eff\u8272\u7ec6\u7bad\u5934\u663e\u793a\u6570\u636e\u5728\u7a0b\u5e8f\u4e2d\u7684\u6d41\u52a8\u65b9\u5f0f\u3002\u865a\u7ebf\u7684\u9ed1\u8272\u7bad\u5934\u662f\u5143\u4fe1\u606f\u3002\u6709\u4e9b\u4eba\u753b\u4e86\u6307\u5411\u4e0a\u65b9\u7684\u7eff\u8272\u7bad\u5934\uff0c\u4f46\u5728\u6211\u4eec\u56e2\u961f\u4e2d\uff0c\u6211\u4eec\u8ba4\u4e3a\u663e\u793a\u5411\u4e0b\u6d41\u52a8\u7684\u6570\u636e\u4f1a\u66f4\u7b80\u5355\u3002\u8fd8\u6709\u4e24\u79cd\u4e3b\u8981\u7684\u64cd\u4f5c\u6846\u3002\u65b9\u5f62\u7684\u7ea2\u8272\u76d2\u5b50\u505a\u4e86\u4e00\u4e9b\u4e8b\u60c5\uff1b\u5b83\u4eec\u6709\u526f\u4f5c\u7528\uff0c\u6216\u8005\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u662f\u5fc5\u987b\u7684\u3002\u83f1\u5f62\u7eff\u8272\u65b9\u6846\u8ba1\u7b97\u4e00\u4e9b\u4e1c\u897f(\u5b83\u4eec\u662f\u7eaf\u7684\uff0c\u6216\u65e0\u526f\u4f5c\u7528\u7684)\uff0c\u7eff\u8272\u8868\u793a\u5b89\u5168\u6267\u884c\uff0cP(0)\u8868\u793a\u53c2\u65700\uff0c\u5373\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002C(2)\u8868\u793a\u5e38\u91cf\u503c2\u3002\u5927\u591a\u6570\u5176\u4ed6\u8282\u70b9\u5e94\u8be5\u53ef\u4ee5\u4ece\u5b83\u4eec\u7684\u6807\u7b7e\u4e2d\u7406\u89e3\u3002\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u4fbf\u4e8e\u53c2\u8003\u7684\u6570\u5b57\u3002\u8981\u5728\u60a8\u7684\u5934\u8111\u4e2d\u8fd0\u884c\u7a0b\u5e8f\uff0c\u8bf7\u4ece\u9876\u90e8\u7684\u5f00\u59cb\u8282\u70b9\u5f00\u59cb\uff0c\u7136\u540e\u5411\u4e0b\u5411\u4e0b\u79fb\u52a8\u7ea2\u8272\u7c97\u7bad\u5934\uff0c\u6307\u5411\u5e95\u90e8\u7684\u4e00\u4e2a\u8fd4\u56de\u8282\u70b9\u3002\u5982\u679c\u60a8\u7684\u6b63\u65b9\u5f62\u7ea2\u8272\u65b9\u6846\u6709\u4e00\u4e2a\u7bad\u5934\u4ece\u692d\u5706\u5f62\u6216\u83f1\u5f62\u7eff\u8272\u65b9\u6846\u6307\u5411\u5b83\uff0c\u90a3\u4e48\u60a8\u9996\u5148\u8fd0\u884c\u90a3\u4e2a\u7eff\u8272\u65b9\u6846\uff0c\u4ee5\u53ca\u6307\u5411\u8be5\u7eff\u8272\u65b9\u6846\u7684\u4efb\u4f55\u5176\u4ed6\u7eff\u8272\u65b9\u6846\u3002\u6211\u8ba4\u4e3a\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u7684\u4e00\u4e2a\u4e3b\u8981\u7279\u70b9\u662f\u975e\u5e38\u68d2\u7684\u3002\u7ea2\u8272\u90e8\u5206\u662f\u5fc5\u5907\u7a0b\u5e8f\uff0c\u7eff\u8272\u90e8\u5206\u662f\u5c0f\u529f\u80fd\u7a0b\u5e8f\u3002\u6211\u4eec\u5df2\u7ecf\u4ece\u5355\u4e2aJava\u7a0b\u5e8f\u4e2d\u5206\u79bb\u51fa\u8fd9\u4e24\u4e2a\u3002\u4ed6\u4eec\u662f\u5728\u91cd\u8981\u7684\u5730\u65b9\u52a0\u5165\u7684\uff0c\u800c\u4e0d\u662f\u5728\u4e0d\u91cd\u8981\u7684\u5730\u65b9\u52a0\u5165\u7684\u3002\u8fd9\u5c06\u5728\u7a0d\u540e\u53d8\u5f97\u6709\u7528\u3002\u6211\u901a\u8fc7\u56fe\u8868\u7406\u89e3\u4e86\u6211\u8bf4\u7684\uff0c\u6211\u8ba4\u4e3a\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u56fe\u8868\u4e86\u89e3\u4e00\u4e9b\u5173\u4e8e\u4f60\u7684\u7a0b\u5e8f\u7684\u89c1\u89e3\u3002\u8fd9\u5c31\u662f\u6211\u6240\u8bf4\u7684\u610f\u601d\u3002\u5f53\u4f60\u7528\u6587\u672c\u7f16\u5199\u7a0b\u5e8f\u65f6\uff0c\u4f60\u662f\u5728\u7528\u7ebf\u6027\u683c\u5f0f\u7f16\u5199\uff0c\u8fd9\u610f\u5473\u7740\u5f88\u591a\u4e1c\u897f\u5b9e\u9645\u4e0a\u5e76\u4e0d\u662f", "note_en": "You may have heard that a compiler uses a data structure called an abstract-syntax-tree, or AST, when it parses your program, but it\u2019s less common knowledge that an AST is normally used just at the very start of compilation, and a powerful compiler generally uses a more advanced type of data structure as its intermediate representation to optimize your program and translate it to machine code in the later phases of compilation. In the case of TruffleRuby, the just-in-time compiler for Ruby that we\u2019re working on at Shopify, this data structure is something called a sea-of-nodes graph.I want to show you a little of what this sea-of-nodes graph data structure looks like and how it works, and I think it\u2019s worth doing this for this for a couple of reasons. First of all, I just think it\u2019s a really interesting and beautiful data structure, but also a practical one. There\u2019s a lot of pressure to learn about data structures and algorithms in order to pass interviews in our industry, and it\u2019s nice to show something really practical that we\u2019re applying here at Shopify. Also, the graphs in sea-of-nodes are just really visually appealing to me and I wanted to share them.Secondly, knowing just a little about this data structure can give you some pretty deep insights into what your program really means and how the compiler understands it, so I think it can increase your understanding of how your programs run.\u00a0I should tell you at this point that I\u2019m afraid I\u2019m actually going to be using Java to show my examples, in order to keep them simpler and easier to understand. This is because compared to Ruby, Java has much simpler semantics\u2014simpler rules for how the language works\u2014and so much simpler graphs. For example, if you index an array in Java that\u2019s pretty much all there is to it, simple indexing. If you index an array in Ruby you could have a positive index, a negative index, a range, conversion, coercion, and lots more\u2014it\u2019s just more complicated. But don\u2019t worry, it\u2019s all super-basic Java code, so you can just pretend it\u2019s pseudo code if you\u2019re coming from Ruby or any other language.Reading Sea-of-nodes GraphsLets dive straight in by showing some code and the corresponding sea-of-nodes graph.Here\u2019s a Java method. As I said, it\u2019s not using any advanced Java features so you can just pretend it\u2019s pseudo code if you want to. It returns a number from a mathematical sequence known as the Fibonacci sequence, using a simple recursive approach.Here\u2019s the traditional AST data structure for this program. It\u2019s a tree, and it directly maps to the textual source code, adding and removing nothing. To run it you\u2019d follow a path in the tree, starting at the top and moving through it depth-first.Abstract syntax tree for the Fibonacci sequence programAnd here\u2019s the sea-of-nodes graph for the same program. This is a real dump of the data structure as used in practice to compile the Java method for the Fibonacci sequence we showed earlier.Sea-of-nodes graph\u00a0for the Fibonacci sequence programThere\u2019s quite a lot going on here, but I\u2019ll break it down.We\u2019ve got boxes and arrows, so it\u2019s like a flowchart. The boxes are operations, and the arrows are connections between operations. An operation can only run after all the operations with arrows into it have run.A really important concept is that there are two main kinds of arrows that are very different. Thick red arrows show how the control flows in your program. Thin green arrows show how the data flows in your program. The dashed black arrows are meta-information. Some people draw the green arrows pointing upwards, but in our team we think it\u2019s simpler to show data flowing downwards.There are also two major kinds of boxes for operations. Square red boxes do something; they have a side-effect or are imperative in some way. Diamond green boxes compute something (they\u2019re pure, or side-effect free), and green for safe to execute whenever.P(0) means parameter 0, or the first parameter. C(2) means a constant value of 2. Most of the other nodes should be understandable from their labels. Each node has a number for easy reference.To run the program in your head, start at the Start node at the top and move down thick red arrows towards one of the Return nodes at the bottom. If your square red box has an arrow into it from an oval or diamond green box, then you run that green box, and any other green boxes pointing into that green box, first.Here\u2019s one major thing that I think is really great about this data structure. The red parts are an imperative program, and the green parts are mini functional programs. We\u2019ve separated the two out of the single Java program. They\u2019re joined where it matters, and not where it doesn\u2019t. This will get useful later on.Understanding Through GraphsI said that I think you can learn some insights about your program using these graphs. Here\u2019s what I mean by that.When you write a program in text, you\u2019re writing in a linear format that implies lots of things that aren\u2019t really there. When we get the program into a graph format, we can encode only the actual precise rules of the language and relax everything else.I know that\u2019s a bit abstract, so here\u2019s a concrete example.Based on a three-way if-statement it does some arithmetic. Notice that b * c is common to two of the three branches.Sea-of-nodes graph for a three-way if-statement-programWhen we look at the graph for this we can see a really clear division between the imperative parts of the program and the functional parts. Notice in particular that there is only one multiplication operation. The value of a * b is the same on whichever branch you compute it, so we have just one value node in the graph to compute it. It doesn\u2019t matter that it appeared twice in the textual source code\u2014it has been de-duplicated by a process known as global value numbering. Also, the multiplication node isn\u2019t fixed in either of the branches, because it\u2019s a functional operation and it could happen at any point and it makes no change to what the program achieves.When you look at the source code you think that you pick a branch and only then you may execute a * b, but looking at the graph we can see that the computation a * b is really free from which branch you pick. You can run it before the branch if you want to, and then just ignore it if you take the branch which doesn\u2019t need it. Maybe doing that produces smaller machine code because you only have the code for the multiplication once, and maybe it\u2019s faster to do the multiplication before the branch because your processor can then be busy doing the multiplication while it decides which branch to go to.As long as the multiplication node\u2019s result is ready when we need it, we\u2019re free to put it wherever we want it.You may look at the original code and say that you could refactor it to have the common expression pulled out in a local variable. We can see here that doing that makes no difference to how the compiler understands the code. It may still be worth it for readability, but the compiler sees through your variable names and moves the expression to where it thinks it makes sense. We would say that it floats the expression.Graphs With LoopsHere\u2019s another example. This one has a loop.It adds the parameter a to an accumulator n times.Sea-of-nodes graph for a program with loopsThis graph has something new, an extra thick red arrow backward now. That closes the loop, it\u2019s the jump back to the start of the loop for a new iteration.The program is written in an imperative way, with a traditional iterative looping construct as you\u2019d use in C, but if we look at the little isolated functional part, we can see the repeated addition on its own very clearly. There\u2019s literally a little loop showing that the + 1 operation runs repeatedly on its own result.Isolated functional part of sea-of-nodes graphThat phi node (the little circle with the line in it is a Greek letter) is a slightly complicated concept with a traditional name. It means that the value at that point may be one of multiple possibilities.Should We Program Using Graphs?Every few years someone writes a new PhD thesis on how we should all be programming graphically instead of using text. I think you can possibly see the potential benefits and the practical drawbacks of doing that by looking at these graphs.One benefit is that you\u2019re free to reshape, restructure, and optimize your program by manipulating the graph. As long as you maintain a set of rules, the rules for the language you\u2019re compiling, you can do whatever you want.A drawback is that it\u2019s not exactly compact. This is a 6 line method but it\u2019s a full-screen to draw it as a graph, and it already has 21 nodes and 22 arrows in it. As we get bigger graphs it becomes impossible to draw them without the arrows starting to cross and they become so long that they have no context\u2014you can\u2019t see where they\u2019re going to or coming from, and then it becomes much harder to understand.Using Sea-of-nodes Graphs at ShopifyAt Shopify we\u2019re working on ways to understand these graphs at Shopify-scale. The graphs for idiomatic Ruby code in a codebase like our Storefront Renderer can get very large and very complicated\u2014for example this is the Ruby equivalent to the Java Fibonacci example.Sea-of-nodes graph for the Java Fibonacci example in RubyOne tool we\u2019re building is the program to draw these graphs that I\u2019ve been showing you. It takes compiler debug dumps and produces these illustrations. We\u2019re also working on a tool to decompile the graphs back to Ruby code, so that we can understand how Ruby code is optimized, by printing the optimized Ruby code. That means that developers who just know Ruby can use Ruby to understand what the compiler is doing.SummaryIn summary, this sea-of-nodes graph data structure allows us to represent a program in a way that relaxes what doesn\u2019t matter and encodes the underlying connections between parts of the program. The compiler uses it to optimize your program. You may think of your program as a linear sequence of instructions, but really your compiler is able to see through that to something simpler and more pure, and in TruffleRuby it does that using sea-of-nodes.Sea-of-nodes graphs are an interesting and, for most people, novel way to look at your program.Additional InformationA simple graph-based intermediate representation, Cliff Click, Michael Paleczny, 1995An intermediate representation for speculative optimizations in a dynamic compiler, Gilles Duboscq, Thomas W\u00fcrthinger, Lukas Stadler, Christian Wimmer, Doug Simon, Hanspeter M\u00f6ssenb\u00f6ck, 2013If this sounds like the kind of problems you'd enjoy solving, come work for us. Check out the\u00a0Software Development at Shopify (Expression of Interest) career posting\u00a0and apply specifying an interest in Developer Acceleration.\u00a0", "posttime": "2020-06-03 02:38:58", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u7a0b\u5e8f,\u56fe\u5f62,programs", "title": "\u4f7f\u7528\u56fe\u5f62\u7406\u89e3\u7a0b\u5e8f", "title_en": "Understanding Programs Using Graphs", "transed": 1, "url": "https://engineering.shopify.com/blogs/engineering/understanding-programs-using-graphs", "via": "", "real_tags": ["\u7a0b\u5e8f", "\u56fe\u5f62", "programs"]}, {"category": "", "categoryclass": "", "imagename": "3878eae83a677de05b12902d8d537938.png", "infoid": 1004877, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u6211\u4eec\u4e3ahttps://p2p.riot.im\u53d1\u5e03\u4e86\u4e00\u4e2a\u91cd\u5927\u66f4\u65b0--\u5728\u975e\u79c1\u4eba\u6d4f\u89c8\u6a21\u5f0f\u4e0b\u542f\u52a8\u684c\u9762Chrome\u6216Firefox\uff0c\u8bd5\u4e00\u8bd5\u5427\uff01\n\u6b63\u5982\u8bb8\u591a\u4eba\u73b0\u5728\u77e5\u9053\u7684\u90a3\u6837\uff0c\u6211\u4eec\u4e2d\u7684\u4e00\u4e9b\u4eba\u81ea12\u6708\u4e2d\u65ec\u4ee5\u6765\u4e00\u76f4\u5728\u8bd5\u9a8c\u5728\u5bf9\u7b49\u4f53\u7cfb\u7ed3\u6784\u4e2d\u8fd0\u884cMatrix-\u5728\u8fd9\u79cd\u4f53\u7cfb\u7ed3\u6784\u4e2d\uff0c\u6bcf\u4e2a\u7528\u6237\u90fd\u62e5\u6709\u7edd\u5bf9\u7684\u81ea\u4e3b\u6743\u548c\u5bf9\u4ed6\u4eec\u7684\u5bf9\u8bdd\u7684\u6240\u6709\u6743\uff0c\u56e0\u4e3a\u4ed6\u4eec\u7684\u5bf9\u8bdd\u552f\u4e00\u5b58\u5728\u7684\u5730\u65b9\u5c31\u662f\u4ed6\u4eec\u81ea\u5df1\u7684\u8bbe\u5907\u3002\n\u5728\u67d0\u4e9b\u65b9\u9762\uff0c\u8fd9\u662fMatrix\u5408\u4e4e\u903b\u8f91\u7684\u6700\u7ec8\u76ee\u6807\uff1a\u6211\u4eec\u7684\u76ee\u6807\u4e00\u76f4\u662f\u8d4b\u4e88\u7528\u6237\u5bf9\u5176\u901a\u4fe1\u7684\u5b8c\u5168\u63a7\u5236\u6743\uff0c\u800c\u4e0d\u662f\u53d7\u5236\u4e8e\u4efb\u4f55\u7ed9\u5b9a\u7684\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u5728P2P\u4e16\u754c\u4e2d\uff0c\u6211\u4eec\u5b8c\u5168\u5c06\u5b89\u5168\u901a\u4fe1\u7684\u6743\u529b\u8fd8\u7ed9\u4eba\u4eec\u3002\nP2P Matrix\u4e0d\u4ec5\u4ec5\u662f\u8ba9\u7528\u6237\u5b58\u50a8\u4ed6\u4eec\u81ea\u5df1\u7684\u5bf9\u8bdd\uff1a\u5b83\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5728\u672c\u5730\u7f51\u7edc\u3001\u7f51\u72b6\u7f51\u7edc\u6216\u4e92\u8054\u7f51\u88ab\u5207\u65ad\u7684\u60c5\u51b5\u4e0b\u5de5\u4f5c\u6765\u907f\u514d\u5bf9\u4e92\u8054\u7f51\u672c\u8eab\u7684\u4f9d\u8d56\u3002\u66f4\u6709\u8da3\u7684\u662f\uff0c\u6ca1\u6709\u5bb6\u5ead\u670d\u52a1\u8005\uff0c\u5c31\u6ca1\u6709\u5730\u65b9\u79ef\u7d2f\u5173\u4e8e\u8c01\u5728\u4e0e\u8c01\u4ea4\u8c08\u3001\u4f55\u65f6\u4e0e\u8c01\u4ea4\u8c08\u7684\u5143\u6570\u636e-\u8fd9\u662f\u5bf9\u5f53\u4ecaMatrix\u7f51\u7edc\u7684\u5408\u7406\u62b1\u6028\uff0c\u56e0\u4e3a\u5728\u7ed9\u5b9a\u7684\u5bf9\u8bdd\u4e2d\uff0c\u6240\u6709\u7528\u6237\u7684\u5bb6\u5ead\u670d\u52a1\u8005\u90fd\u5fc5\u987b\u5b58\u50a8\u8be5\u4f1a\u8bdd\u7684\u5143\u6570\u636e\u3002P2P\u8fd8\u8ba9\u6211\u4eec\u4ece\u6839\u672c\u4e0a\u7b80\u5316\u4e86\u65b0\u7528\u6237\u7684\u6ce8\u518c\uff0c\u5982\u679c\u4ed6\u4eec\u4e0d\u9700\u8981\u9009\u62e9\u4e00\u53f0\u670d\u52a1\u5668\u5c31\u53ef\u4ee5\u5f00\u59cb\u8fd0\u884c-\u800c\u4e14\u6211\u4eec\u907f\u514d\u4e86\u65e0\u610f\u4e2d\u5c06\u7528\u6237\u96c6\u4e2d\u5230\u516c\u5171\u670d\u52a1\u5668\u4e0a\u3002\nP2P\u8fd8\u8feb\u4f7f\u6211\u4eec\u89e3\u51b3Matrix\u4e2d\u8bb8\u591a\u6700\u96be\u89e3\u51b3\u7684\u9057\u7559\u95ee\u9898\uff1a\u4f8b\u5982\uff0c\u8003\u8651\u5230\u591a\u8bbe\u5907P2P\u8981\u6c42\u60a8\u7684\u5e10\u6237\u5b58\u5728\u4e8e\u591a\u4e2a\u5730\u65b9\uff0c\u56e0\u6b64\u591a\u5bbf\u4e3b\u5e10\u6237\u3002\u8fd9\u53cd\u8fc7\u6765\u53c8\u4e3a\u4eca\u5929\u7684Matrix\u7f51\u7edc\u4e0a\u7684\u5e10\u6237\u91ca\u653e\u4e86\u9ad8\u53ef\u7528\u6027\u548c\u5730\u7406\u5197\u4f59(\u60f3\u8c61\u4e00\u4e0b\uff0c\u62e5\u6709\u4e00\u4e2a\u795e\u5947\u5730\u505a\u4e86\u6b63\u786e\u4e8b\u60c5\u7684\u4e3b\u548c\u5907\u4efd\u4e3b\u670d\u52a1\u5668\uff01)\uff0c\u4ee5\u53ca\u5e10\u6237\u7684\u53ef\u79fb\u690d\u6027\uff0c\u4ece\u800c\u8fd8\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u4e4b\u95f4\u6258\u7ba1\u548c\u8d1f\u8f7d\u5e73\u8861\u5e10\u6237\uff0c\u751a\u81f3\u6539\u8fdb\u4e86GDPR\u9075\u4ece\u6027(\u56e0\u4e3a\u5982\u679c\u60a8\u7684\u7528\u6237ID\u662f\u77ed\u6682\u7684\uff0c\u4ed6\u4eec\u5c06\u4e0d\u518d\u4eb2\u81ea\u8bc6\u522b\u5b58\u50a8\u5728Matrix\u623f\u95f4\u4e2d\u7684\u4fe1\u606f)\u3002\u6211\u4eec\u8fd8\u9700\u8981\u66f4\u597d\u7684\u5b89\u5168\u673a\u5236\uff0c\u4ee5\u907f\u514d\u4eba\u4eec\u5229\u7528\u7f51\u7edc\u7684\u533f\u540d\u6027\u8d28\u8fdb\u884c\u6ee5\u7528\uff0c\u4ece\u800c\u52a0\u5feb\u6211\u4eec\u4e3a\u4eca\u5929\u7684Matrix\u7f51\u7edc\u6240\u505a\u7684\u5de5\u4f5c\u3002\n\u6211\u4eec\u5bf9\u5f85P2P\u7684\u65b9\u5f0f\u662f\u201c\u7b28\u624b\u7b28\u811a\u4f46\u53c8\u5929\u624d\u201d\u7684\u65b9\u6cd5\uff0c\u5373\u5728Matrix\u5ba2\u6237\u7aef\u65c1\u8fb9\u6216\u5185\u90e8\u4f7f\u7528\u5bb6\u5ead\u670d\u52a1\u5668\u5e76\u5728\u5ba2\u6237\u673a\u4e0a\u8fd0\u884c\u5b83\u4eec-\u8fd9\u610f\u5473\u7740\u4efb\u4f55Matrix\u5ba2\u6237\u7aef\u90fd\u4e0d\u9700\u8981\u4efb\u4f55\u66f4\u6539\u5c31\u53ef\u4ee5\u4e0eP2P Matrix\u5bf9\u8bdd\uff0c\u56e0\u6b64P2P Matrix\u53ef\u4ee5\u7acb\u5373\u4eceRiot\u548c\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6240\u6709\u5de5\u4f5c\u4e2d\u53d7\u76ca\u3002\u56e0\u6b64\uff0cP2P\u4e5f\u662f\u5f00\u53d1\u80fd\u591f\u5728\u5ba2\u6237\u7aef\u9ad8\u6548\u8fd0\u884c\u7684\u5c0f\u5f97\u591a\u7684\u5bb6\u5ead\u670d\u52a1\u5668\u7684\u5de8\u5927\u52a8\u529b(\u4f8b\u5982Dendrite\uff01)--\u8fd9\u5bf9Matrix\u6574\u4f53\u6765\u8bf4\u5f53\u7136\u662f\u4e2a\u597d\u6d88\u606f\u3002\u5b83\u8fd8\u8feb\u4f7f\u6211\u4eec\u5f00\u53d1\u66f4\u5177\u4f38\u7f29\u6027\u7684\u8def\u7531\u7b97\u6cd5(\u56e0\u4e3a\u60a8\u4e0d\u5e0c\u671b\u60a8\u7684\u5ba2\u6237\u7aef\u5728\u6bcf\u6b21\u53d1\u9001\u6d88\u606f\u65f6\u90fd\u5fc5\u987b\u4e0e\u623f\u95f4\u4e2d\u7684\u6240\u6709\u5176\u4ed6\u8bbe\u5907\u4ea4\u8c08\uff01)\u3002\u8fd9\u4e5f\u523a\u6fc0\u4e86\u4f4e\u5e26\u5bbd\u77e9\u9635\u4f20\u8f93\u7684\u53d1\u5c55(\u56e0\u4e3a\u60a8\u4e0d\u5e0c\u671b\u4e0e\u591a\u4e2a\u5bf9\u7b49\u70b9\u4ea4\u8c08\u7684\u989d\u5916\u558b\u558b\u4e0d\u4f11\u4f1a\u5360\u7528\u60a8\u7684\u6240\u6709\u5e26\u5bbd)\u3002\u6700\u540e\uff0c\u5b83\u8feb\u4f7f\u6211\u4eec\u771f\u6b63\u52a0\u56fa\u8054\u90a6\uff0c\u56e0\u4e3a\u8282\u70b9\u4e0d\u65ad\u51fa\u73b0\u548c\u6d88\u5931\uff0c\u8fd9\u7ed9\u8054\u90a6\u5e26\u6765\u4e86\u6bd4\u6211\u4eec\u4eca\u5929\u770b\u5230\u7684\u76f8\u5bf9\u9759\u6001\u7684\u4e3b\u670d\u52a1\u5668\u66f4\u591a\u7684\u538b\u529b\u6d4b\u8bd5\u3002\n\u56e0\u6b64\uff0c\u5728\u8fc7\u53bb\u7684\u51e0\u4e2a\u6708\u91cc\uff0cP2P\u4e00\u76f4\u5728\u4e3a\u6211\u4eec\u7684\u8bb8\u591a\u957f\u671fMatrix\u5de5\u4f5c\u63d0\u4f9b\u71c3\u6599\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u5df2\u7ecf\u8fdb\u884c\u4e86\u4e09\u4e2a\u4e3b\u8981\u7684\u5b9e\u9a8c\uff1a\u5728FOSDEM\u4e0a\uff0c\u6211\u4eec\u5c55\u793a\u4e86\u4f7f\u7528HTTP over libp2p\u4f5c\u4e3a\u4f20\u8f93\u6765\u8fd0\u884c\u6211\u4eec\u7684\u4e0b\u4e00\u4ee3Dendrite\u4e3b\u670d\u52a1\u5668\u8fd0\u884c\u5ba2\u6237\u7aef\u3002\u6211\u4eec\u8fd8\u91cd\u70b9\u4ecb\u7ecd\u4e86Timoth\u00e9e Flowe\u5728EPFL\u7684\u9879\u76ee\uff0c\u8be5\u9879\u76ee\u5c1d\u8bd5\u4f7f\u7528Synapse\u901a\u8fc7Yggdrasil\u4e0eP2P CoAP\u5bf9\u8bdd\uff0c\u4f5c\u4e3a\u901a\u8fc7\u4ee3\u7406\u7684\u4f20\u8f93\u3002\n\u7136\u800c\uff0c\u6700\u8fd1\u6211\u4eec\u4e00\u76f4\u5728\u8bd5\u9a8c\u5c06Dendrite\u7f16\u8bd1\u6210Web Assembly\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a\u670d\u52a1\u5de5\u4f5c\u8005\u5d4c\u5165\u5230Riot Web\u4e2d\u8fd0\u884c\uff0c\u4f7f\u7528HTTP over libp2p\u7684websocket\u4f20\u8f93(\u901a\u8fc7websocket\u96c6\u5408\u670d\u52a1\u5668\u8fdb\u884c\u534f\u8c03)\u3002\u4ece\u67b6\u6784\u4e0a\u770b\uff0c\u5b83\u770b\u8d77\u6765\u662f\u8fd9\u6837\u7684\uff1a\n\u4eca\u5929\uff0c\u6211\u4eec\u5728https://p2p.riot.im\u4e0a\u53d1\u5e03\u4e86\u8fd9\u4e2aP2P\u6f14\u793a\u7684\u4e00\u4e2a\u91cd\u8981\u7684\u65b0\u7684Alpha\u7248\u672c(\u9700\u8981\u684c\u9762Chrome\u6216\u706b\u72d0\u5728\u975e\u79c1\u4eba\u6d4f\u89c8\u6a21\u5f0f\u4e0b)--\u5e0c\u671b\u5b83\u80fd\u7ed9\u6211\u4eec\u4e00\u4e2a\u771f\u6b63\u6709\u7528\u548c\u5177\u4f53\u7684\u4f53\u9a8c\u3002\n\u60a8\u7684\u5bf9\u8bdd\u73b0\u5728\u4fdd\u5b58\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u5b58\u50a8\u4e2d(\u901a\u8fc7IndexedDB)\uff0c\u8fd9\u610f\u5473\u7740\u53ea\u8981\u53c2\u4e0e\u7ed9\u5b9a\u5bf9\u8bdd\u7684\u6240\u6709\u6d4f\u89c8\u5668\u4e0d\u6e05\u9664\u5176\u672c\u5730\u5b58\u50a8\uff0cP2P\u7f51\u7edc\u4e0a\u7684\u623f\u95f4\u5c31\u4f1a\u4e00\u76f4\u5b58\u5728\uff01\n\u60a8\u7684\u623f\u95f4\u76ee\u5f55\u5217\u51fa\u4e86\u7f51\u7edc\u4e0a\u6d3b\u52a8\u8282\u70b9\u53d1\u5e03\u7684\u6240\u6709\u623f\u95f4\u7684\u6240\u6709\u522b\u540d\u3002\u6b64\u5916\uff0c\u6211\u4eec\u73b0\u5728\u4f1a\u5728\u60a8\u52a0\u5165\u516c\u5171\u623f\u95f4\u65f6\u81ea\u52a8\u53d1\u5e03\u672c\u5730\u623f\u95f4\u522b\u540d\uff0c\u8fd9\u6837\u5373\u4f7f\u6700\u521d\u521b\u5efa\u522b\u540d\u7684\u670d\u52a1\u5668\u5df2\u7ecf\u6d88\u5931\uff0c\u5176\u4ed6\u4eba\u4e5f\u53ef\u4ee5\u901a\u8fc7\u60a8\u53d1\u73b0\u8be5\u623f\u95f4\u3002\n\u8282\u70b9\u4e4b\u95f4\u7684\u8054\u5408\u6539\u8fdb\u975e\u5e38\u591a-\u4f8b\u5982\uff0c\u5f53\u4e00\u4e2a\u8282\u70b9\u8054\u673a\u65f6\uff0c\u5176\u4ed6\u8282\u70b9\u73b0\u5728\u5e94\u8be5\u81ea\u52a8\u68c0\u6d4b\u5e76\u5411\u5176\u53d1\u9001\u56de\u6eda\u3002\u9080\u8bf7\u5e94\u8be5\u4f1a\u8d77\u4f5c\u7528\uff0c\u800c\u4e14\u5e94\u8be5\u4e0d\u4f1a\u518d\u6709\u4efb\u4f55\u610f\u5916\u7684\u5bc6\u6587\u3002\n\u4e0d\u7528\u8bf4\uff0c\u8fd9\u65b9\u9762\u7684\u6240\u6709\u4ee3\u7801\u90fd\u662fApache\u8bb8\u53ef\u4e0b\u7684\u5f00\u6e90\u4ee3\u7801\uff0c\u5982\u679c\u60a8\u89c9\u5f97\u7279\u522b\u5192\u9669\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528https://github.com/matrix-org/dendrite/blob/master/build/docker/DendriteJS.Dockerfile\u4e0a\u7684Docker\u6587\u4ef6\u6216\u9075\u5faahttps://github.com/matrix-org/dendrite/blob/master/docs/p2p.md.\u4e0a\u7684\u8bf4\u660e\u5c06\u60a8\u81ea\u5df1\u7684P2P Dendrite\u5d4c\u5165\u5230Riot Web\u4e2d\u3002\n\u6700\u540e\uff0c\u8bf7\u7406\u89e3\uff0c\u6f14\u793a\u5f88\u53ef\u80fd\u4e0d\u662fP2P Matrix\u6700\u7ec8\u7248\u672c\u7684\u6837\u5b50-\u8fd9\u53ea\u662f\u6211\u4eec\u8c03\u67e5\u6700\u4f73\u524d\u8fdb\u9014\u5f84\u7684\u4e00\u7cfb\u5217\u5b9e\u9a8c\u4e2d\u7684\u4e00\u4e2a\u6b65\u9aa4\uff1a)\u3002\n\u66f4\u591a\u7684\u8054\u90a6\u8c03\u8bd5(\u4ee5\u53ca\u6302\u63a5\u5728Tardis\u4e2d\uff0c\u5e76\u5199\u4e0b\u6211\u4eec\u5728Dendrite\u4e2d\u5b9e\u73b0\u8054\u90a6\u7684\u6240\u6709\u77e5\u8bc6\uff01)\u3002\n\u5728Dendrite\u4e2d\u8fde\u63a5E2E\u52a0\u5bc6API(\u8fd9\u5e76\u4e0d\u662f\u8bf4\u5728\u7eafP2P\u4e16\u754c\u4e2d\u5b83\u80fd\u7ed9\u6211\u4eec\u5e26\u6765\u5f88\u591a\u597d\u5904)\nWebRTC\u4f20\u8f93\u3002\u539f\u6765\u670d\u52a1\u4eba\u5458\u4e0d\u5141\u8bb8\u4f7f\u7528WebRTC\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u901a\u8fc7\u586b\u9699\u8fde\u63a5\u5230Riot\u624d\u80fd\u4f7f\u7528\u771f\u6b63\u7684\u70b9\u5bf9\u70b9WebRTC\u6570\u636e\u901a\u9053\uff0c\u800c\u4e0d\u662f\u901a\u8fc7WebSocket\u96c6\u5408\u670d\u52a1\u5668\u4e2d\u7ee7\u6240\u6709\u6d41\u91cf\u3002\n\u9664\u6b64\u4e4b\u5916\uff0c\u5728\u672a\u6765\u7684\u5b9e\u9a8c\u4e2d\u8fd8\u6709\u4e00\u4e9b\u66f4\u5927\u7684\u95ee\u9898\u6709\u5f85\u56de\u7b54\u3002\n\u9996\u5148\uff1a\u6211\u4eec\u8fd8\u6ca1\u6709\u4e00\u4e2a\u201c\u5b58\u50a8\u8f6c\u53d1\u201d\u8282\u70b9\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ef\u4ee5\u5728\u6240\u6709\u53c2\u4e0e\u8bbe\u5907\u90fd\u79bb\u7ebf\u7684\u60c5\u51b5\u4e0b\u4ee3\u8868\u623f\u95f4\u4e2d\u7ee7\u6d88\u606f\u3002\u7b2c\u4e00\u6b65\u662f\u8fd0\u884c\u652f\u6301P2P\u7684\u5bb6\u5ead\u670d\u52a1\u5668\u7aef\uff0c\u4f46\u968f\u540e\u5143\u6570\u636e\u5c06\u5f00\u59cb\u4e3a\u5176\u6258\u7ba1\u7684\u4f1a\u8bdd\u79ef\u7d2f\u670d\u52a1\u5668\u7aef\u3002\u4e00\u79cd\u66f4\u6709\u8da3\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u5b58\u50a8\u8f6c\u53d1\u7cfb\u7edf\uff0c\u8be5\u7cfb\u7edf\u6df7\u6dc6\u4e86\u8c01\u5728\u4e0e\u8c01\u4ea4\u8c08\uff0c\u4f8b\u5982\u6df7\u5408\u7f51\u7edc\uff0c\u751a\u81f3\u53ef\u80fd\u63d0\u4f9b\u5bf9\u7f51\u7edc\u6d41\u91cf\u6a21\u5f0f\u5206\u6790\u7684\u963b\u529b\u3002\u8fd9\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u4e00\u4e2a\u975e\u5e38\u5f00\u653e\u7684\u7814\u7a76\u9886\u57df\uff0c\u4f46\u6211\u4eec\u6b63\u5728\u8fdb\u5165\uff1ad\u3002\n\u5176\u6b21\uff1a\u6211\u4eec\u5e0c\u671b\u66f4\u591a\u5730\u5c1d\u8bd5\u5176\u4ed6\u4f20\u8f93\u65b9\u5f0f\uff0c\u5e76\u627e\u51fa\u54ea\u79cd\u65b9\u5f0f\u6700\u9002\u5408Matrix\u3002libp2p\u6709\u4e00\u4e9b\u975e\u5e38\u4ee4\u4eba\u5174\u594b\u7684\u65b0\u4e1c\u897f\uff0c\u5b83\u7684\u5f62\u5f0f\u662fGossipsubv1.1--\u5728libp2p\u4e2d\u4e3apubsub\u6d41\u91cf\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u667a\u80fd\u7684\u8def\u7531\u7b97\u6cd5\uff0cDavid Dias\u5728\u7b2c\u4e00\u5c4aOpen Tech Will Save us Meetup\u4e0a\u7ed9\u6211\u4eec\u505a\u4e86\u4e00\u4e2a\u8d35\u5bbe\u4e4b\u65c5\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5c06libp2p\u4f20\u8f93\u91cd\u65b0\u6784\u9020\u4e3apubsub\uff0c\u770b\u770b\u5b83\u5728\u5b9e\u8df5\u4e2d\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u60f3\u5c1d\u8bd5\u5c06Yggdrasil(\u52a0\u5bc6\u8986\u76d6\u7f51\u7edc)\u4f5c\u4e3a\u4e00\u79cd\u5b8c\u5168\u4e0d\u540c\u7684\u4f20\u8f93\u65b9\u5f0f--Yggdrasil\u5f88\u5bb9\u6613\u8ba9\u6211\u4eec\u8de8\u8d8a\u4e0d\u540c\u7684\u5e95\u5c42\u7f51\u7edc\u4f20\u8f93\uff0c\u4f46\u4e5f\u6709\u4e0d\u540c\u7684\u6743\u8861(\u4f8b\u5982\uff0c\u76ee\u524d\u8fd8\u4e0d\u652f\u6301\u6d4f\u89c8\u5668)\u3002\u6211\u4eec\u8fd8\u60f3\u770b\u770bDAT/\u8d85\u7ea7\u6838\u5fc3/\u8d85\u7ea7\u6838\u5fc3/\u8d85\u6e29\u6696/\u9634\u8c0b\u751f\u6001\u7cfb\u7edf\uff0c\u770b\u770b\u662f\u5426\u5b58\u5728\u5339\u914d\u9879\uff1a)\u3002\n\u7b2c\u4e09\uff0c\u4e5f\u662f\u6700\u540e\u4e00\u70b9\uff1a\u6211\u4eec\u663e\u7136\u5e0c\u671b\u5c06\u65b0\u7684P2P\u77e9\u9635\u7f51\u7edc\u4e0e\u4eca\u5929\u7684\u8054\u5408\u7f51\u7edc\u7edf\u4e00\u8d77\u6765\u3002\u7406\u60f3\u7684\u7ed3\u679c\u662f\u5efa\u7acb\u4e00\u79cd\u6df7\u5408\u6a21\u5f0f\uff0c\u5e0c\u671b\u7528\u6237\u62e5\u6709\u4e13\u95e8\u7684\u5bb6\u5ead\u670d\u52a1\u5668(\u5728\u53ef\u7528\u6027\u3001IT\u7b56\u7565\u7b49\u65b9\u9762)\u7684\u56e2\u961f\u53ef\u4ee5\u50cf\u4eca\u5929\u4e00\u6837\u7ee7\u7eed\u62e5\u6709\u4e00\u4e2a--\u4f46\u521a\u521a\u5b89\u88c5\u4e86Riot\u7684\u65b0\u624b\u5c06\u4f1a\u5728P2P\u4e0a\u56db\u5904\u6f02\u6d6e\uff0c\u9664\u975e\u4ed6\u4eec\u51b3\u5b9a\u6709\u610f\u8bc6\u5730\u5728\u4e00\u4e24\u53f0\u670d\u52a1\u5668\u4e0a\u624e\u6839\u3002\u6700\u68d2\u7684\u662f\uff0c\u5b83\u5c06\u8ba9\u6211\u4eec\u5173\u95edmatrix.org home server\uff1a\u6700\u597d\u7684\u516c\u5171home server\u662f\u60a8\u81ea\u5df1\u5728\u81ea\u5df1\u7684\u624b\u673a\u4e0a\u8fd0\u884c\u7684\u670d\u52a1\u5668\uff1b)\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u6211\u4eec\u8fde\u63a5P2P\u548c\u4eca\u5929\u7684Matrix\u6240\u91c7\u53d6\u7684\u65b9\u6cd5\u5c06\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u51b3\u4e8e\u6211\u4eec\u4e3aP2P\u9009\u62e9\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u4f46\u4eca\u5929\u7684home server\u5f88\u53ef\u80fd\u4f1a\u6d8c\u73b0\u51fa\u8fde\u63a5\u7f51\u7edc\u7684P2P\u7f51\u5173\u3002\n\u6240\u4ee5\uff0c\u73b0\u5728\u4f60\u5c31\u77e5\u9053\u4e86\u3002P2P Matrix\u7684\u5b58\u5728\uff0c\u6b63\u5728\u4ee5\u60ca\u4eba\u7684\u901f\u5ea6\u53d1\u5c55\uff0c\u5e76\u63a8\u52a8\u7740\u6811\u679d\u6676\u7684\u53d1\u5c55\u3002\u6700\u4ee4\u4eba\u5174\u594b\u7684\u662f\uff0cP2P\u7684Matrix\u89c4\u8303\u8fd8\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\uff1b\u6211\u4eec\u53ea\u662f\u5c06https\u66ff\u6362\u4e3ahttp-over-libp2p\u4f5c\u4e3a\u4f20\u8f93\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5728P2P\u4e16\u754c\u4e2d\u8ba9Dendrite\u5de5\u4f5c\u7684\u6240\u6709\u5de5\u4f5c\u90fd\u76f4\u63a5\u8f6c\u5316\u4e3a\u8ba9Dendrite\u5728\u4eca\u5929\u7684Matrix\u4e0a\u5de5\u4f5c\u3002\u73b0\u5728\u4f60\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2aDendrite\uff0c\u8ba9\u5b83\u4e0e\u66f4\u5e7f\u6cdb\u7684Matrix\u7f51\u7edc\u76f8\u5f53\u53ef\u9760\u5730\u8054\u5408\u8d77\u6765\uff0c\u5c3d\u7ba1\u6211\u4eec\u4ecd\u5728\u5306\u5fd9\u5b9e\u73b0API(\u6211\u4eec\u5df2\u7ecf\u901a\u8fc7\u4e86\u9ad8\u8fbe35%\u7684\u7cfb\u7edf\u6d4b\u8bd5\u8986\u76d6-\u5c3d\u7ba1\u8fd935%\u786e\u5b9e\u5305\u542b\u4e86\u5927\u591a\u6570\u91cd\u8981\u7684\u6d4b\u8bd5\uff1a)\u3002\n\u6700\u540e\uff0c\u5982\u679c\u60a8\u62c5\u5fc3Matrix\u6838\u5fc3\u56e2\u961f\u4e3a\u4ec0\u4e48\u4e0d\u53bb\u8ffd\u9010P2P\u68a6\u60f3\uff0c\u800c\u4e0d\u662f\u6539\u8fdbRiot\u7684UX\uff0c\u6216\u5b9e\u73b0\u793e\u533a\uff0c\u6216\u53ef\u6269\u5c55\u914d\u7f6e\u6587\u4ef6\uff0c\u6216\u5904\u7406MSC\u79ef\u538b\u5de5\u4f5c\u7b49\u3002\u5b9e\u9645\u4e0a\uff0c\u53ea\u6709\u4e24\u4e2a\u4eba(\u5ffd\u7565\u4e86Matthew)\u4e00\u76f4\u81f4\u529b\u4e8eP2P-Neil Alexander(\u6700\u521dFOSDEM\u6f14\u793a\u7684\u4f5c\u8005\uff0cDendrite wrangler\u548cYggdrasil\u8054\u5408\u7ef4\u62a4\u8005)\u548cKegan Dougal(\u6700\u521dMatrix\u5f00\u53d1\u56e2\u961f\u7684\u6210\u5458\uff0cDendrite\u7684\u539f\u59cb\u4f5c\u8005\u4e4b\u4e00\uff0c\u73b0\u5728\u4e5f\u5728\u4e3aWASM P2P\u5de5\u4f5c\u4e89\u5435)\u3002\u975e\u5e38\u611f\u8c22Kegan&Amp\uff1bNeil\u63a8\u52a8P2P\u5411\u524d\u53d1\u5c55-\u4e5f\u975e\u5e38\u611f\u8c22\u6838\u5fc3\u56e2\u961f\u4e2d\u7684\u5176\u4ed6\u6bcf\u4e2a\u4eba\u548c\u66f4\u5e7f\u6cdb\u7684\u793e\u533a\uff0c\u8ba9\u4eca\u5929\u7684Matrix\u4fdd\u6301\u8fdb\u6b65\uff01\n\\\u5e0c\u671b\u8fd9\u80fd\u8ba9\u6211\u4eec\u5bf9\u5373\u5c06\u5230\u6765\u7684\u4e8b\u7269\u6709\u4e00\u4e2a\u8bf1\u4eba\u7684\u4e00\u77a5\u3002\u8001\u5b9e\u8bf4\uff0c\u5f53\u6211\u4eec\u57282014\u5e74\u521b\u529eMatrix\u65f6\uff0c\u4ece\u672a\u60f3\u8fc7\u6211\u4eec\u4f1a\u8d70\u5f97\u8fd9\u4e48\u8fdc\uff0c\u4f46\u6700\u7ec8\u8d76\u4e0a\u672a\u6765\u771f\u7684\u5f88\u6709\u8da3\uff1aD\n\u53e6\u5916\uff0c\u4f60\u53ef\u4ee5\u5728\u5c3c\u5c14\u00b7\u4e9a\u5386\u5c71\u5927\u7684\u535a\u5ba2\u4e0a\u4ece\u4ed6\u7684\u89c2\u70b9\u4e2d\u4e86\u89e3\u5230\u66f4\u591a\u5173\u4e8e\u8fd9\u4e00\u70b9\u7684\u4fe1\u606f(\u5305\u62ec\u66f4\u591a\u5173\u4e8eYggdrasil\u6f5c\u5728\u6f14\u793a\u7684\u60f3\u6cd5\uff01)", "note_en": "TL;DR: we shipped a major update to  https://p2p.riot.im - fire up a desktop Chrome or Firefox in not-private-browsing mode and give it a go!\n  As many know by now, a few of us have been working away since mid-December on experimenting with running Matrix in a peer-to-peer architecture - one where every user has absolute total autonomy and ownership of their conversations, because the only place their conversations exist is on the devices they own.\n In some ways this is the logical end goal of Matrix: our aim has always been to empower users to have full control over their communication rather than being beholden to any given service provider, and in a P2P world we completely return power over secure communication to the people.\n  P2P Matrix is about more than just letting users store their own conversations: it can also avoid dependencies on the Internet itself by working over local networks, mesh networks, or situations where the Internet has been cut off. Even more interestingly, without homeservers, there is nowhere for metadata to accumulate about who is talking to who, and when - which is a legitimate complaint about today\u2019s Matrix network, given the homeservers of all users in a given conversation necessarily have to store that conversation\u2019s metadata. P2P also lets us radically simplify signup for new users if they don\u2019t have to pick a server to get going - and we avoid the unintentional centralisation of users piling onto public servers.\n P2P also forces us to solve many of the hardest remaining problems in Matrix: e.g multi-homed accounts, given multi-device P2P requires your account to exist in multiple places. This in turn unlocks high availability and geo-redundancy for accounts on today\u2019s Matrix network (imagine having a primary and backup homeserver that magically did the right thing!), as well as account portability, and thus also vhosting and load-balancing accounts between servers, and even improved GDPR compliance (for if your user IDs are ephemeral they are no longer personally identifying information baked into your Matrix rooms). We\u2019ll also need better safety mechanisms to avoid folks exploiting the anonymous nature of the network for abuse, accelerating the work we\u2019re already doing for today\u2019s Matrix network.\n The way we\u2019ve been approaching P2P is the \u201c hamfisted but genius\u201d approach of taking homeservers and running them on the client, alongside or within your Matrix client - meaning that there are literally  no changes required for any Matrix client to talk P2P Matrix, and so P2P Matrix can instantly benefit from all the work which has gone into Riot and other apps. As a result, P2P is also a huge motivator towards developing much smaller homeservers which can run efficiently clientside (e.g. Dendrite!) - which is of course great news for Matrix as a whole. It also forces us to develop more scalable routing algorithms (as you don\u2019t want your client to have to talk to every other device in a room every time it sends a message!) and also spurs development of low bandwidth Matrix transports (as you don\u2019t want the additional chatter of talking to multiple peers to consume all your bandwidth). Finally, it forces us to really ruggedize federation, given nodes are constantly appearing and disappearing, giving the federation much more of a stress test than we see with today\u2019s relatively static homeservers.\n  So, P2P has been acting as fuel for a lot of our longer term Matrix work over the last few months. There have been three main experiments so far: at  FOSDEM we showed off running our next-gen Dendrite homeserver running clientside using HTTP over  libp2p as the transport. We also highlighted Timoth\u00e9e Floure\u2019s  project at EPFL experimenting with Synapse talking P2P CoAP over yggdrasil as the transport via a proxy.\n Most recently, however, we\u2019ve been experimenting with compiling Dendrite down to Web Assembly and running it embedded in Riot Web as a Service Worker, using HTTP over libp2p\u2019s websocket transport (coordinated via a websocket rendezvous server). Architecturally, it looks like this:\n  Today, we\u2019re shipping a major new alpha of this P2P demo up at  https://p2p.riot.im (requires desktop Chrome or Firefox in non-private-browsing mode) - which hopefully should give a really usable and concrete taste of the shape of things to come.\n  Your conversations are now persisted in your browser storage (via IndexedDB), meaning that as long as all the browsers participating in a given conversation don\u2019t clear their local storage, rooms on the P2P network are here to stay!\n Your room directory lists all the aliases for all the rooms published by active nodes on the network. Moreover, we now automatically publish a local room alias whenever you join a public room, so that others will be able to discover that room via you, even if the server who originally created the alias has disappeared.\n Lots and lots of federation improvements between the nodes - for instance, when a node comes online, others should now automatically detect and send scrollback to it. Invites should work, and there should no longer be any unexpectedly redacted messages.\n Needless to say, all the code for this is open source under the Apache license, and if you\u2019re feeling particularly adventurous you can embed your very own P2P Dendrite into Riot Web by using the Dockerfile at  https://github.com/matrix-org/dendrite/blob/master/build/docker/DendriteJS.Dockerfile or following the instructions at  https://github.com/matrix-org/dendrite/blob/master/docs/p2p.md.\n  Finally, please understand that the demo is very likely  not what the final version of P2P Matrix will look like - this is just one step in a series of experiments as we investigate the best paths forward :)\n   More federation debugging (and hooking in  tardis and writing up everything we\u2019ve learned about implementing federation in Dendrite!)\n  Hooking up E2E Encryption APIs in Dendrite (not that it buys us much in a pure P2P world)\n WebRTC transports. Turns out that service workers aren\u2019t allowed to speak WebRTC, so we\u2019ll have to shim through to Riot to speak true peer-to-peer WebRTC data channels rather than relaying all the traffic through the websocket rendezvous server.\n Beyond this, there are some bigger picture questions left to be answered in future experiments.\n Firstly: we do not yet have a solution for \u201cstore and forward\u201d nodes which can relay messages on behalf of a room if all the participating devices are offline. A first cut will be to run a P2P-capable homeserver server-side for this, but then metadata will start to accumulate server-side for the conversations it hosts. A more interesting approach would be to use a store and forward system which obfuscates who is talking to who, such as a mixnet, and could even provide resistance to network traffic pattern analysis. This is very much an open area of research, but one we are getting into :D\n Secondly: we want to experiment more with other transports, and find out which works best for Matrix. Libp2p has some really exciting new stuff in the form of  Gossipsub v1.1 - a much smarter routing algorithm for pubsub traffic in libp2p, which David Dias gave us a  VIP tour of at the first Open Tech Will Save Us meetup. So we\u2019ll need to restructure our libp2p transport as pubsub to see how it works in practice. Separately, we also want to play with hooking up  Yggdrasil (the encrypted overlay network) as a transport as a totally different approach - Yggdrasil will easily let us span different underlying network transports, but comes with different tradeoffs (e.g. no browser support yet). We also want to take a look at the  DAT /  hypercore /  hyperswarm /  Cabal ecosystem to see if there\u2019s a match :)\n Thirdly and finally: we obviously want to unify the new P2P Matrix network with today\u2019s federated one. The ideal outcome here would be to have a hybrid model, where teams who want their users to have a dedicated homeserver (for availability, IT policies, etc) can continue to have one as they do today - but newbies who have just installed Riot would float around on P2P unless they decided to consciously put down roots on a server or two. Best of all, it would let us turn off the matrix.org homeserver: the best public homeserver is one you run yourself on your own phone ;) The approach we take for linking P2P and today\u2019s Matrix will depend very much on the transport we select for P2P in the long run, but the likelihood is that today\u2019s homeservers will sprout P2P gateways to link the networks.\n  So, there you have it. P2P Matrix exists, and is developing at an alarming speed - and pushing Dendrite development along with it. Most excitingly, there have been no changes yet to the Matrix spec for P2P at all; we\u2019ve just swapped https for http-over-libp2p as the transport. So  all of the work we\u2019ve been doing making Dendrite work in a P2P world has directly translated into making Dendrite work on today\u2019s Matrix too You can now stand up a Dendrite and have it federate pretty reliably with the wider Matrix network, although we\u2019re still rushing through implementing APIs (we\u2019re up to 35% passing  sytest coverage - although that 35% does contain most of the important tests :)\n Finally, in case you\u2019re worried about why the Matrix core team is off chasing P2P dreams rather than improving Riot\u2019s UX, or implementing Communities, or Extensible Profiles, or working through the MSC backlog etc... in practice only two people (ignoring Matthew) have been working on P2P - Neil Alexander (author of the original FOSDEM demo, Dendrite wrangler and Yggdrasil co-maintainer) and Kegan Dougal (of the original Matrix dev team, one of the original authors of Dendrite, and now wrangling the WASM P2P work too). Huge thanks to Kegan &amp; Neil for pushing P2P forwards - and huge thanks to everyone else on the core team and the wider community for keeping today\u2019s Matrix advancing too!\n \\Hope this has given a tempting glimpse of the shape of things to come. Honestly we never thought we\u2019d get as far as P2P when we started Matrix back in 2014, but it\u2019s really fun to be finally catching up with the future :D\n  P.S. You can read more about this from Neil Alexander\u2019s point of view  over at his blog (including more thoughts on the potential Yggdrasil demo!)", "posttime": "2020-06-03 02:38:28", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "p2p", "title": "P2P\u77e9\u9635", "title_en": "P2P Matrix", "transed": 1, "url": "https://matrix.org/blog/2020/06/02/introducing-p-2-p-matrix", "via": "", "real_tags": ["p2p"]}, {"category": "", "categoryclass": "", "imagename": "99cb95cd21aaffe984209a58bbceda0b.jpg", "infoid": 1004876, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5468\u4e00\uff0c\u4e09\u4f4d\u6c11\u6743\u9886\u8896\u5728\u4e0eFacebook\u9996\u5e2d\u6267\u884c\u5b98\u9a6c\u514b\u00b7\u624e\u514b\u4f2f\u683c\u548c\u5176\u4ed6\u9ad8\u7ba1\u4f1a\u9762\u540e\uff0c\u53d1\u8868\u4e86\u4e00\u4efd\u4e25\u5389\u7684\u58f0\u660e\uff0c\u8ba8\u8bba\u8fd9\u5bb6\u793e\u4ea4\u7f51\u7edc\u51b3\u5b9a\u4e0d\u63a5\u53d7\u7279\u6717\u666e\u603b\u7edf\u7684\u8a00\u8bba\uff0c\u4ed6\u4eec\u8868\u793a\uff0c\u8fd9\u76f8\u5f53\u4e8e\u547c\u5401\u66b4\u529b\u548c\u538b\u5236\u9009\u6c11\u3002\n\u91cd\u8981\u539f\u56e0\uff1a\u867d\u7136Twitter\u5df2\u7ecf\u6807\u8bb0\u4e86\u603b\u7edf\u7684\u4e24\u6761\u63a8\u6587\uff0c\u4e00\u6761\u662f\u5173\u4e8e\u90ae\u5bc4\u6295\u7968\u7a0b\u5e8f\u7684\u6f5c\u5728\u8bef\u5bfc\u6027\uff0c\u53e6\u4e00\u6761\u662f\u7f8e\u5316\u66b4\u529b\u7684\uff0c\u4f46Facebook\u6ca1\u6709\u53d1\u5e03\u8fd9\u4e9b\u5e16\u5b50\u548c\u5176\u4ed6\u5e16\u5b50\uff0c\u9996\u5e2d\u6267\u884c\u5b98\u9a6c\u514b\u00b7\u624e\u514b\u4f2f\u683c(Mark Zuckerberg)\u8868\u793a\uff0c\u4ed6\u4e0d\u60f3\u6210\u4e3a\u771f\u76f8\u7684\u4ef2\u88c1\u8005\u3002\n\u8fd9\u6b21\u4f1a\u8bae\u662f\u5728\u5468\u4e00\u665a\u4e0a\u901a\u8fc7\u89c6\u9891\u901a\u8bdd\u4e3e\u884c\u7684\uff0c\u6b64\u524d\u4e00\u5929\uff0cFacebook\u7684\u5458\u5de5\u4e3e\u884c\u4e86\u4e00\u573a\u865a\u62df\u7f62\u5de5\uff0c\u8bb8\u591a\u4eba\u5728\u5185\u90e8\u7559\u8a00\u677f\u4e0a\u6279\u8bc4\u8be5\u516c\u53f8\uff0c\u76f8\u5f53\u591a\u7684\u4eba\u5728Twitter\u4e0a\u516c\u5f00\u6279\u8bc4\u8be5\u516c\u53f8\u3002\n\u4ed6\u4eec\u5728\u8bf4\u4ec0\u4e48\uff1a\u5728\u4e00\u4efd\u8054\u5408\u58f0\u660e\u4e2d\uff0c\u516c\u6c11\u4e0e\u4eba\u6743\u9886\u8896\u4f1a\u8bae\u3001NAACP\u6cd5\u5f8b\u8fa9\u62a4\u548c\u6559\u80b2\u57fa\u91d1\u4ee5\u53ca\u201c\u53d8\u9769\u4e4b\u8272\u201d\u7684\u8d1f\u8d23\u4eba\u8868\u793a\uff0c\u4ed6\u4eec\u5bf9\u9a6c\u514b\u5173\u4e8e\u5141\u8bb8\u7279\u6717\u666e\u5e16\u5b50\u7ee7\u7eed\u5b58\u5728\u7684\u4ee4\u4eba\u8d39\u89e3\u7684\u89e3\u91ca\u611f\u5230\u5931\u671b\u548c\u9707\u60ca\u3002\n\u4ed6\u6ca1\u6709\u8868\u73b0\u51fa\u5bf9\u5386\u53f2\u6216\u73b0\u4ee3\u9009\u6c11\u538b\u5236\u7684\u7406\u89e3\uff0c\u4ed6\u62d2\u7edd\u627f\u8ba4Facebook\u662f\u5982\u4f55\u4e3a\u7279\u6717\u666e\u547c\u5401\u5bf9\u6297\u8bae\u8005\u91c7\u53d6\u66b4\u529b\u884c\u52a8\u63d0\u4f9b\u4fbf\u5229\u7684\u3002\u9a6c\u514b\u5f00\u521b\u4e86\u4e00\u4e2a\u975e\u5e38\u5371\u9669\u7684\u5148\u4f8b\uff0c\u5176\u4ed6\u58f0\u97f3\u4e5f\u4f1a\u5728Facebook\u4e0a\u8bf4\u7c7b\u4f3c\u7684\u4f24\u5bb3\u6027\u8a00\u8bba\u3002\u201c\u3002\n-\u74e6\u59ae\u5854\u00b7\u53e4\u666e\u5854(Vanita Gupta)\u3001\u8c22\u91cc\u7433\u00b7\u4f0a\u83f2\u5c14(Sherrilyn Iill)\u548c\u62c9\u6c99\u5fb7\u00b7\u7f57\u5bbe\u900a(Rashad Robinson)\u5728\u4e00\u4efd\u8054\u5408\u58f0\u660e\u4e2d\u8868\u793a\uff0cFacebook\u5bf9\u6c11\u6743\u793e\u533a\u7684\u9886\u5bfc\u4eba\u82b1\u65f6\u95f4\u5206\u4eab\u5766\u7387\u3001\u8bda\u5b9e\u7684\u53cd\u9988\u8868\u793a\u611f\u8c22\uff0c\u5e76\u8868\u793a\u8fd9\u662f\u503e\u542c\u7684\u91cd\u8981\u65f6\u523b\uff0c\u6211\u4eec\u671f\u5f85\u7740\u7ee7\u7eed\u8fd9\u4e9b\u5bf9\u8bdd\u3002\n\u9664\u4e86\u624e\u514b\u4f2f\u683c\uff0cFacebook\u7684\u9996\u5e2d\u8fd0\u8425\u5b98\u8c22\u4e3d\u5c14\u00b7\u6851\u5fb7\u4f2f\u683c(Sheryl Sandberg)\u3001\u9996\u5e2d\u653f\u7b56\u5b98\u5c3c\u514b\u00b7\u514b\u83b1\u683c(Nick Clegg)\u4ee5\u53caDC\u653f\u7b56\u4e3b\u7ba1\u4e54\u5c14\u00b7\u5361\u666e\u5170(Joel Kaplan)\u548c\u5bf9\u5916\u4e8b\u52a1\u603b\u76d1\u6797\u8d5b\u00b7\u57c3\u6797(Lindsay Elin)\u4e5f\u5728\u7535\u8bdd\u4f1a\u8bae\u4e0a\u3002", "note_en": "A trio of civil rights leaders issued a blistering statement Monday following a meeting with Facebook CEO Mark Zuckerberg and other top executives to discuss the social network&#39;s decision to leave up  comments from President Trump they say amount to calls for violence and voter suppression.\n Why it matters: While Twitter has flagged two of the president&#39;s Tweets, one for being potentially misleading about mail-in ballot procedures and another for glorifying violence, Facebook has left those and other posts up, with CEO Mark Zuckerberg saying he doesn&#39;t want to be the &#34;arbiter of truth.&#34;\n The meeting, held via video call on Monday night, followed a day in which employees at Facebook  staged a virtual walkout, with many criticizing the company on internal message boards and a significant number doing so publicly on Twitter.\n What they&#39;re saying: In a joint statement, the heads of The Leadership Conference on Civil and Human Rights, the NAACP Legal Defense and Educational Fund and Color of Change said they were &#34;disappointed and stunned by Mark&#39;s incomprehensible explanations for allowing the Trump posts to remain up.&#34;\n &#34;He did not demonstrate understanding of historic or modern-day voter suppression and he refuses to acknowledge how Facebook is facilitating Trump&#39;s call for violence against protesters. Mark is setting a very dangerous precedent for other voices who would say similar harmful things on Facebook.\u201d\n \u2014 Vanita Gupta, Sherrilyn Ifill and Rashad Robinson, in a joint statement Facebook, for its part, said it was &#34;grateful that leaders in the civil rights community took the time to share candid, honest feedback&#34; and said &#34;it is an important moment to listen, and we look forward to continuing these conversations.&#34;\n In addition to Zuckerberg, also on the call for Facebook were COO Sheryl Sandberg,\u00a0policy chief Nick Clegg, along with DC policy executive Joel Kaplan and external affairs director Lindsay Elin.", "posttime": "2020-06-03 02:38:15", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "facebook,\u6c11\u6743,rights", "title": "\u6c11\u6743\u9886\u8896\u5728\u4e0e\u624e\u514b\u4f2f\u683c\u4f1a\u9762\u540e\u62a8\u51fbFacebook", "title_en": "Civil rights leaders blast Facebook after meeting with Zuckerberg", "transed": 1, "url": "https://www.axios.com/civil-rights-leaders-blast-facebook-after-meeting-with-zuckerberg-63daa9dd-0209-4420-85d3-805385825718.html", "via": "", "real_tags": ["facebook", "\u6c11\u6743", "rights"]}, {"category": "", "categoryclass": "", "imagename": "fc37a0b7cd69f91ae304c46d9548ba64.jpg", "infoid": 1004875, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u52a0\u5dde\u8fd9\u5ea7\u4f4e\u6536\u5165\u57ce\u5e02\u7684\u4e00\u9879\u5f00\u521b\u6027\u7684\u5168\u6c11\u57fa\u672c\u6536\u5165\u8bd5\u70b9\u8ba1\u5212\u5373\u5c06\u5230\u671f\u3002\u4f46\u51a0\u72b6\u75c5\u6bd2\u5371\u673a\u4e3a\u5ef6\u957f\u8fd9\u4e00\u671f\u9650\u63d0\u4f9b\u4e86\u7406\u7531\u3002", "note_en": "A pioneering universal basic income pilot in the low-income California city was scheduled to expire soon. But the coronavirus crisis made the case to extend it.", "posttime": "2020-06-03 02:38:01", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u652f\u4ed8,extends,\u5168\u6c11", "title": "\u65af\u6258\u514b\u987f\u5ef6\u957f\u4e86\u6bcf\u6708500\u7f8e\u5143\u7684UBI\u652f\u4ed8\u8bd5\u9a8c", "title_en": "Stockton Extends Its Monthly $500 UBI Payment Experiment", "transed": 1, "url": "https://www.citylab.com/equity/2020/06/ubi-stockton-universal-basic-income-coronavirus-economy/611191/", "via": "", "real_tags": ["\u652f\u4ed8", "extends", "\u5168\u6c11"]}, {"category": "", "categoryclass": "", "imagename": "2432570a222733c50f52f1c1f2027763.jpeg", "infoid": 1004874, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u201c\u867d\u7136\u5728\u67d0\u4e9b\u4e8b\u4ef6\u4e2d\uff0c\u8bb0\u8005\u53ef\u80fd\u88ab\u610f\u5916\u51fb\u4e2d\u6216\u5f71\u54cd\uff0c\u4f46\u5728\u6211\u4eec\u8bb0\u5f55\u7684\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8bb0\u8005\u663e\u7136\u53ef\u4ee5\u88ab\u8bc6\u522b\u4e3a\u5a92\u4f53\uff0c\u5f88\u660e\u663e\uff0c\u4ed6\u4eec\u662f\u6545\u610f\u6210\u4e3a\u76ee\u6807\u7684\u3002\u201d\n\u5728\u4e00\u540d\u767d\u4eba\u8b66\u5bdf\u6d89\u5acc\u8c0b\u6740\u9ed1\u4eba\u4e54\u6cbb\u00b7\u5f17\u6d1b\u4f0a\u5fb7\u4e00\u5468\u540e\uff0c\u9ed1\u4eba\u751f\u547d\u4e5f\u662f\u5982\u6b64\uff0c\u6297\u8bae\u6d3b\u52a8\u5728\u5168\u56fd\u8303\u56f4\u5185\u8513\u5ef6\uff0c\u5f88\u660e\u663e\uff0c\u8b66\u5bdf\u88ad\u51fb\u8bb0\u8005\u6b63\u5728\u6210\u4e3a\u4e00\u79cd\u666e\u904d\u7684\u6a21\u5f0f\uff0c\u800c\u4e0d\u662f\u4e00\u6b21\u6027\u7684\u4e8b\u4ef6\u3002\u5c3d\u7ba1\u4e0e\u9488\u5bf9\u6b63\u5728\u6297\u8bae\u7684\u7f8e\u56fd\u516c\u6c11\u7684\u66b4\u529b\u76f8\u6bd4\uff0c\u9488\u5bf9\u62a5\u9053\u6297\u8bae\u6d3b\u52a8\u7684\u6709\u5a92\u4f53\u8d44\u683c\u7684\u8bb0\u8005\u7684\u66b4\u529b\u884c\u4e3a\u53ef\u80fd\u4ecd\u7136\u76f8\u5f62\u89c1\u7ecc\uff0c\u4f46\u4e8b\u4ef6\u6b63\u5728\u5806\u79ef\u5982\u5c71-\u800c\u4e14\u6b63\u5728\u5f97\u5230\u66f4\u591a\u7684\u5173\u6ce8\uff0c\u90e8\u5206\u539f\u56e0\u662f\u53d7\u5230\u653b\u51fb\u7684\u8bb0\u8005\u5305\u62ec\u6765\u81ea\u5927\u578b\u4e3b\u6d41\u65b0\u95fb\u673a\u6784\u7684\u8bb0\u8005\u3002\n\u76ee\u524d\u6b63\u5728\u8fdb\u884c\u4e00\u7cfb\u5217\u52aa\u529b\uff0c\u8bd5\u56fe\u8ffd\u8e2a\u9488\u5bf9\u8bb0\u8005\u7684\u88ad\u51fb\u4e8b\u4ef6\uff0c\u8fd9\u4e9b\u88ad\u51fb\u4e8b\u4ef6\u5f80\u5f80\u9996\u5148\u5728Twitter\u4e0a\u88ab\u8bb0\u5f55\u4e0b\u6765\u3002\u622a\u81f3\u5468\u4e8c\u4e0a\u5348\uff0cBellingcat\u9ad8\u7ea7\u8c03\u67e5\u5458\u5c3c\u514b\u00b7\u6c83\u7279\u65af(Nick Waters)\u5df2\u7ecf\u8bb0\u5f55\u4e86113\u8d77\u4e8b\u4ef6\u3002101\u53f7\u4e8b\u4ef6\u53d1\u751f\u5728\u767d\u5bab\u5916\uff0c\u5f53\u65f6\u8054\u90a6\u6267\u6cd5\u90e8\u95e8\u7528\u50ac\u6cea\u74e6\u65af\u88ad\u51fb\u4e86\u4e00\u7fa4\u6297\u8bae\u8005\u548c\u8bb0\u8005\uff0c\u8ba9\u603b\u7edf\u6709\u4e86\u4e00\u6761\u6e05\u6670\u7684\u9053\u8def\uff0c\u53ef\u4ee5\u8d70\u5230\u4ed6\u5728\u5723\u7ea6\u7ff0\u6559\u5802(St.John\u2018s Church)\u524d\u62ff\u7740\u4e00\u672c\u5723\u7ecf\u7684\u62cd\u7167\u673a\u4f1a\u3002Bellingcat\u7f51\u7ad9\u4e0a\u7684\u4e00\u7bc7\u540d\u4e3a\u201c\u7f8e\u56fd\u6267\u6cd5\u90e8\u95e8\u5728\u4e54\u6cbb\u00b7\u5f17\u6d1b\u4f0a\u5fb7\u6297\u8bae\u671f\u95f4\u6545\u610f\u9488\u5bf9\u8bb0\u8005\u201d\u7684\u62a5\u9053\uff0c\u4e3a\u4e00\u4e9b\u4e8b\u4ef6\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u6d1e\u5bdf\u529b\uff0c\u5e76\u6307\u51fa\uff1a\n\u867d\u7136\u5728\u4e00\u4e9b\u4e8b\u4ef6\u4e2d\uff0c\u8bb0\u8005\u53ef\u80fd\u88ab\u610f\u5916\u51fb\u4e2d\u6216\u5f71\u54cd\uff0c\u4f46\u5728\u6211\u4eec\u8bb0\u5f55\u7684\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8bb0\u8005\u663e\u7136\u662f\u8bb0\u8005\uff0c\u800c\u4e14\u5f88\u660e\u663e\uff0c\u4ed6\u4eec\u662f\u6545\u610f\u6210\u4e3a\u653b\u51fb\u76ee\u6807\u7684\u3002\u8fd9\u79cd\u9488\u5bf9\u8bb0\u8005\u7684\u66b4\u529b\u6a21\u5f0f\u5728\u51e0\u4e2a\u57ce\u5e02\u91cd\u590d\u51fa\u73b0\uff0c\u4f46\u5728\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u4f3c\u4e4e\u6700\u4e3a\u4e25\u91cd\u3002\n-\u81f3\u5c11\u670936\u540d\u8bb0\u8005\u62a5\u544a\u88ab\u8b66\u5bdf\u7528\u6a61\u76ae\u5b50\u5f39\u7b49\u6295\u5c04\u7269\u5c04\u51fb\u3002\u4ec5\u5728\u660e\u5c3c\u82cf\u8fbe\u5dde\u5c31\u670950%\u3002\n\u6211\u4eec\u516c\u5f00\u5206\u4eab\u6211\u4eec\u7684\u8ddf\u8e2a\u6587\u6863\uff0c\u8fd9\u6837\u60a8\u5c31\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b9e\u65f6\u8bb0\u5f55\u5bf9\u8bb0\u8005\u7684\u653b\u51fb\u3002\u5728\u6587\u6863\u4e2d\u8fdb\u884c\u6ce8\u91ca\uff0c\u4ee5\u4fbf\u5728\u53d1\u751f\u66f4\u591a\u6848\u4f8b\u65f6\u63d0\u9192\u6211\u4eec\u3002https://t.co/73e9qJ0uLp\u3002\n\u5982\u679c\u4f60\u662f\u4e00\u540d\u88ab\u902e\u6355\u3001\u88ab\u6bd2\u6c14\u6740\u5bb3\u6216\u88ab\u67aa\u6740\u7684\u8bb0\u8005\uff0c\u8bf7\u901a\u8fc7@USPressTracker\u4e0e\u6211\u4eec\u8054\u7cfb\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u8bb0\u5f55\u4f60\u7684\u6848\u4ef6\u3002\n\u5c31\u5728\u6211\u4eec\u8bf4\u8bdd\u7684\u540c\u65f6\uff0c\u6211\u4eec\u7684\u56e2\u961f\u6b63\u5728\u8c03\u67e5\u5168\u56fd\u5404\u5730\u6570\u5341\u8d77\u4fb5\u72af\u65b0\u95fb\u81ea\u7531\u7684\u4e8b\u4ef6\u3002https://t.co/nJcVsWAqLQ\n\u8b66\u5bdf\u90e8\u961f\u7ecf\u5e38\u5728\u8fd9\u4e2a\u56fd\u5bb6\u7684\u6297\u8bae\u6d3b\u52a8\u4e2d\u88ad\u51fb\u548c\u902e\u6355\u8bb0\u8005\u3002\u4f46\u5b83\u7ecf\u5e38\u662f\u6765\u81ea\u975e\u516c\u53f8\u5a92\u4f53\u7684\u4e0d\u77e5\u540d\u7684\u8bb0\u8005\uff0c\u6240\u4ee5\u6ca1\u6709\u4eba\u6ce8\u610f\u5230\u5b83\u3002\u73b0\u5728\uff0c\u8b66\u65b9\u4e5f\u5728\u523b\u610f\u548c\u6301\u7eed\u5730\u653b\u51fb\u4f01\u4e1a\u8bb0\u8005\u3002\n\u6211\u4ece\u6765\u6ca1\u6709\u5728\u4e0d\u540c\u7684\u57ce\u5e02\u770b\u5230\u8fc7\u8fd9\u4e48\u591a\u8b66\u5bdf\u548c\u8bb0\u8005\u540c\u65f6\u53d1\u751f\u7684\u4e8b\u4ef6\u3002\u8b66\u5bdf\u548c\u8bb0\u8005\u4e4b\u95f4\u7684\u7d27\u5f20\u5173\u7cfb\u5e76\u4e0d\u662f\u4ec0\u4e48\u65b0\u9c9c\u4e8b\u3002\u5728\u5168\u56fd\u8303\u56f4\u5185\u540c\u65f6\u5728\u591a\u4e2a\u5730\u70b9\u4fb5\u72af\u8bb0\u8005\u662f\u4e0d\u540c\u7684\u3002https://t.co/SA5s1Wy3DP\u3002\n\u6211\u4e3a\u6211\u7684\u7b2c\u4e00\u672c\u4e66\u7814\u7a76\u4e86\u65e0\u6570\u7684\u6297\u8bae\u6d3b\u52a8\u3002\u4ece\u90a3\u4ee5\u540e\uff0c\u6211\u5199\u4e86\u5f88\u591a\u5173\u4e8e\u8fd9\u65b9\u9762\u7684\u6587\u7ae0\u3002\u6211\u8ba4\u4e3a\u53ef\u4ee5\u80af\u5b9a\u5730\u8bf4\uff0c\u6211\u4eec\u4ece\u672a\u89c1\u8fc7\u8b66\u5bdf\u5728\u8fc7\u53bb\u51e0\u5929\u91cc\u5e7f\u6cdb\u3001\u84c4\u610f\u5730\u4ee5\u8bb0\u8005\u4e3a\u76ee\u6807\u3002\u6709\u4e9b\u4e8b\u60c5\u5df2\u7ecf\u6539\u53d8\u4e86\u3002\n\u6211\u5c06\u7ee7\u7eed\u8ffd\u8e2a\u5e76\u63d0\u4ea4\u201c\u4fe1\u606f\u81ea\u7531\u6cd5\u201d\u5bf9\u5728\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u88ab\u6355\u7684\u8bb0\u8005\u7684\u8981\u6c42\u3002\u6211\u4eca\u65e9\u63d0\u4ea4\u4e86CNN\u5de5\u4f5c\u4eba\u5458\u7684\u7533\u8bf7\u3002\u5982\u679c\u4f60\u542c\u5230\u4ec0\u4e48\u65b0\u6d88\u606f\uff0c\u8bf7\u544a\u8bc9\u6211\u3002\n\u5bf9\u6211\u6765\u8bf4\uff0c\u8fd9\u5c31\u662f\u611f\u89c9\u4e0d\u540c\u7684\u4e8b\u60c5\u3002\u5728\u8fd9\u4e00\u884c\u52a8\u4e2d\uff0c\u8b66\u65b9\u5728\u65b0\u95fb\u81ea\u7531\u65b9\u9762\u8d8a\u8fc7\u4e86\u4e00\u6761\u7ebf\uff0c\u8fd9\u662f\u4ed6\u4eec\u57282014-2019\u5e74\u6297\u8bae\u6d3b\u52a8\u4e2d\u4ece\u672a\u7ecf\u5e38\u8d8a\u8fc7\u7684\u3002\u4f60\u7684\u201c\u65b0\u7684\u201d\u548c\u201c\u589e\u52a0\u7684\u201d\u53d9\u8ff0\u73b0\u5728\u662f\u51c6\u786e\u7684https://t.co/MNq3sCrvvl\u3002\n2020\u5e745\u670830\u65e5\uff0c\u5728\u4fc4\u4ea5\u4fc4\u5dde\u54e5\u4f26\u5e03\u5e02\uff0c\u9a6c\u91cc\u5170\u5927\u5b66\u7814\u7a76\u751f\u8bb0\u8005\u6731\u8389\u5a05\u00b7\u52d2\u7eb3(Julia Lerner)\u62cd\u6444\u4e86\u8fd9\u5f20\u7167\u7247\uff0c\u8bf4\u660e\u5979\u6b63\u5728\u88ab\u8b66\u5bdf\u8ffd\u8d76\u5e76\u5411\u5979\u55b7\u6d12\u80e1\u6912\u3002\u7248\u6743\u6240\u6709\u6731\u8389\u5a05\u00b7\u52d2\u7eb3\u3002", "note_en": "\u201cAlthough in some incidents it is possible the journalists were hit or affected accidentally, in the majority of the cases we have recorded the journalists are clearly identifiable as press, and it is clear that they are being deliberately targeted.\u201d\n    As Black Lives Matter protests spread across the country one week after a white police officer  allegedly murdered a black man, George Floyd, it\u2019s becoming clear that attacks by police on journalists are becoming a widespread pattern, not one-off incidents. While violence against press-credentialed reporters covering the protests may still be dwarfed by violence against the American citizens who are protesting, incidents are piling up \u2014 and are getting more attention in part because the journalists being attacked include those from large mainstream news organizations.\n A number of efforts are underway to try to track the attacks on journalists, which are often first documented on Twitter. Bellingcat senior investigator  Nick Waters  had documented 113 incidents by Tuesday morning.  #101 occurred outside the White House, when federal law enforcement  attacked a group of protestors and journalists with tear gas, allowing the president a clear path to walk to a photo opportunity in which he  held a Bible in front of St. John\u2019s Church. A story on Bellingcat\u2019s site, \u201cU.S. Law Enforcement Are Deliberately Targeting Journalists During George Floyd Protests,\u201d  provides more insight into some of the incidents, and notes:\n Although in some incidents it is possible the journalists were hit or affected accidentally, in the majority of the cases we have recorded the journalists are clearly identifiable as press, and it is clear that they are being deliberately targeted. This pattern of violence against journalists is replicated in several cities, but appears most intense in Minneapolis.\n    \u2014At least 36 journalists have reported being shot at by police with projectiles such as rubber bullets. 50% just in Minnesota.\n  We are publicly sharing our tracking document so you can help us log attacks on reporters in real time. Comment in the doc to alert us to more cases as they happen.  https://t.co/73e9qJ0uLp\n  If you&#39;re a journalist who&#39;s been arrested, gassed, or shot \u2014 get in touch with us at the  @USPressTracker so we can document your case.\n Our team is investigating literally dozens of press freedom violations across the country as we speak.  https://t.co/nJcVsWAqLQ\n  Police forces have regularly attacked and arrested journalists at protests in this country. But often it has been unfamous journalists from non-corporate outlets, so no one paid attention to it. Now, the police are deliberately &amp; consistently attacking corporate journalists too.\n  I\u2019ve never seen so many incidents with police and reporters simultaneously in different cities. Tension between cops and reporters is nothing new. Aggression on reporters in multiple locations nationally at same time is something different.  https://t.co/SA5s1Wy3DP\n  I researched countless protests for my first book. I\u2019ve written about many since. I think it\u2019s safe to say that we\u2019ve never seen the widespread, deliberate targeting of journalists by police that we\u2019ve seen over the last few days. Something has changed.\n  I&#39;ll continue to track and file FOIA requests for journalists arrested in Minneapolis. I filed requests for the CNN crew this morning. If you hear about something new, please let me know.\n  This is the thing, to me, that feels different. This is the action where the police are crossing a line in terms of press freedom that they hadn\u2019t routinely cross before at 2014-2019 protests. Your \u201cnew\u201d and \u201cincreasing\u201d narratives are now accurate  https://t.co/MNq3sCrvvl\n   Journalist Julia Lerner, a graduate student at the University of Maryland,  took the picture illustrating this post as she was being  chased and pepper-sprayed by police in Columbus, Ohio on May 30, 2020. Copyright  Julia Lerner.", "posttime": "2020-06-03 02:37:33", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u7f8e\u56fd,attacked,\u8bb0\u8005", "title": "\u81ea5\u670828\u65e5\u4ee5\u6765\uff0c\u7f8e\u56fd\u8b66\u65b9\u5df2\u5bf9\u8bb0\u8005\u53d1\u52a8\u4e86110\u591a\u6b21\u88ad\u51fb", "title_en": "U.S. police have attacked journalists more than 110 times since May 28", "transed": 1, "url": "https://www.niemanlab.org/2020/06/well-try-to-help-you-follow-the-police-attacks-on-journalists-across-the-country", "via": "", "real_tags": ["\u7f8e\u56fd", "attacked", "\u8bb0\u8005"]}, {"category": "", "categoryclass": "", "imagename": "3cd67f8c773c5df13d60d9d2e7f8918c.png", "infoid": 1004873, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4e0d\u7ba1\u6211\u4eec\u559c\u6b22\u4e0e\u5426\uff0cJava\u662f\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u7f16\u7a0b\u8bed\u8a00\u4e4b\u4e00\u3002\u7136\u800c\uff0c\u7531\u4e8eJava\u4e2d\u7684\u5927\u591a\u6570\u5e94\u7528\u7a0b\u5e8f\u8981\u4e48\u592a\u4e4f\u5473\uff0c\u8981\u4e48\u592a\u590d\u6742--\u5e76\u4e0d\u662f\u6bcf\u4e2aJava\u5f00\u53d1\u4eba\u5458\u90fd\u6709\u8db3\u591f\u7684\u597d\u5947\u5fc3\u53bb\u6df1\u5165\u4e86\u89e3JVM\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\n\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u5c06\u5c1d\u8bd5\u7f16\u5199\u4e00\u4e2a\u73a9\u5177(\u548c\u4e0d\u5b8c\u6574\u7684)JVM\uff0c\u4ee5\u5c55\u793a\u5176\u80cc\u540e\u7684\u6838\u5fc3\u539f\u5219\uff0c\u5e76\u5e0c\u671b\u80fd\u6fc0\u53d1\u60a8\u8fdb\u4e00\u6b65\u5b66\u4e60\u5b83\u7684\u5174\u8da3\u3002\npublic class add{public static int add(int a\uff0cint b){return a+b\uff1b}}\u3002\n\u6211\u4eec\u7528javac Add.java\u7f16\u8bd1\u6211\u4eec\u7684\u7c7b\uff0c\u7ed3\u679c\u662fAdd.class\u3002\u8fd9\u4e2a\u7c7b\u6587\u4ef6\u662fJVM\u53ef\u4ee5\u6267\u884c\u7684\u5b9e\u9645\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u5269\u4e0b\u8981\u505a\u7684\u5c31\u662f\u5b9e\u73b0\u8fd9\u6837\u4e00\u4e2a\u80fd\u591f\u6b63\u786e\u6267\u884c\u5b83\u7684JVM\u3002\n\u5982\u679c\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u516d\u8fdb\u5236\u8f6c\u50a8\u6765\u67e5\u770bAdd.\u7c7b\u5185\u90e8-\u6211\u4eec\u53ef\u80fd\u4e0d\u4f1a\u5f97\u5230\u592a\u591a\u5370\u8c61\uff1a\n00000000 CAFE BA\u4e3a00 00 00 34 00 0f 0A 00 03 00 0C 07|.4.|00000010 00 0D 07 00 0E 01 00 06 3C 69 6E 69 74 3E 01 00|.&lt\uff1binit&gt\uff1b..|00000020 03 28 29 56 01 00 04 43 6f 64 65 01 00 0f 4c 69|.()V.\u4ee3\u7801.LI|00000030 6e 65 4e 75 6d 62 65 72 54 61 62 6c 65 01 00 03|neNumberTable.|00000040 61 64 01 00 05 28 49 49 29 49 01 00 0A 53 6f|\u6dfb\u52a0.(Ii)i.SO|00000050 75 72 63 65 46 69 6c 65 01 00 08 41 64 2e 6a|\u8d44\u6e90\u6587\u4ef6.\u6dfb\u52a0j|00000060 61 76\u3002ava.add..|00000070 10 6a 61 76 61 2f 6c 61 6e 67 2f 4f 62 6a 65 63|.java/lang/objec|00000080 74 00 21 00 02 00 03 00 00 00 02 00 01 00|t.\uff01.|00000090 04 00 05 00 01 00 00 00 1d 00 01 00 01 00|.|000000a0 00 00 05 2a b7 00 01 b1 00 00 00 01 00 07 00\u3002.*.|000000b0 00 06 00 01 00 00 00 01 00 09 00 08 00 09 00 01|.|0000c0 00 06 00 00 00 1c 00 02 00 02 00 00 00 04 1a 1b|.|000000d0 60 ac 00 00 01 00 07 00 00 00 06 00 01 00 00|`.|000000e0 00 03\u300200 01 00 0a 00 00 00 02 00 0b|.|\u3002\n\u867d\u7136\u6211\u4eec\u5728\u8fd9\u91cc\u8fd8\u6ca1\u6709\u770b\u5230\u4e00\u4e2a\u6e05\u6670\u7684\u7ed3\u6784\uff0c\u4f46\u6211\u4eec\u9700\u8981\u627e\u5230\u4e00\u79cd\u65b9\u6cd5\u6765\u89e3\u6790\u5b83\uff1a()V\u548c(Ii)I\u662f\u4ec0\u4e48\uff0c\u4ec0\u4e48\u662f&lt\uff1binit&gt\uff1b\uff0c\u4e3a\u4ec0\u4e48\u5b83\u4ee5\u201cCafe Babe\u201d\u5f00\u5934\uff1f\n\u60a8\u53ef\u80fd\u89c1\u8fc7\u53e6\u4e00\u79cd\u8f6c\u50a8\u7c7b\u6587\u4ef6\u7684\u65b9\u6cd5\uff0c\u5b83\u901a\u5e38\u66f4\u6709\u7528\uff1a\n$javap-c AddCompiled from&#34\uff1bAdd.java&#34\uff1bpublic class add{public add()\uff1bCode\uff1a0\uff1aaload_0 1\uff1ainvokSpecial#1//method java/lang/Object.&#34\uff1b&lt\uff1binit&gt\uff1b&#34\uff1b\uff1a()V4\uff1areturn public static int add(int\uff0cint)\uff1bCode\uff1a0\uff1aiLoad_0 1\uff1aiLoad_1 2\uff1aiadd 3\uff1aireturn}\u3002\n\u73b0\u5728\u6211\u4eec\u770b\u5230\u6211\u4eec\u7684\u7c7b\u3001\u5b83\u7684\u6784\u9020\u51fd\u6570\u548c\u4e00\u4e2a\u65b9\u6cd5\u3002\u6784\u9020\u51fd\u6570\u548c\u65b9\u6cd5\u90fd\u5305\u542b\u4e00\u4e9b\u6307\u4ee4\uff0c\u73b0\u5728\u6211\u4eec\u7684add()\u65b9\u6cd5\u7684\u4f5c\u7528\u6216\u591a\u6216\u5c11\u53d8\u5f97\u5f88\u6e05\u695a\u4e86\uff1a\u5b83\u52a0\u8f7d\u4e24\u4e2a\u53c2\u6570(iLoad_0\u548ciLoad_1)\uff0c\u5c06\u5b83\u4eec\u76f8\u52a0\uff0c\u7136\u540e\u8fd4\u56de\u7ed3\u679c\u3002JVM\u662f\u5806\u6808\u673a\u5668\uff0c\u6240\u4ee5\u6ca1\u6709\u5bc4\u5b58\u5668\uff0c\u6307\u4ee4\u7684\u6240\u6709\u53c2\u6570\u90fd\u5b58\u50a8\u5728\u5185\u90e8\u5806\u6808\u4e2d\uff0c\u7ed3\u679c\u4e5f\u4f1a\u88ab\u63a8\u9001\u5230\u5806\u6808\u4e0a\u3002\n\u73b0\u5728\uff0c\u6211\u4eec\u5982\u4f55\u5b9e\u73b0javap\u5728\u8fd9\u91cc\u6240\u505a\u7684\u4e8b\u60c5\uff0c\u6211\u4eec\u5982\u4f55\u89e3\u6790\u7c7b\u6587\u4ef6\uff1f\n\u5982\u679c\u6211\u4eec\u7814\u7a76JVM\u89c4\u8303\uff0c\u5c31\u4f1a\u4e86\u89e3\u7c7b\u6587\u4ef6\u7ed3\u6784\u3002\u5b83\u603b\u662f\u4ee54\u4e2a\u5b57\u8282\u7684\u7b7e\u540d(CAFEBABE)\u5f00\u5934\uff0c\u7136\u540e\u662f2+2\u4e2a\u5b57\u8282\u7684\u7248\u672c\uff0c\u542c\u8d77\u6765\u5f88\u7b80\u5355\u3002\n\u56e0\u4e3a\u6211\u4eec\u5fc5\u987b\u4ece\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u8bfb\u53d6\u5b57\u8282\u3001\u77ed\u7801\u3001\u6574\u6570\u548c\u5b57\u8282\u5e8f\u5217\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5f00\u59cb\u5b9e\u73b0\u6211\u4eec\u7684\u52a0\u8f7d\u5668\uff0c\u5982\u4e0b\u6240\u793a\uff1a\ntype loader struct{r io.Reader Err Err}func(l*loader)bytes(N Int)[]byte{b\uff1a=make([]byte\uff0cn\uff0cn)//\u6211\u4eec\u4e0d\u4f7f\u7528&#39\uff1b\u5982\u679cl.err==nil{_\uff0cl.err=io.ReadFull(L.R\uff0cb)}return b}func(l*loader)u1()uint8{return l.bytes(1)[0]}func(l*loader)u2()uint16{return binary.BigEndian.Uint16(l.bytes(2))}func(l*loader)u4()uint32{return binary.BigEndian.Uint32(l.bytes(4))}func(l*loader)U8(\u3002Add.class&34\uff1b)loader\uff1a=&amp\uff1bloader{r\uff1af}afebabe\uff1a=loader.u4()\u4e3b\u8981\uff1a=loader.u2()\u6b21\u8981\uff1a=loader.u2()\u3002\n\u7136\u540e\u89c4\u8303\u544a\u8bc9\u6211\u4eec\u9700\u8981\u89e3\u6790\u5e38\u91cf\u6c60\u3002\u90a3\u662f\u4ec0\u4e48\uff1f\u5b83\u662f\u7c7b\u6587\u4ef6\u7684\u7279\u6b8a\u90e8\u5206\uff0c\u5305\u542b\u8fd0\u884c\u7c7b\u6240\u9700\u7684\u5e38\u91cf\u3002\u6240\u6709\u5b57\u7b26\u4e32\u3001\u6570\u503c\u5e38\u91cf\u548c\u5f15\u7528\u90fd\u5b58\u50a8\u5728\u90a3\u91cc\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5b57\u7b26\u4e32\u3001\u6570\u503c\u5e38\u91cf\u548c\u5f15\u7528\u90fd\u6709\u4e00\u4e2a\u60df\u4e00\u7684uint16\u7d22\u5f15(\u56e0\u6b64\uff0c\u4e00\u4e2a\u7c7b\u6700\u591a\u53ef\u4ee5\u670964K\u5e38\u91cf)\u3002\n\u6c60\u4e2d\u6709\u51e0\u79cd\u7c7b\u578b\u7684\u5e38\u91cf\uff0c\u6bcf\u79cd\u7c7b\u578b\u90fd\u5305\u542b\u4e00\u7ec4\u4e0d\u540c\u7684\u503c\u3002\u6211\u4eec\u5c06\u611f\u5174\u8da3\u7684\u662f\uff1a\n\u540d\u79f0\u548c\u7c7b\u578b\uff1a\u7c7b\u578b\u540d\u79f0\u548c\u63cf\u8ff0\u7b26\u7684\u7d22\u5f15\uff0c\u7528\u4e8e\u5b57\u6bb5\u548c\u65b9\u6cd5\u3002\n\u5982\u60a8\u6240\u89c1\uff0c\u6c60\u4e2d\u7684\u5e38\u91cf\u7ecf\u5e38\u76f8\u4e92\u5f15\u7528\u3002\u7531\u4e8e\u6211\u4eec\u5728GO\u4e2d\u5b9e\u73b0\u4e86\u4e00\u4e2aJVM\uff0c\u5e76\u4e14\u6ca1\u6709\u8054\u5408\u7c7b\u578b\uff0c\u56e0\u6b64\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u5404\u79cd\u53ef\u80fd\u7684\u5e38\u91cf\u5b57\u6bb5\u7684\u5e38\u91cf\u7c7b\u578b\uff1a\ntype const struct{Tag byte NameIndex uint16 ClassIndex uint16 NameAndTypeIndex uint16 StringIndex uint16 DescIndex uint16 String}type ConstPool[]const\u3002\nfunc(l*loader)cpinfo()(StPool ConstPool){stPoolCount\uff1a=l.u2()//i\uff1a=uint16(1)\uff1bi&lt\uff1bconPoolCount\uff1b\u7684\u6709\u6548\u5e38\u91cf\u6c60\u7d22\u5f15\u4ece1\u5f00\u59cb\uff1bi++{c\uff1a=const{tag\uff1al.u1()}\u5f00\u5173c.Tag{case 0x01\uff1a//utf8\u5b57\u7b26\u4e32\u6587\u5b57\uff0c2\u5b57\u8282\u957f\u5ea6+\u6570\u636ec.String=string(l.bytes(int(l.u2()case 0x07\uff1a//\u7c7b\u7d22\u5f15c.NameIndex=l.u2()case 0x08\uff1a//\u5b57\u7b26\u4e32\u5f15\u7528\u7d22\u5f15c.StringIndex=l.u2()case 0x09\uff0c0x0a\uff1a//\u5b57\u6bb5\u548c\u65b9\u6cd5\uff1a\u7c7b\u7d22\u5f15+NAT\u7d22\u5f15c.ClassIndex=l.u2()c.NameAndTypeIndex=l.u2()case 0x0c\uff1a//name-and-type c.NameIndex\uff0cc.DescIndex=l.u2()\uff0cl.u2()\u9ed8\u8ba4\uff1al.err=fmt.Errorf(&#34\uff1b\u4e0d\u652f\u6301\u7684\u6807\u8bb0\uff1a%d&#34\uff1b\uff0cc.Tag)}constPool=append(constPool\uff0cc)}return constPool}\u3002\n\u6211\u4eec\u5728\u8fd9\u91cc\u4fdd\u6301\u7b80\u5355\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u7684JVM\u4e2d\uff0c\u6211\u4eec\u5fc5\u987b\u901a\u8fc7\u63d2\u5165\u4e00\u4e2a\u989d\u5916\u7684\u672a\u4f7f\u7528\u7684\u5e38\u91cf\u9879\u6765\u552f\u4e00\u5730\u5bf9\u5f85Long\u548cDouble\u5e38\u91cf\u7c7b\u578b\uff0c\u6b63\u5982JVM\u89c4\u8303\u544a\u8bc9\u6211\u4eec\u7684\u90a3\u6837(\u56e0\u4e3a\u5e38\u91cf\u9879\u88ab\u8ba4\u4e3a\u662f32\u4f4d\u7684)\u3002\n\u4e3a\u4e86\u66f4\u5bb9\u6613\u5730\u6309\u7d22\u5f15\u83b7\u53d6\u5b57\u7b26\u4e32\u6587\u5b57\uff0c\u6211\u4eec\u5c06\u5b9e\u73b0Resolve(Index Uint16)String\u65b9\u6cd5\uff1a\nfunc(Cp ConstPool)Resolve(Index Uint16)String{if cp[index-1].Tag==0x01{return cp[index-1].String}return&#34\uff1b&#34\uff1b}\u3002\n\u73b0\u5728\uff0c\u6211\u4eec\u5fc5\u987b\u6dfb\u52a0\u7c7b\u4f3c\u7684\u5e2e\u52a9\u5668\u6765\u89e3\u6790\u7c7b\u63a5\u53e3\u3001\u5b57\u6bb5\u548c\u65b9\u6cd5\u53ca\u5176\u5c5e\u6027\u7684\u5217\u8868\uff1a\nfunc(l*loader)interface(Cp ConstPool)(interface[]string){interfaceCount\uff1a=l.u2()for i\uff1a=uint16(0)\uff1bi&lt\uff1binterfaceCount\uff1bi++{interface=append(interface\uff0ccp.Resolve(l.u2()}return interface}//field type\u540c\u65f6\u7528\u4e8efield\u548cmethod\u7c7b\u578bField struct{Flags uint16 Name String Descriptor String Attributes[]\u3002\u5c5e\u6027\uff0c\u5305\u542b\u5b9e\u9645\u5b57\u8282\u4ee3\u7801\u7c7b\u578b\u5c5e\u6027struct{name string data[]byte}func(l*loader)field(Cp ConstPool)(field[]field){fieldsCount\uff1a=l.u2()for i\uff1a=uint16(0)\uff1bi&lt\uff1bfieldsCount\uff1bi++{field=append(field\uff0cField{Flags\uff1al.u2()\uff0cName\uff1acp.Resolve(l.u2())\uff0cDescriptor\uff1acp.Resolve(l.u2())\uff0cAttributes\uff1al.attrs(Cp)\uff0c})}return field}func(l*loader)attrs(Cp ConstPool)(attrs[]Attribute){AttributesCount\uff1a=l.u2()for i\uff1a=uu\u3002i++{attrs=append(attrs\uff0cattribute{name\uff1acp.Resolve(l.u2())\uff0cdata\uff1al.bytes(int(l.u4()\uff0c})}return attrs}\u3002\n\u5b57\u6bb5\u548c\u65b9\u6cd5\u90fd\u8868\u793a\u4e3aFields\uff0c\u8fd9\u662f\u975e\u5e38\u5e78\u8fd0\u7684\uff0c\u5e76\u4e14\u4e3a\u6211\u4eec\u8282\u7701\u4e86\u4e00\u4e9b\u65f6\u95f4\u3002\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5b83\u4eec\u7ec4\u5408\u5728\u4e00\u8d77\u5e76\u89e3\u6790\u5b8c\u6574\u7684\u7c7b\uff1a\ntype Class struct{ConstPool ConstPool Name String Super String Flags uint16 Interfaces[]String Fields[]Field Methods[]Field Attributes[]Attribute}Funcc Load(r io.Reader)(Class\uff0cError){loader\uff1a=&amp\uff1b\u52a0\u8f7d\u5668{r\uff1ar}c\uff1a=Class{}loader.u8()//Magic(U32)\uff0cMinor(U16)\uff0cmain(U16)cp\uff1a=loader.cpinfo()//const\u6c60\u4fe1\u606fc.ConstPool=cp c.Flags=loader.u2()//\u8bbf\u95ee\u6807\u5fd7c.Name=cp.Resolve(loader.u2())//\u8fd9\u4e2a\u7c7bc.Super=cp.Resolve(loader.u2())//\u8d85\u7c7bc.Interfaces=loader.interface(Cp)c.Fields=loader.field(Cp)//field c.Methods=loader.field(Cp)loader.err}\u3002\n\u73b0\u5728\uff0c\u5982\u679c\u6211\u4eec\u67e5\u770b\u751f\u6210\u7684\u7c7b\u4fe1\u606f\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\u5b83\u6ca1\u6709\u5b57\u6bb5\u548c\u4e24\u4e2a\u65b9\u6cd5-&lt\uff1binit&gt\uff1b\uff1a()V\u548cadd\uff1a(Ii)V\u3002\u8fd9\u4e9b\u770b\u8d77\u6765\u50cf\u5e26\u62ec\u53f7\u7684\u7f57\u9a6c\u6570\u5b57\u662f\u4ec0\u4e48\uff1f\u8fd9\u4e9b\u90fd\u662f\u63cf\u8ff0\u7b26\uff0c\u5b83\u4eec\u5b9a\u4e49\u65b9\u6cd5\u63a5\u53d7\u4ec0\u4e48\u7c7b\u578b\u7684\u53c2\u6570\u4ee5\u53ca\u8fd4\u56de\u4ec0\u4e48\u3002\u5728\u672c\u4f8b\u4e2d\uff0c&lt\uff1binit&gt\uff1b(\u4e00\u79cd\u5408\u6210\u65b9\u6cd5\uff0c\u7528\u4e8e\u5728\u6784\u9020\u5bf9\u8c61\u65f6\u5bf9\u5176\u8fdb\u884c\u521d\u59cb\u5316)\u4e0d\u63a5\u53d7\u4efb\u4f55\u53c2\u6570\uff0c\u4e5f\u4e0d\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9(V=void)\uff0c\u800c\u201cadd\u201d\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2aint(i=int32)\uff0c\u4e5f\u4e0d\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\u3002\n\u5982\u679c\u6211\u4eec\u4ed4\u7ec6\u89c2\u5bdf\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\u6211\u4eec\u89e3\u6790\u7684\u7c7b\u4e2d\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u6709\u4e00\u4e2a\u540d\u4e3a\u201cCode\u201d\u7684\u5c5e\u6027\u3002\u6b64\u5c5e\u6027\u6709\u4e00\u6bb5\u5b57\u8282\u4f5c\u4e3a\u6709\u6548\u8d1f\u8f7d\u3002\u5b57\u8282\u5982\u4e0b\uff1a\n&lt\uff1binit&gt\uff1b\uff1a[0 1 0 1 0 0 5 42 183 0 1 177 0 0 1 0 7 0 0 0 6 0 1 0 0 0 1]add\uff1a[0 2 0 2 0 0 0 4 26 27 96 172 0 0 1 0 7 0 0 0 6 0 1 0 0 0 3]\u3002\n\u5982\u679c\u6211\u4eec\u770b\u4e00\u4e0b\u89c4\u8303\uff0c\u8fd9\u4e00\u6b21\u662f\u5728\u5b57\u8282\u7801\u90e8\u5206\uff0c\u6211\u4eec\u5c06\u770b\u5230\u201cCode\u201d\u5c5e\u6027\u4ee5maxstack value(2\u5b57\u8282)\u5f00\u5934\uff0c\u7136\u540e\u662fmaxlocals(2\u5b57\u8282)\uff0c\u7136\u540e\u662f\u4ee3\u7801\u957f\u5ea6(4\u5b57\u8282)\uff0c\u7136\u540e\u662f\u5b9e\u9645\u4ee3\u7801\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u5c5e\u6027\u53ef\u4ee5\u8fd9\u6837\u89e3\u8bfb\uff1a\n&lt\uff1binit&gt\uff1b\uff1amaxstack\uff1a1\uff0cmaxlocals\uff1a1\uff0ccode\uff1a[42 183 0 1177]add\uff1amaxstack\uff1a2\uff0cmaxlocals\uff1a2\uff0ccode\uff1a[26 27 96172]\n\u662f\u7684\uff0c\u6211\u4eec\u5728\u6bcf\u4e2a\u65b9\u6cd5\u4e2d\u53ea\u67094\u52305\u4e2a\u5b57\u8282\u7684\u4ee3\u7801\u3002\u8fd9\u4e9b\u5b57\u8282\u610f\u5473\u7740\u4ec0\u4e48\uff1f\n\u5c31\u50cf\u6211\u8bf4\u7684\uff0cJVM\u662f\u4e00\u53f0\u5806\u6808\u673a\u5668\u3002\u6bcf\u6761\u6307\u4ee4\u90fd\u7f16\u7801\u4e3a\u4e00\u4e2a\u5b57\u8282\uff0c\u540e\u9762\u53ef\u80fd\u8ddf\u4e00\u4e9b\u989d\u5916\u7684\u53c2\u6570\u3002\u5982\u679c\u6211\u4eec\u67e5\u770b\u89c4\u8303\uff0c\u6211\u4eec\u5c06\u770b\u5230\u201cadd\u201d\u65b9\u6cd5\u5177\u6709\u4ee5\u4e0b\u8bf4\u660e\uff1a\n\u4e0e\u6211\u4eec\u5f00\u59cb\u65f6\u5728javap\u8f93\u51fa\u4e2d\u770b\u5230\u7684\u5b8c\u5168\u4e00\u6837\uff01\u4f46\u662f\u6211\u4eec\u8be5\u5982\u4f55\u6267\u884c\u5462\uff1f\n\u5f53\u65b9\u6cd5\u5728JVM\u5185\u6267\u884c\u65f6\uff0c\u5b83\u6709\u81ea\u5df1\u7684\u4e34\u65f6\u64cd\u4f5c\u6570\u5806\u6808\u3001\u81ea\u5df1\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u81ea\u5df1\u8981\u6267\u884c\u7684\u4ee3\u7801\u5757\u3002\u6240\u6709\u8fd9\u4e9b\u53c2\u6570\u90fd\u5b58\u50a8\u5728\u5355\u4e2a\u6267\u884c\u5e27\u4e2d\u3002\u6b64\u5916\uff0c\u5e27\u5305\u542b\u5f53\u524d\u6307\u4ee4\u6307\u9488(\u6211\u4eec\u5728\u6267\u884c\u5b57\u8282\u7801\u65f6\u524d\u8fdb\u4e86\u591a\u8fdc)\u548c\u6307\u5411\u5305\u542b\u8be5\u65b9\u6cd5\u7684\u7c7b\u7684\u6307\u9488\u3002\u540e\u8005\u662f\u8bbf\u95ee\u7c7b\u7684\u5e38\u91cf\u6c60\u4ee5\u53ca\u5176\u4ed6\u7ec6\u8282\u6240\u5fc5\u9700\u7684\u3002\n\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u4e3a\u4f7f\u7528\u7ed9\u5b9a\u53c2\u6570\u8c03\u7528\u7684\u7ed9\u5b9a\u65b9\u6cd5\u6784\u9020\u4e00\u4e2a\u6846\u67b6\u3002\u8fd9\u91cc\u6211\u5c06\u4f7f\u7528interface{}\u7c7b\u578b\u4f5c\u4e3a\u503c\u7c7b\u578b\uff0c\u5c3d\u7ba1\u6b63\u786e\u7684\u8054\u5408\u7c7b\u578b\u5f53\u7136\u4f1a\u662f\u66f4\u5b89\u5168\u7684\u9009\u62e9\u3002\ntype frame struct{Class Class IP uint32 Code[]byte locals[]interface{}Stack[]interface{}}func(C Class)frame(method string\uff0cargs.interface{})frame{for_\uff0cm\uff1a=range c.Methods{if m.Name==method{for_\uff0ca\uff1a=range m.Attributes{if a.Name==&#34\uff1bCode&#34\uff1b&amp\uff1b&amp\uff1blen(a.Data)&gt\uff1b8{maxLocals\uff1a=binary.BigEndian.Uint16(a.Data[2\uff1a4])frame\uff1a=frame{Class\uff1ac\uff0cCode\uff1aa.Data[8\uff1a]\uff0clocals\uff1amake([]interface{}\uff0cmaxLocals\uff0cmaxLocals)\uff0c}for i\uff1a=0\uff1bi&lt\uff1blen(Args)\uff1bi++{frame.Locals[i]=args[i]}\u6b7b\u673a(&#34\uff1b\u627e\u4e0d\u5230\u65b9\u6cd5&#34\uff1b)}\u3002\n\u56e0\u6b64\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u6846\u67b6\uff0c\u5b83\u5177\u6709\u521d\u59cb\u5316\u7684\u5c40\u90e8\u53d8\u91cf\u3001\u7a7a\u7684\u5806\u6808\u548c\u9884\u52a0\u8f7d\u7684\u5b57\u8282\u7801\u3002\u73b0\u5728\u662f\u6267\u884c\u5b57\u8282\u7801\u7684\u65f6\u5019\u4e86\uff1a\nFunc Exec(F Frame)\u63a5\u53e3{}{for{op\uff1a=f.Code[f.ip]log.Printf(&#34\uff1bop\uff1a%02x\u5806\u6808\uff1a%v&#34\uff1b\uff0cop\uff0cf.Stack)n\uff1a=len(f.Stack)\u5f00\u5173op{\u6848\u4f8b26\uff1a//iLoad_0 f.Stack=append(f.Stack\uff0cf.Locals[0])\u6848\u4f8b27\uff1a//iLoad_1 f.Stack=append(f.Stack\uff0cf.Locals[1])\u6848\u4f8b96\uff1aa\uff1a=f.Stack[n-1].(Int32)b\uff1a=f.Stack[n-2].(Int32)f.Stack[n-2]=a+b f.Stack=f.Stack[\uff1an-1]\u6848\u4f8b172\uff1a//i return v\uff1a=f.Stack[n-1]f.Stack=f.Stack[\uff1an-1]return v}f.ip++}}\nF\uff0c_\uff1a=os.Open(&#34\uff1bAdd.class&#34\uff1b)class\uff0c_\uff1a=\u52a0\u8f7d(F)Frame\uff1a=class.Frame(&#34\uff1badd&#34\uff1b\uff0cint32(2)\uff0cint32(3))\u7ed3\u679c\uff1a=Exec(Frame)\u65e5\u5fd7\u3002Println(Result)//\u8f93\u51fa\uff1aOP\uff1a1A\u5806\u6808\uff1a[]OP\uff1a1B\u5806\u6808\uff1a[2]OP\uff1a60\u5806\u6808\uff1a[2 3]OP\uff1aAC\u5806\u6808\uff1a[5]5\u3002\n\u6240\u4ee5\uff0c\u5b83\u8d77\u4f5c\u7528\u4e86\u3002\u662f\u7684\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u7cdf\u7cd5\u548c\u53ef\u601c\u7684JVM\uff0c\u4f46\u5b83\u4ecd\u7136\u505aJVM\u505a\u7684\u4e8b\u60c5-\u52a0\u8f7d\u5b57\u8282\u7801\u5e76\u89e3\u91ca\u5b83(\u5f53\u7136\uff0c\u771f\u6b63\u7684JVM\u505a\u7684\u8fdc\u8fdc\u4e0d\u6b62\u8fd9\u4e9b)\u3002\n\u53e6\u5916\u4e24\u767e\u6761\u6307\u4ee4\u3001\u8fd0\u884c\u5e93\u3001OOP\u7c7b\u578b\u7cfb\u7edf\u4ee5\u53ca\u5176\u4ed6\u4e00\u4e9b\u4e1c\u897f\u3002\n\u5e38\u91cf(\u5c06\u6765\u81ea\u5e38\u91cf\u6c60\u7684\u7a7a\u503c\u6216\u5c0f\u6570\u6216\u503c\u653e\u5165\u5806\u6808)\u3002\n\u5ef6\u957f\u4e86\u3002\u4e4d\u4e00\u770b\u770b\u8d77\u6765\u50cf\u662f\u96be\u770b\u7684\u53d8\u901a\u65b9\u6cd5\u3002\u800c\u4e14\u5b83\u53ef\u80fd\u4e0d\u4f1a\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u800c\u6539\u53d8\u3002\n\u5927\u591a\u6570\u6307\u4ee4\u7684\u5b9e\u73b0\u90fd\u5f88\u7b80\u5355-\u5b83\u4eec\u4ece\u5806\u6808\u4e2d\u83b7\u53d6\u4e00\u4e2a\u6216\u4e24\u4e2a\u53c2\u6570\uff0c\u5bf9\u5b83\u4eec\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u7136\u540e\u63a8\u9001\u7ed3\u679c\u3002\u8fd9\u91cc\u8981\u8bb0\u4f4f\u7684\u552f\u4e00\u4e00\u4ef6\u4e8b\u662f\uff0c\u957f\u6307\u4ee4\u548c\u53cc\u7cbe\u5ea6\u6307\u4ee4\u671f\u671b\u6bcf\u4e2a\u503c\u5360\u7528\u5806\u6808\u4e0a\u7684\u4e24\u4e2a\u69fd\uff0c\u56e0\u6b64\u60a8\u53ef\u80fd\u9700\u8981\u989d\u5916\u7684ush()\u548cop()\uff0c\u8fd9\u4f7f\u5f97\u5bf9\u6307\u4ee4\u8fdb\u884c\u5206\u7ec4\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\u3002\n\u5b9e\u73b0\u5f15\u7528\u9700\u8981\u8003\u8651\u5bf9\u8c61\u6a21\u578b-\u60a8\u5e0c\u671b\u5982\u4f55\u5b58\u50a8\u5bf9\u8c61\u53ca\u5176\u7c7b\uff0c\u5982\u4f55\u8868\u793a\u7ee7\u627f\uff0c\u5728\u54ea\u91cc\u5b58\u50a8\u5b9e\u4f8b\u5b57\u6bb5\u548c\u7c7b\u5b57\u6bb5\u3002\u6b64\u5916\uff0c\u8fd9\u4e5f\u662f\u60a8\u5fc5\u987b\u5c0f\u5fc3\u65b9\u6cd5\u5206\u6d3e\u7684\u5730\u65b9-\u6709\u591a\u4e2a\u201c\u8c03\u7528\u201d\u6307\u4ee4\uff0c\u5b83\u4eec\u7684\u884c\u4e3a\u65b9\u5f0f\u7565\u6709\u4e0d\u540c\uff1a\ninvokSpecial\uff1a\u76f4\u63a5\u8c03\u7528\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u4e3b\u8981\u7528\u4e8e\u5408\u6210\u65b9\u6cd5\uff0c\u5982&lt\uff1binit&gt\uff1b\u6216\u79c1\u6709\u65b9\u6cd5\u3002\ninvkedynamic\uff1a\u8c03\u7528\u52a8\u6001\u8ba1\u7b97\u7684\u8c03\u7528\u7ad9\u70b9\uff0c\u8fd9\u662fJava7\u4e2d\u7684\u65b0\u529f\u80fd\uff0c\u5bf9\u52a8\u6001\u65b9\u6cd5\u548c\u65b9\u6cd5\u53e5\u67c4\u975e\u5e38\u6709\u7528\u3002\n\u5982\u679c\u60a8\u5728\u6ca1\u6709\u5783\u573e\u6536\u96c6\u7684\u8bed\u8a00\u4e2d\u5b9e\u73b0JVM-\u8fd9\u4e5f\u662f\u60a8\u5e94\u8be5\u8003\u8651\u5982\u4f55\u6267\u884c\u5783\u573e\u6536\u96c6\u7684\u5730\u65b9\uff1a\u5f15\u7528\u8ba1\u6570\u3001\u6807\u8bb0\u548c\u6e05\u9664\u7b49\u3002\u901a\u8fc7\u5b9e\u73b0athrow\u6765\u5904\u7406\u5f02\u5e38\u3001\u5728\u6846\u67b6\u4e2d\u4f20\u64ad\u5b83\u4eec\u5e76\u4f7f\u7528\u5f02\u5e38\u8868\u6765\u5904\u7406\u5b83\u4eec\u662f\u53e6\u4e00\u4e2a\u6709\u8da3\u7684\u4e3b\u9898\u3002\n\u6700\u540e\uff0c\u5982\u679c\u6ca1\u6709\u8fd0\u884c\u65f6\u7c7b\uff0c\u60a8\u7684JVM\u4e5f\u5c06\u6beb\u65e0\u7528\u5904\u3002\u5982\u679c\u6ca1\u6709java/lang/object\uff0c\u60a8\u751a\u81f3\u4e0d\u53ef\u80fd\u901a\u8fc7\u6784\u9020\u65b0\u5bf9\u8c61\u6765\u770b\u5230\u65b0\u6307\u4ee4\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\u60a8\u7684\u8fd0\u884c\u65f6\u53ef\u80fd\u4f1a\u4ecejava.lang\u3001java.io\u548cjava.util\u5305\u4e2d\u63d0\u4f9b\u4e00\u4e9b\u5e38\u89c1\u7684JRE\u7c7b\uff0c\u4e5f\u53ef\u80fd\u662f\u66f4\u7279\u5b9a\u4e8e\u9886\u57df\u7684\u7c7b\u3002\u6700\u6709\u53ef\u80fd\u7684\u60c5\u51b5\u662f\uff0c\u7c7b\u4e2d\u7684\u67d0\u4e9b\u65b9\u6cd5\u5fc5\u987b\u5728\u672c\u5730\u5b9e\u73b0\uff0c\u800c\u4e0d\u662f\u7528Java\u5b9e\u73b0\u3002\u8fd9\u5c06\u5f15\u53d1\u5982\u4f55\u67e5\u627e\u548c\u6267\u884c\u6b64\u7c7b\u65b9\u6cd5\u7684\u95ee\u9898\uff0c\u8fd9\u5c06\u6210\u4e3aJVM\u7684\u53e6\u4e00\u4e2a\u8fb9\u7f18\u6848\u4f8b\u3002\n\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b9e\u73b0\u4e00\u4e2a\u5408\u9002\u7684JVM\u5e76\u4e0d\u662f\u90a3\u4e48\u7b80\u5355\uff0c\u7136\u800c\uff0c\u7406\u89e3\u5b83\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u4e5f\u4e0d\u662f\u90a3\u4e48\u590d\u6742\u3002\n\u6211\u53ea\u6709\u4e00\u4e2a\u590f\u5929\u7684\u5468\u672b\u53ef\u4ee5\u817e\u51fa\u65f6\u95f4\uff0c\u800c\u4e14\u6211\u7684jvm\u8fd8\u6709\u5f88\u957f\u7684\u8def\u8981\u8d70\uff0c\u4f46\u662f\u7ed3\u6784\u770b\u8d77\u6765\u6216\u591a\u6216\u5c11\u5f88\u6e05\u695a\uff1ahttps://github.com/zserge/tojvm(\u603b\u662f\u6b22\u8fcePR\uff01)\u3002\n\u8fd9\u7bc7\u535a\u5ba2\u6587\u7ae0\u4e2d\u7684\u5b9e\u9645\u4ee3\u7801\u7247\u6bb5\u751a\u81f3\u66f4\u5c0f\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u8981\u70b9\u4f7f\u7528\u3002\n\u5982\u679c\u60a8\u60f3\u66f4\u6df1\u5165\u5730\u63a2\u8ba8\u8fd9\u4e2a\u4e3b\u9898-\u60a8\u53ef\u4ee5\u8003\u8651\u770b\u770b\u5c0f\u578bJVM\uff1a\n\u6211\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u6ca1\u6709\u8ba9\u60a8\u8fdc\u79bbJava\u3002\u865a\u62df\u673a\u5f88\u6709\u8da3\uff0cJVM\u786e\u5b9e\u914d\u5f97\u4e0a\u5b83\u7684\u4f4d\u7f6e\u3002", "note_en": "Whether we like it or not, but Java is one of the most widely used programming languages. However, since most of the applications in Java are either too boring or too complex - not every Java developer has enough curiosity to look under the hood and see how JVM works.\n In this post I will try to write a toy (and incomplete) JVM to show the core principles behind it and hopefully sparkle some interest in you to learn it further.\n   public class Add { public static int add(int a, int b) { return a + b; }}\n We compile our class with  javac Add.java and it results in  Add.class. This class file is the actual binary file that JVM can execute. All that is left to do is to implement such a JVM that would execute it correctly.\n If we look inside the  Add.class with a hexdump - we probably won\u2019t get too impressed:\n 00000000 ca fe ba be 00 00 00 34 00 0f 0a 00 03 00 0c 07 |.......4........|00000010 00 0d 07 00 0e 01 00 06 3c 69 6e 69 74 3e 01 00 |........&lt;init&gt;..|00000020 03 28 29 56 01 00 04 43 6f 64 65 01 00 0f 4c 69 |.()V...Code...Li|00000030 6e 65 4e 75 6d 62 65 72 54 61 62 6c 65 01 00 03 |neNumberTable...|00000040 61 64 64 01 00 05 28 49 49 29 49 01 00 0a 53 6f |add...(II)I...So|00000050 75 72 63 65 46 69 6c 65 01 00 08 41 64 64 2e 6a |urceFile...Add.j|00000060 61 76 61 0c 00 04 00 05 01 00 03 41 64 64 01 00 |ava........Add..|00000070 10 6a 61 76 61 2f 6c 61 6e 67 2f 4f 62 6a 65 63 |.java/lang/Objec|00000080 74 00 21 00 02 00 03 00 00 00 00 00 02 00 01 00 |t.!.............|00000090 04 00 05 00 01 00 06 00 00 00 1d 00 01 00 01 00 |................|000000a0 00 00 05 2a b7 00 01 b1 00 00 00 01 00 07 00 00 |...*............|000000b0 00 06 00 01 00 00 00 01 00 09 00 08 00 09 00 01 |................|000000c0 00 06 00 00 00 1c 00 02 00 02 00 00 00 04 1a 1b |................|000000d0 60 ac 00 00 00 01 00 07 00 00 00 06 00 01 00 00 |`...............|000000e0 00 03 00 01 00 0a 00 00 00 02 00 0b |............|\n Although we don\u2019t see a clear structure here yet - we need to find a way how to parse it: what are these  ()V and  (II)I, what is  &lt;init&gt;, and why does it start with \u201ccafe babe\u201d?\n You probably have seen another way to dump class files, which is often more useful:\n $ javap -c AddCompiled from &#34;Add.java&#34;public class Add { public Add(); Code: 0: aload_0 1: invokespecial #1 // Method java/lang/Object.&#34;&lt;init&gt;&#34;:()V 4: return public static int add(int, int); Code: 0: iload_0 1: iload_1 2: iadd 3: ireturn}\n Now we see our class, its constructor, and a method. Both constructor and method contain a few instructions and it now becomes more or less clear what our add() method does: it loads two arguments ( iload_0 and  iload_1), adds them, and returns the result. JVM is a stack machine, so there are no registers, all arguments to the instructions are stored on the internal stack and the results are pushed on the stack as well.\n  Now, how can we achieve what javap did here, how do we parse the class file?\n If we look into the  JVM specification, we learn about  classfile structure. It always starts with 4 bytes signature (CAFEBABE), then 2+2 bytes for version, sounds simple.\n Since we would have to read bytes, shorts, ints, and byte sequences from the binary file, we can start implementing our loader like this:\n type loader struct {\tr io.Reader\terr error}func (l *loader) bytes(n int) []byte {\tb := make([]byte, n, n)\t// we don&#39;t want to handle errors in each step,\t// so simply store the first found error till the end\t// and do nothing if we entered an erroneous state\tif l.err == nil {\t\t_, l.err = io.ReadFull(l.r, b)\t}\treturn b}func (l *loader) u1() uint8 { return l.bytes(1)[0] }func (l *loader) u2() uint16 { return binary.BigEndian.Uint16(l.bytes(2)) }func (l *loader) u4() uint32 { return binary.BigEndian.Uint32(l.bytes(4)) }func (l *loader) u8() uint64 { return binary.BigEndian.Uint64(l.bytes(8)) }// Usage:f, _ := os.Open(&#34;Add.class&#34;)loader := &amp;loader{r: f}cafebabe := loader.u4()major := loader.u2()minor := loader.u2()\n And then the spec tells us that we need to parse the constant pool. What is it? It is a special part of the class file, that contains constants needed to run the class. All the strings, numerical constants, and references are stored there and each has a unique uint16 index (thus, a class may have up to 64K constants).\n There are several types of constants in the pool, each containing a different set of values. We would be interested in:\n Name and type: an index of a type name and descriptor, used for fields and methods\n As you see, constants in the pool are referring to each other a lot. Since we are implementing a JVM in Go and there are no union types, let\u2019s make a Const type that would contain various possible constant fields in it:\n type Const struct {\tTag byte\tNameIndex uint16\tClassIndex uint16\tNameAndTypeIndex uint16\tStringIndex uint16\tDescIndex uint16\tString string}type ConstPool []Const\n  func (l *loader) cpinfo() (constPool ConstPool) {\tconstPoolCount := l.u2()\t// Valid constant pool indices start from 1\tfor i := uint16(1); i &lt; constPoolCount; i++ {\t\tc := Const{Tag: l.u1()}\t\tswitch c.Tag {\t\tcase 0x01: // UTF8 string literal, 2 bytes length + data\t\t\tc.String = string(l.bytes(int(l.u2())))\t\tcase 0x07: // Class index\t\t\tc.NameIndex = l.u2()\t\tcase 0x08: // String reference index\t\t\tc.StringIndex = l.u2()\t\tcase 0x09, 0x0a: // Field and method: class index + NaT index\t\t\tc.ClassIndex = l.u2()\t\t\tc.NameAndTypeIndex = l.u2()\t\tcase 0x0c: // Name-and-type\t\t\tc.NameIndex, c.DescIndex = l.u2(), l.u2()\t\tdefault:\t\t\tl.err = fmt.Errorf(&#34;unsupported tag: %d&#34;, c.Tag)\t\t}\t\tconstPool = append(constPool, c)\t}\treturn constPool}\n We keep things simple here, but in real JVM we would have to treat long and double constant types uniquely, by inserting an additional unused const item, as JVM spec tells us (since const items are considered to be 32-bit).\n To easier get string literals by indices, we would implement a  Resolve(index uint16) string method:\n func (cp ConstPool) Resolve(index uint16) string {\tif cp[index-1].Tag == 0x01 {\t\treturn cp[index-1].String\t}\treturn &#34;&#34;}\n Now we have to add similar helpers to parse a list of class interfaces, fields and methods, and their attributes:\n func (l *loader) interfaces(cp ConstPool) (interfaces []string) {\tinterfaceCount := l.u2()\tfor i := uint16(0); i &lt; interfaceCount; i++ {\t\tinterfaces = append(interfaces, cp.Resolve(l.u2()))\t}\treturn interfaces}// Field type is used for both, fields and methodstype Field struct {\tFlags uint16\tName string\tDescriptor string \tAttributes []Attribute }// Attributes contain addition information about fields and classes// The most useful is &#34;Code&#34; attribute, which contains actual byte codetype Attribute struct {\tName string\tData []byte}func (l *loader) fields(cp ConstPool) (fields []Field) {\tfieldsCount := l.u2()\tfor i := uint16(0); i &lt; fieldsCount; i++ {\t\tfields = append(fields, Field{\t\t\tFlags: l.u2(),\t\t\tName: cp.Resolve(l.u2()),\t\t\tDescriptor: cp.Resolve(l.u2()),\t\t\tAttributes: l.attrs(cp),\t\t})\t}\treturn fields}func (l *loader) attrs(cp ConstPool) (attrs []Attribute) {\tattributesCount := l.u2()\tfor i := uint16(0); i &lt; attributesCount; i++ {\t\tattrs = append(attrs, Attribute{\t\t\tName: cp.Resolve(l.u2()),\t\t\tData: l.bytes(int(l.u4())),\t\t})\t}\treturn attrs}\n Both, fields and methods are represented as Fields, which is very fortunate and saves us some time. Finally, we can assemble it all together and parse our complete class:\n type Class struct {\tConstPool ConstPool\tName string\tSuper string\tFlags uint16\tInterfaces []string\tFields []Field\tMethods []Field\tAttributes []Attribute}func Load(r io.Reader) (Class, error) {\tloader := &amp;loader{r: r}\tc := Class{}\tloader.u8() // magic (u32), minor (u16), major (u16)\tcp := loader.cpinfo() // const pool info\tc.ConstPool = cp\tc.Flags = loader.u2() // access flags\tc.Name = cp.Resolve(loader.u2()) // this class\tc.Super = cp.Resolve(loader.u2()) // super class\tc.Interfaces = loader.interfaces(cp)\tc.Fields = loader.fields(cp) // fields\tc.Methods = loader.fields(cp) // methods\tc.Attributes = loader.attrs(cp) // methods\treturn c, loader.err}\n Now if we look into the resulting class info we will see that it has zero fields and two methods -  &lt;init&gt;:()V and  add:(II)V. What are these things that look like roman numbers with parens? Those are descriptors, they define what types of arguments a method takes and what it returns. In this case  &lt;init&gt; (a synthetic method, used to initialize objects when they are constructed) takes no arguments and returns nothing (V=void), while the \u201cadd\u201d method takes two ints (I=int32) and also returns nothing.\n  If we look closer, we\u2019ll see that each method in our parsed class has one attribute, named \u201cCode\u201d. This attribute has a slice of bytes as a payload.The bytes are the following:\n &lt;init&gt;:[0 1 0 1 0 0 0 5 42 183 0 1 177 0 0 0 1 0 7 0 0 0 6 0 1 0 0 0 1]add:[0 2 0 2 0 0 0 4 26 27 96 172 0 0 0 1 0 7 0 0 0 6 0 1 0 0 0 3]\n If we look at the spec, this time in the  bytecode section, we will see that \u201cCode\u201d attribute starts with maxstack value (2 bytes), then maxlocals (2 bytes), then code length (4 bytes), and then actual code. So our attributes can be read like this:\n &lt;init&gt;: maxstack: 1, maxlocals: 1, code: [42 183 0 1 177]add: maxstack: 2, maxlocals: 2, code: [26 27 96 172]\n Yes, we only have 4 and 5 bytes of code in each method. What do those bytes mean?\n Like I said, JVM is a stack machine. Each instruction is encoded as a single byte, which might be followed by some additional arguments. If we look at the spec, we will see that the \u201cadd\u201d method has the following instructions:\n  Exactly like we saw in javap output at the beginning! But how shall we execute it?\n  When a method is executed inside the JVM, it has its own stack for temporary operands, its own local variables, and its own chunk of code to execute. All these parameters are stored in a single execution frame. Additionally, frames contain the current instruction pointer (how far we have advanced while executing the bytecode) and a pointer to the class, which contained the method. The latter is needed to get access to the const pool of the class, as well as other details.\n Let\u2019s make a method that constructs a frame for the given method to be called with the given arguments. I will be using  interface{} type here as the Value type, although proper union types would of course be a safer choice.\n type Frame struct {\tClass Class\tIP uint32\tCode []byte\tLocals []interface{}\tStack []interface{}}func (c Class) Frame(method string, args ...interface{}) Frame {\tfor _, m := range c.Methods {\t\tif m.Name == method {\t\t\tfor _, a := range m.Attributes {\t\t\t\tif a.Name == &#34;Code&#34; &amp;&amp; len(a.Data) &gt; 8 {\t\t\t\t\tmaxLocals := binary.BigEndian.Uint16(a.Data[2:4])\t\t\t\t\tframe := Frame{\t\t\t\t\t\tClass: c,\t\t\t\t\t\tCode: a.Data[8:],\t\t\t\t\t\tLocals: make([]interface{}, maxLocals, maxLocals),\t\t\t\t\t}\t\t\t\t\tfor i := 0; i &lt; len(args); i++ {\t\t\t\t\t\tframe.Locals[i] = args[i]\t\t\t\t\t}\t\t\t\t\treturn frame\t\t\t\t}\t\t\t}\t\t}\t}\tpanic(&#34;method not found&#34;)}\n So, we got the Frame, with initialized locals, empty stack, and preloaded bytecode. Now it\u2019s time to execute the bytecode:\n func Exec(f Frame) interface{} {\tfor {\t\top := f.Code[f.IP]\t\tlog.Printf(&#34;OP:%02x STACK:%v&#34;, op, f.Stack)\t\tn := len(f.Stack)\t\tswitch op {\t\tcase 26: // iload_0\t\t\tf.Stack = append(f.Stack, f.Locals[0])\t\tcase 27: // iload_1\t\t\tf.Stack = append(f.Stack, f.Locals[1])\t\tcase 96:\t\t\ta := f.Stack[n-1].(int32)\t\t\tb := f.Stack[n-2].(int32)\t\t\tf.Stack[n-2] = a + b\t\t\tf.Stack = f.Stack[:n-1]\t\tcase 172: // ireturn\t\t\tv := f.Stack[n-1]\t\t\tf.Stack = f.Stack[:n-1]\t\t\treturn v\t\t}\t\tf.IP++\t}}\n  f, _ := os.Open(&#34;Add.class&#34;)class, _ := Load(f)frame := class.Frame(&#34;add&#34;, int32(2), int32(3))result := Exec(frame)log.Println(result)// OUTPUT:OP:1a STACK:[]OP:1b STACK:[2]OP:60 STACK:[2 3]OP:ac STACK:[5]5\n So, it works. Yes, it\u2019s a very lousy and pitiful JVM, but still, it does what JVM does - loads bytecode and interprets it (but of course, the real JVM does way more than that).\n  The other two hundred instructions, the runtime, OOP type system, and a few other things.\n  Constants (put a null or a small number or values from const pool on the stack).\n         Extended. Something that would look like an ugly workaround at a first glance. And it probably won\u2019t change over time.\n Most instructions are trivial to implement - they take one or two arguments from the stack, perform some operation on them, and push the result. The only thing to keep in mind here is that long and double instructions expect that each value takes two slots on the stack, so you may require additional push() and pop(), which makes it harder to group the instructions.\n Implementing References requires to think about the object model - how you would like to store Objects and their Classes, how to represent inheritance, where to store instance fields and class fields. Also, this is where you would have to be careful about method dispatching - there are multiple \u201cinvoke\u201d instructions and they behave in a slighly different manner:\n invokespecial: invoke an instance method directly, mostly used for synthetic methods, like  &lt;init&gt;, or private methods.\n   invokedynamic: invoke a dynamically-computed call site, new in Java 7, useful for dynamic methods and MethodHandles.\n If you implement a JVM in a language without garbage collection - this is also where you should think about how to perform the garbage collection: reference counting, mark-and-sweep, etc. Handling exceptions by implementing  athrow, propagating them through the frames and handling them with exception tables is another interesting topic.\n Finally, your JVM remains useless if there no runtime classes. Without  java/lang/Object you are unlikely to even see how  new instruction works by constructing new objects. Your runtime may provide some common JRE classes from java.lang, java.io, and java.util packages, or it may be something more domain-specific. Most likely some methods in the classes would have to be implemented natively and not in Java. This will raise the question of how to find and execute such methods and it becomes another edge case for your JVM.\n In other words, implementing a proper JVM is not so trivial, however, understanding how it is implemented is not so complex either.\n I only had one summer weekend to spare, and my JVM still has a long way to go, but the structure looks more or less clear:  https://github.com/zserge/tojvm (PRs are always welcome!)\n The actual code snippets from this blog post are even smaller and available as a  gist.\n If you would like to explore the topic deeper - you may consider looking at small JVMs:\n  I hope this article did not turn you away from Java. Virtual machines are fun, and JVM truly deserves its place.", "posttime": "2020-06-03 02:36:26", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u73a9\u5177,toy,\u65b9\u6cd5", "title": "\u5982\u4f55\u7f16\u5199(\u73a9\u5177)JVM", "title_en": "How to Write a (Toy) JVM", "transed": 1, "url": "https://zserge.com/posts/jvm/", "via": "", "real_tags": ["\u73a9\u5177", "toy", "\u65b9\u6cd5"]}, {"category": "", "categoryclass": "", "imagename": "f8540ff7a13056e8ea2d89cd7fd5958a.png", "infoid": 1004872, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u6839\u636e\u98de\u884c\u65e5\u5fd7\uff0c\u6d77\u5173\u548c\u8fb9\u5883\u4fdd\u62a4\u5c40(CBP)\u5728\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u6b63\u5728\u8fdb\u884c\u7684\u53cd\u5bf9\u8b66\u5bdf\u66b4\u884c\u7684\u6297\u8bae\u6d3b\u52a8\u4e2d\u98de\u884c\u4e86\u4e00\u67b6\u6355\u98df\u8005\u65e0\u4eba\u673a\u3002\n\u4e0a\u534810\u70b910\u5206\u5de6\u53f3\uff0c\u4e00\u67b6\u4f7f\u7528\u547c\u53f7CBP-104\u7684\u98de\u673a\u4ece\u5317\u8fbe\u79d1\u4ed6\u5dde\u7684\u5927\u798f\u514b\u65af\u7a7a\u519b\u57fa\u5730\u8d77\u98de-CBP\u5728\u90a3\u91cc\u9a7b\u624e\u7740\u65e0\u4eba\u673a\u3002\u7f8e\u56fd\u4e1c\u90e8\u65f6\u95f4\uff0c\u5230\u8fbe\u660e\u5c3c\u963f\u6ce2\u5229\u65af\uff0c\u5e76\u4e8e\u4e0a\u534811\u70b947\u5206\u5728\u57ce\u5e02\u4e0a\u7a7a2\u4e07\u82f1\u5c3a\u5904\u8fdb\u5165\u516d\u89d2\u5f62\u7b49\u5f85\u6a21\u5f0f\u3002\u57c3\u7279\u3002\u4e0b\u53481\u70b915\u5206\u5de6\u53f3\u3002\u4e1c\u90e8\u65f6\u95f4\uff0c\u5b83\u5f00\u59cb\u8fd4\u56de\u5927\u798f\u514b\u65af\u3002\n\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u4e0d\u5728CBP\u7ba1\u8f96\u7684100\u7a7a\u4e2d\u82f1\u91cc\u8fb9\u5883\u533a\u5185\uff0c\u8fd9\u4e00\u5730\u533a\u7684\u4eba\u53e3\u7565\u4f4e\u4e8e\u5168\u56fd\u4eba\u53e3\u7684\u4e09\u5206\u4e4b\u4e8c\u3002\u76ee\u524d\uff0c\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u8b66\u5bdf\u5c40\u9488\u5bf9\u66b4\u884c\u548c\u79cd\u65cf\u4e3b\u4e49\u7684\u5927\u89c4\u6a21\u6297\u8bae\u6d3b\u52a8\u9707\u64bc\u4e86\u8fd9\u5ea7\u57ce\u5e02\uff0c\u8fd9\u4e9b\u6297\u8bae\u6d3b\u52a8\u968f\u540e\u5f15\u53d1\u4e86\u5168\u56fd\u5404\u5730\u7684\u5176\u4ed6\u793a\u5a01\u6d3b\u52a8\u3002\u5468\u4e94\uff0c\u5510\u7eb3\u5fb7\u00b7\u7279\u6717\u666e(Donald Trump)\u5728\u53d1\u51fa\u4ee4\u4eba\u538c\u6076\u7684\u201c\u519b\u65b9\u201d\u4f7f\u7528\u81f4\u547d\u6b66\u529b\u5a01\u80c1\u7684\u540c\u65f6\uff0c\u5c06\u8be5\u5e02\u7684\u793a\u5a01\u8005\u79f0\u4e3a\u62a2\u52ab\u8005\u548c\u201c\u66b4\u5f92\u201d\u3002\n\u5468\u4e94\uff0c\u767d\u5bab\u8f6c\u53d1\u4e86\u5510\u7eb3\u5fb7\u00b7\u7279\u6717\u666e\u547c\u5401\u2026\u7684\u63a8\u6587\uff0c\u5632\u8bbd\u63a8\u7279\u3002\n\u591a\u8bfb\u3002\nCBP-104\u6700\u5148\u88ab\u98de\u884c\u89c2\u5bdf\u793e\u533aADB-S Exchange\u53d1\u73b0\uff0c\u5e76\u88ab\u8c03\u67e5\u8bb0\u8005Jason Paladino\u5728Twitter\u4e0a\u6807\u8bb0\u3002\u6355\u98df\u8005\u65e0\u4eba\u673a\u914d\u5907\u4e86\u5f3a\u5927\u7684\u6444\u50cf\u5934\uff0c\u53ef\u4ee5\u572825000\u82f1\u5c3a\u7684\u9ad8\u7a7a\u6355\u6349\u6e05\u6670\u7684\u89c6\u9891\uff0c\u5e76\u80fd\u591f\u5728\u7a7a\u4e2d\u505c\u7559\u6570\u5341\u4e2a\u5c0f\u65f6\u3002\n\u547c\u53f7CBP-104\u88ab\u8bb8\u591a\u6d88\u606f\u6765\u6e90\u786e\u8ba4\u4e3a\u8be5\u673a\u6784\u8fd0\u8425\u7684\u6355\u98df\u8005\u65e0\u4eba\u673a\uff0c\u5305\u62ec\u5236\u9020\u5546\u901a\u7528\u539f\u5b50\u516c\u53f82006\u5e74\u7684\u65b0\u95fb\u7a3f\uff0c2007\u5e74\u7684\u4e00\u7bc7\u79d1\u666e\u6587\u7ae0\uff0c\u4ee5\u53caCBP\u7684\u6f14\u793a\u6587\u7a3f\u548c\u65e0\u4eba\u673a\u98de\u884c\u65e5\u5fd7\u3002\u6240\u8ba8\u8bba\u7684\u786e\u5207\u578b\u53f7\u662f\u201c\u6355\u98df\u8005B\u201d\uff0c\u901a\u5e38\u7528\u578b\u53f7\u540d\u79f0MQ-9\u201c\u6536\u5272\u8005\u201d\u6765\u8bc6\u522b\u3002\nCBP\u65e0\u4eba\u4fa6\u5bdf\u673a\u83b7\u51c6\u5728\u8fb9\u5883100\u7a7a\u4e2d\u82f1\u91cc\u8303\u56f4\u5185\u884c\u52a8\uff0c\u8fb9\u5883\u6216\u591a\u6216\u5c11\u53d7\u5230\u6301\u7eed\u7684\u7a7a\u4e2d\u76d1\u89c6\u3002\u81f3\u5c11\u6839\u636eCityLab\u7684\u4e00\u4e2a\u5730\u56fe\u9879\u76ee\uff0cCBP-104\u5728\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u4e0a\u7a7a\u7684\u6574\u4e2a\u7b49\u5f85\u6a21\u5f0f\u90fd\u5728\u8be5\u533a\u57df\u4e4b\u5916\uff0c\u4e0a\u5468\u4e94\u7684\u5927\u90e8\u5206\u98de\u884c\u8def\u7ebf\u4e5f\u662f\u5982\u6b64\u3002\u7136\u800c\uff0cCBP\u7ecf\u5e38\u4e3b\u5f20\u6269\u5927\u6743\u529b\uff0c\u91cd\u65b0\u5b9a\u4e49\u5176\u7ba1\u8f96\u6743\u7684\u8fb9\u754c\uff0c\u4f8b\u5982\u56fd\u9645\u673a\u573a\u5468\u56f4\u7684\u533a\u57df\uff0c\u8fb9\u5883\u5de1\u903b\u961f\u53ef\u4ee5\u5728\u90a3\u91cc\u8bc1\u660e\u53d1\u751f\u4e86\u8d8a\u5883\u3002\n\u81ea\u7531\u610f\u5fd7\u4e3b\u4e49\u7684\u5361\u6258\u7814\u7a76\u6240(Cato Institute)2018\u5e74\u7684\u4e00\u9879\u5206\u6790\u53d1\u73b0\uff0c\u8be5\u673a\u6784\u8fd0\u8425\u7684\u6355\u98df\u8005B\u65e0\u4eba\u673a\u5bf9\u7f34\u83b7\u6bd2\u54c1\u548c\u902e\u6355\u8bd5\u56fe\u8fdb\u5165\u7f8e\u56fd\u7684\u4eba\u7b49\u884c\u52a8\u51e0\u4e4e\u6ca1\u6709\u8d21\u732e\uff0c\u4f46\u5b83\u4eec\u786e\u5b9e\u8d4b\u4e88\u4e86CBP\u672a\u7ecf\u6388\u6743\u7684\u76d1\u63a7\u6743\uff0c\u800cCBP\u66fe\u6570\u767e\u6b21\u501f\u7ed9\u5176\u4ed6\u673a\u6784\u3002\nACLU\u9ad8\u7ea7\u7acb\u6cd5\u987e\u95ee\u5c3c\u739b\u00b7\u8f9b\u683c\u00b7\u53e4\u5229\u4e9a\u5c3c(Neema Singh Guliani)\u5728\u7ed9Gizmodo\u7684\u4e00\u4efd\u58f0\u660e\u4e2d\u5199\u9053\uff1a\u201c\u4efb\u4f55\u653f\u5e9c\u673a\u6784\u90fd\u4e0d\u5e94\u8be5\u4e3a\u9ed1\u4eba\u793e\u533a\u7684\u8fc7\u5ea6\u76d1\u7ba1\u63d0\u4f9b\u4fbf\u5229\uff0c\u5230\u6b64\u4e3a\u6b62\u3002\u201d\u201c\u800cCBP\u5728\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u53d1\u751f\u7684\u4e8b\u60c5\u4e2d\u6839\u672c\u6ca1\u6709\u4efb\u4f55\u4f5c\u7528\u3002\u8fd9\u4e2a\u6d41\u6c13\u673a\u6784\u4f7f\u7528\u519b\u4e8b\u6280\u672f\u76d1\u89c6\u7f8e\u56fd\u5883\u5185\u7684\u6297\u8bae\u8005\u4ee4\u4eba\u6df1\u611f\u4e0d\u5b89\uff0c\u7279\u522b\u662f\u8003\u8651\u5230CBP\u7f3a\u4e4f\u660e\u786e\u800c\u5f3a\u6709\u529b\u7684\u653f\u7b56\u6765\u4fdd\u62a4\u9690\u79c1\u548c\u5baa\u6cd5\u6743\u5229\u3002\u8be5\u673a\u6784\u5728\u57ce\u5e02\u4e0a\u7a7a\u4f7f\u7528\u65e0\u4eba\u673a\u7684\u884c\u4e3a\u5e94\u8be5\u7acb\u5373\u505c\u6b62\u3002\u201c\u3002\n\u867d\u7136\u5f88\u660e\u663eCBP-104\u6b63\u5728\u76d1\u63a7\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u7684\u6297\u8bae\u6d3b\u52a8\uff0c\u4f46\u4e0d\u592a\u6e05\u695aCBP\u9a7e\u9a76\u65e0\u4eba\u673a\u662f\u51fa\u4e8e\u81ea\u613f\uff0c\u8fd8\u662f\u5e94\u5f53\u5730\u6267\u6cd5\u90e8\u95e8\u6216\u5176\u4ed6\u8054\u90a6\u673a\u6784\u7684\u8981\u6c42\u3002\u76ee\u524d\u4e5f\u4e0d\u6e05\u695a\u65e0\u4eba\u673a\u6536\u96c6\u7684\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u4fe1\u606f\uff0c\u76ee\u7684\u662f\u4ec0\u4e48\u3002CBP\u57282015\u5e74\u544a\u8bc9MPR\u65b0\u95fb\uff0c\u98de\u51fa\u5927\u798f\u514b\u65af\u57fa\u5730\u7684\u65e0\u4eba\u673a\u65e0\u6cd5\u8fdb\u884c\u8f66\u724c\u8bc6\u522b\u548c\u4eba\u8138\u8bc6\u522b\uff0c\u5c31\u57282020\u5e742\u6708\uff0cCBP\u544a\u8bc9Recode\uff0c\u5b83\u5728\u8fb9\u5883\u6ca1\u6709\u4f7f\u7528\u4eba\u8138\u8bc6\u522b\u3002\nCBP\u6ca1\u6709\u7acb\u5373\u56de\u590dGizmodo\u7684\u7f6e\u8bc4\u8bf7\u6c42\uff0c\u5982\u679c\u6709\u6d88\u606f\uff0c\u6211\u4eec\u4f1a\u66f4\u65b0\u8fd9\u7bc7\u5e16\u5b50\u3002\n\u66f4\u65b0\u65f6\u95f4\uff1a2020\u5e745\u670829\u65e5\u4e0b\u53483\uff1a00\u3002ET\uff1a\u8fd9\u7bc7\u5e16\u5b50\u5df2\u7ecf\u66f4\u65b0\uff0c\u5305\u62ec\u6765\u81ea\u7f8e\u56fd\u516c\u6c11\u81ea\u7531\u8054\u76df\u7684\u8bc4\u8bba\u3002\n\u66f4\u6b63\uff1a2020\u5e745\u670829\u65e5\u4e0b\u53485\uff1a29\u3002ET\uff1a\u8fd9\u7bc7\u6587\u7ae0\u7684\u524d\u4e00\u4e2a\u7248\u672c\u8bf4\uff0c\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u5728CBP\u98de\u673a\u83b7\u51c6\u8fd0\u8425\u7684\u8fb9\u5883\u5468\u56f4100\u82f1\u91cc\u7684\u7a7a\u57df\u5185\u3002\u4e8b\u5b9e\u4e0a\uff0cCBP-104\uff1b\u5728\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u4e0a\u7a7a\u7684\u6301\u6709\u6a21\u5f0f\u4f3c\u4e4e\u76f4\u63a5\u843d\u5728\u4e86\u8be5\u533a\u57df\u4e4b\u5916-\u8fd9\u4f7f\u5f97\u8fd9\u79cd\u5929\u6865\u66f4\u52a0\u4ee4\u4eba\u6000\u7591\u3002\u6211\u4eec\u5bf9\u8fd9\u4e2a\u9519\u8bef\u611f\u5230\u62b1\u6b49\u3002\n\u5728\u5bfb\u627e\u652f\u6301\u9ed1\u4eba\u751f\u6d3b\u7684\u65b9\u6cd5\u5417\uff1f\u8bf7\u67e5\u770b\u6211\u4eec\u7684\u59ca\u59b9\u7f51\u7ad9Lifehacker\u63d0\u4f9b\u7684\u8d44\u6e90\u5217\u8868\uff0c\u4e86\u89e3\u53c2\u4e0e\u7684\u65b9\u5f0f\u3002", "note_en": "Customs and Border Protection (CBP) has flown a Predator drone above ongoing protests against police brutality in Minneapolis,   according to flight logs.\n  An aircraft using   the call sign CBP-104 took off from Grand Forks Air Force Base in North Dakota\u2014where CBP   has drones stationed\u2014at around 10:10 a.m. ET, reaching Minneapolis and entering a hexagon-shaped holding pattern at 20,000 feet over the city at 11:47 a.m. ET. At around 1:15 p.m. ET, it began heading back to Grand Forks.\n Minneapolis is not inside the 100 air mile border zone where CBP has jurisdiction, an area that encompasses   just shy of two-thirds of the nation\u2019s population. The city is currently being rocked by massive protests against   brutality and racism by the Minneapolis Police Department that have gone on to inspire other demonstrations around the country. Donald Trump referred to demonstrators in the city as looters and \u201cthugs\u201d while issuing a   disgusting threat of lethal force by \u201cthe Military\u201d on Friday.\n    The White House taunted Twitter on Friday by reposting Donald Trump\u2019s tweet calling for the\u2026\n Read more\n CBP-104 was first spotted by flight-watching community ADB-S Exchange,   according to Vice, and was flagged on Twitter by   investigative reporter Jason Paladino. Predator drones are equipped with powerful cameras designed to capture clear video from as far up as 25,000 feet in the air and are capable of remaining airborne for dozens of hours.\n   The call sign CBP-104 is identified by numerous sources as a Predator drone operated by the agency, including a   2006 press release by manufacturer General Atomics, a 2007   Popular Science article, and   CBP presentations and   drone flight logs. The exact model in question is a Predator B, which is more typically identified by the model name MQ-9 Reaper.\n CBP surveillance drones are cleared to operate   within 100 air miles of the border, which is under more or less   continual aerial surveillance. The entirety of CBP-104&#39;s holding pattern over Minneapolis falls outside of that zone, as does much of its flight path on Friday, at least according to a   CityLab mapping project. However, CBP has often asserted   expanded authority to redefine the boundaries of its jurisdiction, such as areas surrounding   an international airport where Border Patrol can demonstrate a crossing occurred.\n  An analysis by the libertarian Cato Institute in 2018 found that Predator B drones operated by the agency   contribute little to actions like drug seizures and apprehending people attempting to enter the U.S., but they do give CBP warrantless surveillance powers that it has lent to other agencies on hundreds of occasions.\n \u201cNo government agency should be facilitating the over-policing of the Black community, period,\u201d ACLU Senior Legislative Counsel Neema Singh Guliani wrote to Gizmodo in a statement. \u201cAnd CBP has no role in what\u2019s happening in Minneapolis at all. This rogue agency\u2019s use of military technology to surveil protesters inside U.S. borders is deeply disturbing, especially given CBP\u2019s lack of clear and strong policies to protect privacy and constitutional rights. This agency\u2019s use of drones over the city should be halted immediately.\u201d\n  While it is obvious that CBP-104 is monitoring the protests in Minneapolis, it is less clear whether CBP is flying the drone of its own volition or the fly-over was requested by local law enforcement or another federal agency. It is also not clear what type of information the drone is collecting and for what purpose. CBP   told MPR News in 2015 that drones flying out of the Grand Forks base are not capable license plate identification and face recognition, and as recently as February 2020   told Recode it is not using face recognition at the border.\n CBP didn\u2019t immediately respond to a request for comment from Gizmodo, and we\u2019ll update this post if we hear back.\n  Update: 5/29/2020 at 3:00 p.m. ET: This post has been updated to include comments from the ACLU.\n Correction: 5/29/2020 at 5:29 p.m. ET: A prior version of this article stated that Minneapolis was within the 100 air mile zone around the border where CBP aircraft are cleared to operate. In fact, CBP-104&#39;s holding pattern over Minneapolis appears to have fallen directly outside of that zone\u2014 which makes this fly-over even more questionable. We regret the error.\n  Looking for ways to advocate for black lives? Check out this    list of resources  by our sister site Lifehacker for ways to get involved.", "posttime": "2020-06-03 02:36:07", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u8fb9\u5883,border,cbp", "title": "\u6d77\u5173\u548c\u8fb9\u5883\u4fdd\u62a4\u5c40\u9a7e\u9a76\u6355\u98df\u8005\u65e0\u4eba\u673a\u98de\u8d8a\u660e\u5c3c\u963f\u6ce2\u5229\u65af\u6297\u8bae\u6d3b\u52a8", "title_en": "Customs and Border Protection Flew a Predator Drone over Minneapolis Protests", "transed": 1, "url": "https://gizmodo.com/customs-and-border-protection-flew-a-predator-surveilla-1843758034", "via": "", "real_tags": ["\u8fb9\u5883", "border", "cbp"]}, {"category": "", "categoryclass": "", "imagename": "c77ff936ca38e3f88f6690e3e761872e.jpeg", "infoid": 1004870, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u5bf9\u6d41\u5a92\u4f53\u672a\u6765\u7684\u8c6a\u8d4cHBO Max\u5c06\u4e0d\u53d7AT&amp\uff1bT\u7684\u79fb\u52a8\u6570\u636e\u4e0a\u9650\u9650\u5236\uff0c\u800cNetflix\u548cDisney Plus\u7b49\u7ade\u4e89\u5bf9\u624b\u5c06\u8017\u5c3d\u4f60\u7684\u6570\u636e\u3002\n\u8fd9\u662fVergecast\u4e0e\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u8d1f\u8d23HBO Max\u7684\u9ad8\u7ba1\u6258\u5c3c\u00b7\u8d21\u5361\u5c14\u7ef4\u65af(Tony Goncalves)\u8c08\u8bdd\u7684\u540e\u7eed\u5185\u5bb9\u3002\u5f53\u88ab\u95ee\u53caHBO Max\u662f\u5426\u4f1a\u8fbe\u5230\u4e0a\u9650\u65f6\uff0c\u8d21\u5361\u5c14\u7ef4\u65af\u8bf4\u4ed6\u7684\u56e2\u961f\u201c\u8fdb\u884c\u4e86\u5bf9\u8bdd\u201d\uff0c\u4f46\u6ca1\u6709\u7b54\u6848\u3002\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u540e\u6765\u5411The Verge\u8bc1\u5b9e\uff0cHBO Max\u5c06\u514d\u9664\u8be5\u516c\u53f8\u7684\u4f20\u7edf\u6570\u636e\u4e0a\u9650\u548c\u65e0\u9650\u5236\u5957\u9910\u7684\u8f6f\u6570\u636e\u4e0a\u9650\u3002\n\u636e\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u4e00\u4f4d\u77e5\u60c5\u9ad8\u7ba1\u900f\u9732\uff0cHBO Max\u6b63\u5728\u4f7f\u7528AT&amp\uff1bT\u7684\u201c\u8d5e\u52a9\u6570\u636e\u201d\u7cfb\u7edf\uff0c\u4ece\u6280\u672f\u4e0a\u8bb2\uff0c\u8be5\u7cfb\u7edf\u5141\u8bb8\u4efb\u4f55\u516c\u53f8\u4ed8\u8d39\uff0c\u4ee5\u907f\u514d\u5176\u670d\u52a1\u53d7\u5230\u6570\u636e\u4e0a\u9650\u7684\u9650\u5236\u3002\u4f46\u7531\u4e8eAT&amp\uff1bT\u62e5\u6709HBO Max\uff0c\u5b83\u53ea\u662f\u5728\u652f\u4ed8\u81ea\u5df1\u7684\u8d39\u7528\uff1a\u6570\u636e\u8d39\u5728HBO Max\u7684\u8d26\u7c3f\u4e0a\u663e\u793a\u4e3a\u4e00\u9879\u8d39\u7528\uff0c\u5728AT&amp\uff1bT Mobility\u7684\u8d26\u7c3f\u4e0a\u663e\u793a\u4e3a\u6536\u5165\u3002\u5bf9\u4e8e\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u6765\u8bf4\uff0c\u5b83\u662f\u5f52\u96f6\u7684\u3002\u4e0eNetflix\u8fd9\u6837\u7684\u7ade\u4e89\u5bf9\u624b\u76f8\u6bd4\uff0cNetflix\u7406\u8bba\u4e0a\u53ef\u4ee5\u5411\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u652f\u4ed8\u8d5e\u52a9\u6570\u636e\u8d39\u7528\uff0c\u4f46\u8fd9\u5c06\u662f\u7eaf\u7cb9\u7684\u6210\u672c\u3002\n\u7406\u8bba\u4e0a\uff0cNetflix\u53ef\u4ee5\u5411\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u652f\u4ed8\u8d5e\u52a9\u6570\u636e\u7684\u8d39\u7528\uff0c\u4f46\u8fd9\u5c06\u662f\u4e00\u9879\u7eaf\u7cb9\u7684\u6210\u672c\u3002\n\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u4e0a\u4e00\u6b21\u6211\u4eec\u67e5\u770bAT&amp\uff1b\u7684\u8d5e\u52a9\u6570\u636e\u7cfb\u7edf\u65f6\uff0c\u6211\u4eec\u80fd\u627e\u5230\u7684\u4f7f\u7528\u5b83\u7684\u4ec5\u6709\u7684\u4e09\u5bb6\u6d41\u5a92\u4f53\u670d\u52a1\u2026\u2026\u3002\u90fd\u5f52AT&amp\uff1bT\u6240\u6709\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8d5e\u52a9\u7684\u6570\u636e\u7cfb\u7edf\u8fdd\u53cd\u7f51\u7edc\u4e2d\u7acb\u539f\u5219\u7684\u539f\u56e0\u3002\u7f8e\u56fd\u7535\u8bdd\u7535\u62a5\u516c\u53f8(AT&amp\uff1bT)\u7684\u6d41\u5a92\u4f53\u670d\u52a1\u76f8\u5bf9\u4e8e\u5176\u7ade\u4e89\u5bf9\u624b\u5177\u6709\u91cd\u5927\u4f18\u52bf\uff0c\u6240\u6709\u8fd9\u4e9b\u7ade\u4e89\u5bf9\u624b\u90fd\u9762\u4e34\u7740\u4e0a\u9650\u7684\u6311\u6218\u3002\u4f46\u7f8e\u56fd\u4e0d\u518d\u6709\u7f51\u7edc\u4e2d\u7acb\uff0c\u56e0\u6b64AT&T\u53ef\u4ee5\u81ea\u7531\u5730\u7ed9\u4e88\u81ea\u5df1\u4f18\u60e0\u5f85\u9047\u3002\n\u201c\u7f51\u7edc\u662f\u6c34\u7ba1\uff0c\u5185\u5bb9\u662f\u6c34\u3002\u4f60\u53ef\u4ee5\u770b\u5230\u6c34\u548c\u6c34\u7ba1\u5728\u4e00\u8d77\uff0c\u201c\u8d21\u5361\u5c14\u7ef4\u65af\u8bf4\u3002", "note_en": "HBO Max, AT&amp;T\u2019s big bet on the future of streaming, will be excused from AT&amp;T\u2019s mobile data caps, while competing services like Netflix and Disney Plus will use up your data.\n That\u2019s the follow-up from a  Vergecast conversation with Tony Goncalves, the AT&amp;T executive in charge of HBO Max. Asked whether HBO Max would hit the cap, Goncalves said his team \u201chad the conversation\u201d but didn\u2019t have the answer. AT&amp;T later confirmed to  The Verge that HBO Max will be excused from the company\u2019s traditional data caps and the soft data caps on unlimited plans.\n  According to an AT&amp;T executive familiar with the matter, HBO Max is using AT&amp;T\u2019s \u201csponsored data\u201d system, which technically allows any company to pay to excuse its services from data caps. But since AT&amp;T owns HBO Max, it\u2019s just paying itself: the data fee shows up on the HBO Max books as an expense and on the AT&amp;T Mobility books as revenue. For AT&amp;T as a whole, it zeroes out. Compare that to a competitor like Netflix, which could theoretically pay AT&amp;T for sponsored data, but it would be a pure cost.\n Netflix could theoretically pay AT&amp;T for sponsored data, but it would be a pure cost\n That\u2019s why the last time we looked at AT&amp;T\u2019s sponsored data system, the only three streaming services we could find using it...  were owned by AT&amp;T. It\u2019s also why sponsored data systems fly in the face of net neutrality principles. AT&amp;T\u2019s streaming services have a major advantage over its competitors, all of which run up against the cap. But there\u2019s no net neutrality in the United States anymore, so AT&amp;T is free to give itself preferential treatment.\n \u201cThe network is the plumbing, and the content is the water. And you\u2019re seeing water and the plumbing kind of coming together,\u201d said Goncalves.", "posttime": "2020-06-03 01:51:53", "source_domain": "slashdot.org", "source_name": "slashdot", "tags": "max,\u6570\u636e", "title": "HBO Max\u4e0d\u4f1a\u51b2\u51fbAT&T\u6570\u636e\u4e0a\u9650\uff0c\u4f46Netflix\u548cDisney Plus\u4f1a", "title_en": "HBO Max Won't Hit AT&T Data Caps, But Netflix and Disney Plus Will", "transed": 1, "url": "https://www.theverge.com/2020/6/2/21277402/hbo-max-att-data-caps-netflix-disney-plus-streaming-services-net-neutrality", "via": "", "real_tags": ["max", "\u6570\u636e"]}, {"category": "", "categoryclass": "", "imagename": "134487f0cc837a288f894700debe59f5.png", "infoid": 1004869, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5f53\u7531\u4e8e\u8fbe\u5230\u6700\u5927\u540c\u65f6\u6309\u952e\u6b21\u6570\u800c\u53d1\u9001\u610f\u5916\u4fe1\u53f7/\u5b57\u7b26\u65f6\uff0c\u4f1a\u51fa\u73b0\u91cd\u5f71\u91cd\u5f71\u3002\n\u5f53\u540c\u65f6\u6309\u4e0b\u591a\u4e2a\u952e\u65f6\uff0c\u67d0\u4e9b\u952e\u76d8\u952e\u4e0d\u8d77\u4f5c\u7528\u3002\u90a3\u4e9b\u6ca1\u6709\u51fa\u73b0\u5728\u7535\u8111\u4e0a\u6216\u4f3c\u4e4e\u6d88\u5931\u4e86\u7684\u6309\u952e\u88ab\u79f0\u4e3a\u201c\u5e7d\u7075\u201d\u3002\u5728\u5927\u591a\u6570\u952e\u76d8\u4e0a\uff0c\u5373\u4f7f\u662f\u4e00\u4e9b\u660e\u786e\u6807\u699c\u4e3a\u201c\u9632\u91cd\u5f71\u201d\u7684\u952e\u76d8\uff0c\u8fd9\u4e5f\u662f\u901a\u8fc7\u4e09\u4e2a\u952e\u7684\u7ec4\u5408\u6765\u5b9e\u73b0\u7684\u3002\u60f3\u8c61\u4e00\u4e0b\uff0c\u5728\u73a9\u4f60\u6700\u559c\u6b22\u7684\u89c6\u9891\u6e38\u620f\u65f6\uff0c\u4f60\u4e0d\u80fd\uff0c\u6bd4\u65b9\u8bf4\uff0c\u4e0d\u80fd\u4e00\u8fb9\u5bf9\u89d2\u7ebf\u5954\u8dd1\uff0c\u4e00\u8fb9\u5f00\u67aa(\u6bd4\u5982\u540c\u65f6\u6309\u4e0ba\u3001w\u548cg\u952e)\u3002\u901a\u5e38\uff0c\u91cd\u5f71\u662f\u7531\u4ee5\u4e0b\u4e09\u4e2a\u9650\u5236\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u9020\u6210\u7684\uff1a\u786c\u4ef6\u65e0\u6cd5\u8bfb\u53d6\u7ed9\u5b9a\u7684\u6309\u952e\u7ec4\u5408\u3001\u8ba1\u7b97\u673a\u4e0a\u7684\u8f6f\u4ef6\u4e0d\u652f\u6301\u591a\u4e2a\u540c\u65f6\u6309\u952e\uff0c\u6216\u8005\u786c\u4ef6\u548c\u8f6f\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\u534f\u8bae\u9650\u5236\u4e86\u62a5\u544a\u7684\u6700\u5927\u540c\u65f6\u6309\u952e\u6570\u91cf\u3002\n\u9632\u91cd\u5f71\u529f\u80fd\u786e\u4fdd\u60a8\u7684\u6309\u952e\u6309\u4e0b\u7684\u987a\u5e8f\u6ca1\u6709\u9519\u8bef\u5730\u53d1\u9001\u3002\u4e22\u5931\u8f93\u5165\u8fd9\u901a\u5e38\u662f\u75313\u4ef6\u4e8b\u5f15\u8d77\u7684\uff1a1)\u786c\u4ef6\u4e0d\u517c\u5bb92)\u4e0d\u652f\u6301\u591a\u6b21\u51fb\u952e\u7684\u8f6f\u4ef63)\u9650\u5236\u53ef\u540c\u65f6\u4f20\u8f93\u7684\u51fb\u952e\u6b21\u6570\u7684\u901a\u4fe1\u534f\u8bae(USB)\u4e0ePS/2)\u3002\u4e3a\u4ec0\u4e48\u952e\u76d8\u4e0d\u80fd\u8bc6\u522b\u67d0\u4e9b\u7ec4\u5408\u952e\u76d8\u7684\u89e6\u70b9\u901a\u5e38\u4e0d\u662f\u5355\u72ec\u8bc4\u4f30\u7684\uff0c\u800c\u662f\u5728\u5b83\u4eec\u7684\u5f00\u5173\u914d\u7f6e\u4e2d\uff0c\u4e00\u79cd\u7531\u5217\u548c\u884c\u7ec4\u6210\u7684\u77e9\u9635(\u89c1\u63d2\u56fe)\u3002\u8fd9\u907f\u514d\u4e86\u6bcf\u4e2a\u6309\u94ae\u90fd\u6709\u5355\u72ec\u7684\u5f15\u7ebf\uff0c\u5e76\u4e14\u57fa\u4e8e\u6765\u81ea\u4e92\u8fde\u7684\u5217\u548c\u884c\u7684\u56fe\u6848\u6765\u8bc6\u522b\u51fb\u952e\u3002\u8ba9\u6211\u4eec\u770b\u4e00\u4e0b\u8fd9\u79cd\u65b9\u6cd5\u5982\u4f55\u5de5\u4f5c\u7684\u4e00\u4e9b\u7b80\u5355\u793a\u4f8b\uff1a1)\u6309\u4e0b\u5355\u4e2a\u6309\u94ae\u7684\u4e00\u6b21\u5355\u72ec\u51fb\u952e\u53ef\u4ee5\u770b\u4f5c\u662f\u5217\u548c\u884c\u7684\u7279\u5b9a\u7ec4\u5408\u7684\u7ed3\u679c\uff0c\u5176\u4e2d\u5217X\u7684\u5bfc\u4f53\u4e0e\u884cY\u7684\u5bfc\u7ebf\u8fde\u63a5\uff1a\n\u5982\u679c\u63a7\u5236\u5668\u68c0\u67e5\u952e\u76d8\u4ee5\u67e5\u770b\u54ea\u4e2a\u952e\u6b63\u5728\u88ab\u6309\u4e0b\uff0c\u5219\u57fa\u4e8e\u5217\u548c\u884c\u7684\u8f93\u5165\u4fe1\u53f7\u8bc6\u522b\u5c06\u6e05\u695a\u5730\u8bc6\u522b\u51fa\u6240\u6d89\u53ca\u7684\u952e\u3002\u6bcf\u4e2a\u952e\u53ea\u6709\u4e00\u79cd\u53ef\u80fd\u7684\u7ec4\u5408\uff0c\u4e0d\u7559\u4efb\u4f55\u8bef\u89e3\u7684\u4f59\u5730\u30022)\u5728\u4e0d\u540c\u7684\u5217\u548c\u884c\u4e2d\u540c\u65f6\u51fb\u952e\u4e24\u4e2a(\u6216\u591a\u4e2a)\u952e\u3002\n\u57fa\u4e8e\u4e0d\u540c\u7684\u5217\u548c\u884c\uff0c\u8fd9\u4e24\u79cd\u7ec4\u5408\u4ecd\u7136\u5f88\u5bb9\u6613\u533a\u5206\uff0c\u5e76\u4e14\u903b\u8f91\u6e05\u6670\uff1a\u6bcf\u4e2a\u952e\u53ea\u6709\u4e00\u4e2a\u8f93\u5165\u8bc6\u522b\u7535\u8def\uff0c\u6240\u4ee5\u4e0d\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u53ea\u8981\u6240\u8ba8\u8bba\u7684\u952e\u843d\u5165\u76f8\u4e92\u79bb\u6563\u7684\u5217\u548c\u884c\u30023)\u540c\u4e00\u5217\u6216\u540c\u4e00\u884c\u4e2d\u4e24\u4e2a\u952e\u7684\u540c\u65f6\u51fb\u952e\u3002\n\u8be5\u6a21\u5f0f\u4ecd\u7136\u5141\u8bb8\u6bcf\u4e2a\u952e\u7684\u5355\u4e00\u6e05\u6670\u6807\u8bc6\u3002\u5373\u4f7f\u53ea\u6709\u4e00\u4e2a\u5177\u6709\u95ed\u5408\u89e6\u70b9\u7684\u5217\u88ab\u6fc0\u6d3b\uff0c\u8fd9\u4e24\u884c\u4e5f\u5141\u8bb8\u8fdb\u884c\u660e\u663e\u7684\u533a\u5206\u3002\u5f53\u540c\u4e00\u7ebf\u8def\u4e0a\u7684\u4e24\u4e2a\u952e\u88ab\u6572\u51fb\u65f6\uff0c\u6fc0\u6d3b\u7684\u4e0d\u518d\u662f\u56db\u4e2a\u5bfc\u8054\uff0c\u800c\u662f\u53ea\u6709\u4e09\u4e2a\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5bfc\u8054\u662f\u5171\u4eab\u7684\u3002\u8fd9\u79cd\u884c\u4e3a\u79f0\u4e3a\u5171\u7ebf\u3002\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u7b80\u5355\u903b\u8f91\u4e2d\u7684\u4e00\u4e2a\u88c2\u7f1d\uff1a\u63a7\u5236\u5668\u73b0\u5728\u5bc4\u5b58\u5668\u4e24\u4e2a\u76f8\u4e92\u8fde\u63a5\u7684\u5217\u548c\u884c\u3002\u4f46\u662f\u901a\u8fc7\u67e5\u770b\u63d2\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u7f51\u683c\u4e0a\u6709\u56db\u4e2a\u6309\u94ae\u662f\u53ef\u4ee5\u6309\u4e0b\u7684\u3002\u56e0\u6b64\uff0c\u4ea7\u751f\u7684\u56fe\u6848\u4e0d\u518d\u662f\u552f\u4e00\u7684\u3002\u4ee5\u4e0b\u7ec4\u5408\u952e\u5bf9\u63a7\u5236\u5668\u800c\u8a00\u4f3c\u4e4e\u90fd\u662f\u76f8\u540c\u7684\uff1a\n\u4f8b\u5982\uff0c\u5982\u679c\u540c\u65f6\u6309W\u3001S\u548cD\uff0c\u5219E\u663e\u793a\u4e3a\u91cd\u5f71\uff0c\u56e0\u4e3a\u952e\u76d8\u65e0\u6cd5\u533a\u5206\u8fd9\u56db\u4e2a\u5355\u72ec\u7684\u6309\u94ae\u3002\u8fd9\u4e0d\u4e00\u5b9a\u662fUSB\u95ee\u9898\uff0c\u4f46\u4e5f\u53ef\u80fd\u662f\u952e\u76d8\u5e03\u7ebf\u4e2d\u7684\u903b\u8f91\u95ee\u9898\u3002\u4e00\u4e9b\u5e26\u6709\u53cd\u80f6\u7ba1\u7684\u952e\u76d8\u5c06\u53ea\u63d0\u4f9b\u5e26\u6709WASD\u5757\u7684\u6b64\u529f\u80fd\uff0c\u4ee5\u53ca\u5468\u56f4\u7684\u6309\u952e\u548c\u65b9\u5411\u952e\u3002\u6709\u4e9b\u952e\u76d8\u5728\u6574\u4e2a\u952e\u76d8\u4e0a\u90fd\u4f1a\u6709\u771f\u6b63\u7684NKRO\u3002", "note_en": "Ghosting Ghosting occurs when an unintended signal/character is sent due to the maximum number of simultaneous key presses being reached.\n Some keyboard keys don&#39;t work when multiple keys are pressed simultaneously. The key presses that don&#39;t show up on the computer or seem to have disappeared are said to have been &#34;ghosted&#34;. On most keyboards, even some that are explicitly marketed as &#34;Anti-Ghosting,&#34; this happens with many three key combinations. Imagine playing your favorite video game and not being able to, say, run diagonally and fire your weapon at the same time (say pressing a, w, and g simultaneously).  Typically, ghosting is the result of one or more of following three limitations: the hardware can&#39;t read the given key combination, the software on the computer doesn&#39;t support multiple simultaneous keys, or the communication protocol between the hardware and software limits the maximum number of simultaneous keys reported.\n Anti-ghosting ensures that your key presses are sent without error and in the order pressed.    Lost Input This is typically caused by 3 things: 1) Hardware Incompatibility 2) Software that does not support multiple keystrokes 3) Communication protocol that limits the number of keystrokes that can be transmitted simultaneously (USB) versus PS/2).   Why keyboards cannot read certain combinations The contacts of a keyboard are not usually evaluated individually, but rather in their switching configuration, a kind of matrix of columns and rows (see illustration). This avoids having an individual lead for each button and recognizes keystrokes based on the pattern from the interconnected columns and rows. Let&#39;s look at some simple examples of how this method works:   1) One Individual keystroke  Pressing a single button can be seen as the result of a particular combination of column and row, in which the conductor of column X is circuited with the lead of row Y:\n  If the controller checks the keyboard to see which key is being pressed, input signal recognition on the basis of column and row clearly identifies the key in question. There is only one possible combination for each key, leaving no room for misinterpretation.   2) Simultaneous keystrokes of two (or more) keys in different columns and rows\n  Based on the different columns and rows, the two combinations remain easily distinguished and the logic is clear: each key has only one input recognition circuit, so no problems arise, so long as the keys in question fall into mutually discrete columns and rows.   3) Simultaneous keystrokes of two keys in the same column or row\n  The pattern still allows for a single clear identification of each key. Even if only one column with closed contacts is activated, the two rows allow for a clear distinction to be made. When two keys on the same line are struck, it is no longer four leads that are activated, but rather only three, because one lead is shared. This behavior is called co-linear.\n    Here we see a crack in the simple logic: the controller now registers two mutually circuited columns and rows. But by looking at the illustration, we see that there are four buttons on the grid that could have been pressed. The resulting pattern is therefore no longer unique. The following key combinations all seem identical to the controller:\n  For example, if W, S, and D are struck simultaneously, E appears as a ghost because the keyboard cannot distinguish between the four individual buttons. This is not necessarily a USB problem, but it may also be a logical problem in the wiring of the keyboard. Some keyboards with Anti-Ghosing will only provide this functionality with the WASD block, along with surrounding keys, plus the direction keys. Some Keyboards will have real NKRO across the entire keyboard.", "posttime": "2020-06-03 01:51:09", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u91cd\u5f71,anti,\u952e\u76d8", "title": "\u53cd\u91cd\u5f71", "title_en": "Anti-Ghosting", "transed": 1, "url": "https://landing.coolermaster.com/faq/anti-ghosting/", "via": "", "real_tags": ["\u91cd\u5f71", "anti", "\u952e\u76d8"]}, {"category": "", "categoryclass": "", "imagename": "64059979de219980f4d35c1290b588a1.png", "infoid": 1004868, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "2019\u5e74\u672b\uff0cOculus Quest\u624b\u90e8\u8ddf\u8e2a\u7684\u63a8\u51fa\u4e3b\u5bfc\u4e86\u865a\u62df\u73b0\u5b9e(VR)\u884c\u4e1a\u3002\u867d\u7136\u8fd9\u4e00\u5b9e\u9a8c\u529f\u80fd\u4ecd\u5904\u4e8e\u8d77\u6b65\u9636\u6bb5\uff0c\u4f46VR\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u5bf9\u6b64\u5927\u8086\u7092\u4f5c\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u4f1a\u4e3a\u6df7\u5408\u73b0\u5b9e\u6280\u672f\u4e2d\u4ee4\u4eba\u5174\u594b\u7684\u65b0\u53ef\u80fd\u6027\u6253\u5f00\u5927\u95e8\u3002\nOculus Quest\u624b\u90e8\u8ddf\u8e2a\u652f\u6301\u5bfb\u6c42\u8ba9VR\u5f00\u53d1\u8005\u901a\u8fc7\u81ea\u7136\u7684\u624b\u52bf\u548c\u7b80\u5355\u7684\u4e92\u52a8\u66f4\u81ea\u7531\u5730\u521b\u4f5c\u548c\u8868\u8fbe\u81ea\u5df1\u3002\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u53ef\u80fd\u80fd\u591f\u5229\u7528\u8fd9\u4e00\u529f\u80fd\uff0c\u4f7f\u865a\u62df\u73b0\u5b9e\u6210\u4e3a\u7528\u6237\u66f4\u5bb9\u6613\u83b7\u5f97\u7684\u3001\u66f4\u903c\u771f\u7684\u4f53\u9a8c\u3002\n\u5927\u591a\u6570AR\u8033\u673a\u548cOculus Quest\u7b49\u66f4\u5148\u8fdb\u7684VR\u8033\u673a\u90fd\u5728\u4e89\u53d6\u6240\u8c13\u7684\u516d\u81ea\u7531\u5ea6(6DOF)\uff0c\u4f60\u53ef\u4ee5\u5728\u4f60\u7684\u7a7a\u95f4\u91cc\u81ea\u7531\u79fb\u52a8\u4f60\u7684\u624b\u548c\u8eab\u4f53\u3002\nOculus Quest\u5e26\u6709\u89e6\u6478\u63a7\u5236\u5668\uff0c\u8033\u673a\u4e2d\u7684\u4f20\u611f\u5668\u53ef\u4ee5\u8ddf\u8e2a\u79fb\u52a8\u3002\u4e0d\u9700\u8981\u7535\u7ebf\u3002\u8fd9\u662f\u8fd9\u6b3e\u8bbe\u5907\u6700\u4ee4\u4eba\u5174\u594b\u7684\u529f\u80fd\u4e4b\u4e00\uff0c\u96be\u602a\u4e24\u6b3eQuest\u578b\u53f7(64 GB\u548c128 GB)\u5728Oculus\u5546\u5e97\u90fd\u9500\u552e\u4e00\u7a7a\u3002\u5982\u679c\u4f60\u66fe\u7ecf\u60f3\u8fc7\u83b7\u5f97Oculus Rift\u6216S\u88c2\u7f1d\uff0c\u53ef\u4ee5\u8003\u8651\u5148\u83b7\u5f97Quest\u3002\n\u8981\u4f53\u9a8c\u8fd9\u4e00\u7a81\u7834\u6027\u7684\u529f\u80fd\uff0c\u8bf7\u5c1d\u8bd5\u4ee5\u4e0b\u51e0\u4e2a\u4f7f\u7528\u771f\u5b9e\u53cc\u624b\u7684\u793a\u4f8b\uff1a\n\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u63a2\u7d22Oculus Quest\u624b\u90e8\u8ddf\u8e2a\u7684\u5f71\u54cd\uff0c\u67e5\u770b\u5f53\u524d\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5e76\u8003\u8651\u5982\u4f55\u638c\u63e1\u8fd9\u9879\u6f5c\u5728\u7684\u7a81\u7834\u6027\u6280\u672f\uff0c\u4ee5\u521b\u5efa\u66f4\u597d\u7684\u7528\u6237\u754c\u9762(UI)\u3002\n\u8bf7\u5c06\u672c\u6587\u89c6\u4e3a\u5f00\u53d1UX/UI\u8bbe\u8ba1\u7684\u5b9e\u7528\u5efa\u8bae\u3002\u8bf7\u8bb0\u4f4f\uff0c\u624b\u90e8\u8ddf\u8e2a\u9886\u57df\u4ecd\u5904\u4e8e\u65e9\u671f\u9636\u6bb5\uff0c\u6ca1\u6709\u201c\u4e00\u5200\u5207\u201d\u7684\u65b9\u6cd5\u3002\u9664\u4e86\u7cfb\u7edf\u7684\u5c40\u9650\u6027\u5916\uff0c\u4e0d\u540c\u7684\u7528\u6237\u5bf9\u5e94\u7528\u7a0b\u5e8f\u7684\u865a\u62df\u4f53\u9a8c\u662f\u4e0d\u540c\u7684\u3002\u8bdd\u867d\u5982\u6b64\uff0c\u8fd9\u4e2a\u5185\u5bb9\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u8d77\u70b9\u3002\n\u624b\u90e8\u8ddf\u8e2a\u662fOculus Quest\u5934\u76d4\u663e\u793a\u5668(HMD)\u4e0a\u7684\u4e00\u9879\u529f\u80fd\uff0c\u4f7f\u4eba\u4eec\u5728\u4f7f\u7528VR\u8bbe\u5907\u65f6\u53ef\u4ee5\u5c06\u624b\u4f5c\u4e3a\u4e00\u79cd\u53ef\u884c\u7684\u8f93\u5165\u65b9\u6cd5\u3002\u7528\u6237\u53ef\u4ee5\u7528\u624b\u505a\u51fa\u7b80\u5355\u7684\u624b\u52bf\uff0c\u4f8b\u5982\u634f\u3001\u6309\u4f4f\u6216\u62d6\u52a8\uff0c\u4ee5\u5728VR\u73af\u5883\u4e2d\u6267\u884c\u4efb\u52a1\u6216\u52a8\u4f5c\u3002\n\u6700\u91cd\u8981\u7684\u662f\uff0c\u5b83\u662f\u5168\u5173\u8282\u7684\u8ddf\u8e2a\u786c\u4ef6\uff0c\u53ef\u4ee5\u786e\u5b9a\u4f60\u7684\u624b\u5728\u865a\u62df\u7a7a\u95f4\u4e2d\u7684\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u6bcf\u4e2a\u624b\u6307\u6216\u624b\u6307\u5173\u8282\u5728\u4efb\u4f55\u65f6\u523b\u90fd\u5728\u505a\u4ec0\u4e48\u3002\u8fd9\u79cd\u8bbe\u8ba1\u4fc3\u8fdb\u4e86\u81ea\u7136\u7684\u4ea4\u4e92\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u4e34\u573a\u611f\u548c\u66f4\u8eab\u4e34\u5176\u5883\u3001\u66f4\u5438\u5f15\u4eba\u7684\u4f53\u9a8c\u3002\n\u8ddf\u8e2a\u7684\u8fd0\u52a8\u63a7\u5236\u5668\u6216\u5168\u606f\u955c\u59341\u4e0d\u4f1a\u63d0\u4f9b\u6709\u5173\u60a8\u7684\u624b\u7684\u4f4d\u7f6e\u6216\u624b\u6307\u6307\u5411\u7684\u4f4d\u7f6e\u7684\u4fe1\u606f\u3002\u540c\u6837\uff0c\u6c14\u95e8\u5173\u8282\u4e0d\u662f\u624b\u90e8\u8ddf\u8e2a\u6280\u672f\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ea\u63d0\u4f9b\u4e00\u4e2a\u8fd0\u52a8\u8f74\u3002\n\u60a8\u53ef\u4ee5\u5728Leap Motion\u3001HoloLens 2\u3001\u667a\u80fd\u624b\u673aSDK(\u5305\u62ecMediaPipeSDK\u548cManoMotion)\u4ee5\u53caVR(\u5305\u62ecManus Prime\u548cVRluv)\u4e2d\u770b\u5230\u5168\u5173\u8282\u624b\u90e8\u8ddf\u8e2a\u7684\u5f88\u597d\u793a\u4f8b\u3002\n\u73b0\u5728\uff0cOculus Quest Hand Tracking\u4e5f\u52a0\u5165\u4e86\u8fd9\u4e00\u540d\u5355\uff0c\u8fd9\u4e3a\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u7edd\u4f73\u7684\u673a\u4f1a\u3002\n\u5f53Facebook\u73b0\u5b9e\u5b9e\u9a8c\u5ba4\u7684\u4ea7\u54c1\u548c\u8bbe\u8ba1\u56e2\u961f\u96c6\u601d\u5e7f\u76ca\u65f6\uff0c\u597d\u4e8b\u5c31\u4f1a\u53d1\u751f\u3002\u6700\u521d\u4f5c\u4e3a\u4e00\u4e2a\u7814\u7a76\u9879\u76ee\u5f00\u59cb\u7684\u9879\u76ee\u5df2\u7ecf\u4e3a\u865a\u62df\u73b0\u5b9e\u8f93\u5165\u5e26\u6765\u4e86\u4e00\u4e2a\u521b\u65b0\u7684\u65b0\u8303\u5f0f\u3002\n\u8bbe\u8ba1\u8303\u4f8b\u662f\u652f\u6491\u6211\u4eec\u5982\u4f55\u4e0e\u8f6f\u4ef6\u4ea4\u4e92\u7684\u57fa\u672c\u6982\u5ff5\u3002\u5728\u865a\u62df\u73b0\u5b9e\u4e2d\uff0c\u8fd9\u4e00\u573a\u666f\u53d1\u751f\u4e86\u5de8\u5927\u7684\u53d8\u5316\uff0c\u8fd9\u662f\u9ad8\u7ea7\u624b\u90e8\u8ddf\u8e2a\u7684\u672c\u8d28\u6f14\u53d8\u3002\nOculus Quest\u624b\u90e8\u8ddf\u8e2a\u8f6f\u4ef6\u5305\u542b\u6df1\u5ea6\u5b66\u4e60\u529f\u80fd\uff0c\u5141\u8bb8\u8ba1\u7b97\u673a\u4ec5\u4f7f\u7528Quest\u81ea\u5e26\u7684\u5355\u8272\u76f8\u673a\u6765\u786e\u5b9a\u7528\u6237\u624b\u6307\u7684\u4f4d\u7f6e\u3002\u8fd9\u9879\u6280\u672f\u521b\u5efa\u4e86\u4e00\u7ec4\u6620\u5c04\u5230\u7528\u6237\u624b\u548c\u624b\u6307\u76843D\u70b9\uff0c\u4f7f\u5176\u80fd\u591f\u5728VR\u73af\u5883\u4e2d\u7cbe\u786e\u5730\u8868\u793a\u8fd0\u52a8\u3002\n\u867d\u7136\u65b0\u7684Oculus\u529f\u80fd\u662f\u6df7\u5408\u73b0\u5b9e\u7684\u4e00\u6b21\u98de\u8dc3\uff0c\u4f46\u5b83\u5bf9\u5f00\u53d1\u4eba\u5458\u548c\u7528\u6237\u90fd\u6784\u6210\u4e86\u6311\u6218\u3002\u6240\u6709\u672a\u63a2\u7d22\u7684\u6280\u672f\u90fd\u662f\u672a\u7ecf\u6d4b\u8bd5\u7684\uff0c\u56e0\u6b64\uff0c\u5b83\u8feb\u4f7f\u8bbe\u8ba1\u5e08\u8df3\u51fa\u6846\u6846\u8fdb\u884c\u601d\u8003\uff0c\u56e0\u4e3a\u4ed6\u4eec\u5fc5\u987b\u6709\u6548\u5730\u63d0\u51fa\u4e3a\u8fd9\u79cd\u72ec\u7279\u7684\u786c\u4ef6\u8bbe\u8ba1\u8f6f\u4ef6\u7684\u65b0\u65b9\u6cd5\u3002\n\u4e0a\u4e00\u6b21\u5982\u6b64\u91cd\u5927\u7684\u8f6c\u53d8\u662f\u5f53\u4e16\u754c\u8f6c\u5411\u4ee5\u79fb\u52a8\u4e3a\u4e2d\u5fc3\u7684\u73b0\u5b9e\uff0c\u5c06\u53f0\u5f0f\u7535\u8111\u6362\u6210\u667a\u80fd\u624b\u673a\u548c\u5e73\u677f\u7535\u8111\u65f6\u3002\u5f00\u53d1\u4eba\u5458\u4e0d\u5f97\u4e0d\u5fd8\u8bb0\u57fa\u4e8e\u9f20\u6807\u7684\u73af\u5883\uff0c\u8f6c\u800c\u8003\u8651\u89e6\u6478\u5c4f\uff0c\u56e0\u4e3a\u70b9\u51fb\u88ab\u6ed1\u52a8\u53d6\u4ee3\u4e86\u3002\n\u73b0\u5728\uff0c\u5728VR\u5f00\u53d1\u9886\u57df\uff0c\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u8005\u5fc5\u987b\u60f3\u529e\u6cd5\u7528\u4ed6\u4eec\u7684\u624b\u800c\u4e0d\u662f\u63a7\u5236\u5668\u6765\u6700\u5927\u9650\u5ea6\u5730\u5229\u7528Oculus Quest\u6280\u672f\u3002\n\u4f7f\u7528Oculus Quest\u624b\u90e8\u8ddf\u8e2a\u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e09\u79cd\u65b9\u5f0f\u4e0e\u865a\u62df\u73af\u5883\u4ea4\u4e92\uff1a\n\u76f4\u63a5\u64cd\u4f5c\u662f\u4e00\u79cd\u865a\u62df\u73b0\u5b9e\u8f93\u5165\u6a21\u578b\uff0c\u7528\u6237\u53ef\u4ee5\u7528\u624b\u89e6\u6478\u5168\u606f\u56fe\u5e76\u4e0e\u5176\u4ea4\u4e92\u3002\u7269\u4f53\u7684\u884c\u4e3a\u5c31\u50cf\u5b83\u4eec\u5728\u73b0\u5b9e\u4e2d\u4e00\u6837\uff0c\u56e0\u6b64\uff0c\u8fd9\u662f\u5b66\u4e60\u5982\u4f55\u63a7\u5236\u865a\u62df\u4e16\u754c\u7684\u4e00\u79cd\u6709\u8da3\u800c\u7b80\u5355\u7684\u65b9\u5f0f\u3002\n\u60a8\u53ef\u4ee5\u6309\u4e0b\u6309\u94ae\u3001\u62fe\u53d6\u5bf9\u8c61\u3001\u6eda\u52a8\u7a97\u53e3\u548c\u6fc0\u6d3b2D\u5185\u5bb9\u65b9\u9762\uff0c\u5c31\u50cf\u5b83\u4eec\u662f\u865a\u62df\u89e6\u6478\u5c4f\u4e00\u6837\u3002\u76f4\u63a5\u64cd\u4f5c\u662f\u4e00\u79cd\u63a5\u8fd1\u8f93\u5165\u7684\u6a21\u578b\uff0c\u8fd9\u610f\u5473\u7740\u5f53\u60a8\u60f3\u8981\u5728\u4f38\u624b\u53ef\u53ca\u7684\u8303\u56f4\u5185\u4e0e\u5185\u5bb9\u4ea4\u4e92\u65f6\uff0c\u5b83\u662f\u6700\u597d\u7684\u3002\n\u6296\u52a8\u662f\u865a\u62df\u624b\u548c\u5b9e\u9645\u624b\u4e4b\u95f4\u7684\u9519\u4f4d\u3002\u5728\u8bb8\u591aAR\u5e73\u53f0\u4e2d\uff0c\u865a\u62df\u624b\u90fd\u662f\u4ee5\u62bd\u8c61\u7684\u65b9\u5f0f\u8868\u793a\u7684\uff0c\u6bd4\u5982\u5f62\u72b6\u3001\u4e91\u6216\u95ea\u5149\u3002\u8fd9\u79cd\u8bbe\u8ba1\u6709\u610f\u9690\u85cf\u6296\u52a8\u6548\u679c\uff0c\u8fd9\u6837\u7528\u6237\u5c31\u4e0d\u4f1a\u5bdf\u89c9\u5230\u4efb\u4f55\u660e\u663e\u7684\u6296\u52a8\u3002\n\u6f02\u79fb\u662f\u4e00\u79cd\u4f60\u5728\u865a\u62df\u4e16\u754c\u4e2d\u79fb\u52a8\u7684\u611f\u89c9\uff0c\u5373\u4f7f\u4f60\u7ad9\u7740\u4e0d\u52a8\u3002\u7269\u4f53\u4f3c\u4e4e\u65e0\u7f18\u65e0\u6545\u5730\u5728\u4f60\u5468\u56f4\u79fb\u52a8\uff0c\u56e0\u4e3a\u7535\u8111\u8ba4\u4e3a\u4f60\u7684\u624b\u4e0e\u5176\u5b9e\u9645\u4f4d\u7f6e\u76f8\u6bd4\u6709\u4e00\u4e2a\u6052\u5b9a\u7684\u504f\u79fb\u91cf\u3002\u5149\u7ebf\u4e0d\u4f73\u6216\u8fdb\u5165\u8033\u673a\u7684\u5149\u7ebf\u8fc7\u591a\u662f\u6f02\u79fb\u95ee\u9898\u7684\u4e3b\u8981\u539f\u56e0\u3002\n\u5947\u602a\u7684\u5fc3\u7075\u4f20\u9001\u662f\u6307\u865a\u62df\u624b\u7684\u4e00\u90e8\u5206\uff0c\u5982\u624b\u6307\uff0c\u968f\u673a\u51fa\u73b0\u5728\u624b\u4e2d\uff0c\u751a\u81f3\u5b8c\u5168\u8131\u8282\u5728\u623f\u95f4\u7684\u5176\u4ed6\u5730\u65b9\u3002\u5b83\u53ef\u80fd\u53ea\u6301\u7eed\u4e00\u5e27\uff0c\u56e0\u4e3a\u5f53\u6280\u672f\u8bef\u8bfb\u73af\u5883\u5e76\u505a\u51fa\u5947\u602a\u7684\u8bef\u5224\u65f6\uff0c\u8fd9\u4e9b\u9519\u8bef\u5c31\u4f1a\u53d1\u751f\u3002(\u8fd9\u4e5f\u662f\u4e00\u4e2a\u4ea4\u54cd\u4e50\u8fdb\u6b65\u6447\u6eda\u4e50\u961f\u7684\u597d\u540d\u5b57\u3002)\n\u8fd9\u4e09\u4e2a\u95ee\u9898\u52a0\u5728\u4e00\u8d77\u662f\u5f71\u54cd\u4ea4\u4e92\u5206\u8fa8\u7387\u7684\u5173\u952e\u56e0\u7d20\uff0c\u4ea4\u4e92\u5206\u8fa8\u7387\u662f\u7528\u6237\u53ef\u4ee5\u8212\u9002\u5730\u53c2\u4e0e\u865a\u62df\u4e16\u754c\u800c\u4e0d\u4f1a\u9047\u5230\u4efb\u4f55\u6709\u5bb3\u7684\u89c6\u89c9\u6216\u6027\u80fd\u95ee\u9898\u7684\u6700\u5c0f\u5bf9\u8c61\u89c4\u6a21\u3002\n\u5982\u679c\u4f60\u6709\u4e00\u4e2a\u5916\u90e8\u8ddf\u8e2a\u7684\u63a7\u5236\u5668\uff0c\u6bd4\u5982Quest\u63a7\u5236\u5668\uff0c\u4f60\u5c31\u4f1a\u62e5\u6709\u96be\u4ee5\u7f6e\u4fe1\u7684\u7cbe\u786e\u5ea6\u3002\u60a8\u53ef\u80fd\u4f1a\u53d1\u73b0\uff0c\u5728\u865a\u62df\u73af\u5883\u4e2d\u53ef\u4ee5\u8f7b\u677e\u5730\u4e0e\u9488\u5934\u5927\u5c0f\u7684\u9879\u76ee\u8fdb\u884c\u4ea4\u4e92\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u624b\u90e8\u8ddf\u8e2a\uff0c\u7531\u4e8e\u4e0a\u8ff0\u95ee\u9898\uff0c\u4ea4\u4e92\u5206\u8fa8\u7387\u5e76\u4e0d\u662f\u5f88\u597d\u3002\u5b9e\u9645\u4e0a\uff0c\u4efb\u4f55\u5c0f\u4e8e\u4e00\u82f1\u5bf8\u7684\u7269\u4f53\u90fd\u5f88\u96be\u63a5\u5408\u3002\n\u867d\u7136Oculus Quest\u624b\u90e8\u8ddf\u8e2a\u7684\u8d28\u91cf\u548c\u7528\u6237\u754c\u9762\u4ecd\u7136\u4ee4\u4eba\u5370\u8c61\u6df1\u523b\uff0c\u4f46\u8be5\u6280\u672f\u4ecd\u6709\u6539\u8fdb\u7684\u7a7a\u95f4\u3002\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u8d28\u91cf\u4f1a\u53d8\u5f97\u66f4\u597d\uff0c\u4f46\u5c31\u76ee\u524d\u800c\u8a00\uff0c\u8bbe\u8ba1\u5e08\u5fc5\u987b\u63a5\u53d7\u4e00\u4e9b\u9650\u5236\u3002\n\u5728\u8bbe\u8ba1\u865a\u62df\u4e16\u754c\u65f6\uff0c\u9664\u4e86\u7269\u4f53\u7684\u5927\u5c0f\u4e4b\u5916\uff0c\u4f60\u8fd8\u5fc5\u987b\u8003\u8651\u4f60\u7684\u624b\u81c2\u7684\u957f\u5ea6\u3002\u4f7f\u7528\u76f4\u63a5\u64cd\u4f5c\u65f6\uff0c\u60a8\u53ea\u80fd\u4e0e\u60a8\u53ef\u4ee5\u5230\u8fbe\u7684\u5bf9\u8c61\u4ea4\u4e92\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8981\u8003\u8651\u624b\u81c2\u6700\u77ed\u7684\u7528\u6237\u7684\u957f\u5ea6\uff0c\u5e76\u786e\u4fdd\u4e0d\u8981\u8ba9\u60a8\u7684\u865a\u62df\u4e16\u754c\u585e\u6ee1\u53ef\u80fd\u65e0\u6cd5\u89e6\u53ca\u7684\u5143\u7d20\u3002\n\u624b\u5c04\u7ebf\u662f\u4e00\u79cd\u865a\u62df\u73b0\u5b9e\u8bbe\u8ba1\u6982\u5ff5\uff0c\u7528\u6237\u53ef\u4ee5\u4ece\u624b\u4e2d\u5411\u8fdc\u5904\u7684\u7269\u4f53\u201c\u53d1\u5c04\u201d\u5149\u675f\uff0c\u7136\u540e\u4f7f\u7528\u624b\u52bf\u4ece\u8fdc\u5904\u5bf9\u8be5\u7269\u4f53\u8fdb\u884c\u63a7\u5236\u3002\n\u6b64\u529f\u80fd\u4f7f\u60a8\u80fd\u591f\u4ee5\u591a\u79cd\u65b9\u5f0f\u4e0e\u7528\u6237\u754c\u9762\u4ea4\u4e92\uff0c\u4f8b\u5982\u7ffb\u8f6c\u5f00\u5173\u3001\u6309\u4e0b\u6309\u94ae\u6216\u4ece\u623f\u95f4\u4e2d\u62fe\u53d6\u7269\u54c1\u3002\u5f53\u4f60\u7684\u624b\u6307\u548c\u62c7\u6307\u4e00\u8d77\u89e6\u6478\u6765\u6fc0\u6d3b\u5bf9\u7269\u4f53\u7684\u63a7\u5236\u65f6\uff0c\u4f60\u751a\u81f3\u53ef\u80fd\u4f1a\u5f97\u5230\u4e00\u4e9b\u89e6\u89c9\u53cd\u9988\u3002\n\u60a8\u53ef\u4ee5\u6839\u636e\u5934\u90e8\u4f4d\u7f6e\u951a\u5b9a\u624b\u5c04\u7ebf\uff0c\u8fd9\u4f1a\u5728\u60a8\u4f7f\u7528\u624b\u81c2\u548c\u624b\u901a\u8fc7\u66f4\u5927\u8303\u56f4\u7684\u8fd0\u52a8\u8c03\u6574\u89d2\u5ea6\u4e4b\u524d\u589e\u52a0\u4e00\u5b9a\u7a0b\u5ea6\u7684\u7cbe\u786e\u5ea6\u3002\n\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u624b\u5c04\u7ebf\u5728\u865a\u62df\u73af\u5883\u4e2d\u4e0d\u50cf\u5728\u8ba1\u7b97\u673a\u4e0a\u5de5\u4f5c\u5f97\u90a3\u4e48\u597d\u3002\n\u624b\u52bf\u8bc6\u522b\u662f\u4e00\u79cd\u865a\u62df\u73b0\u5b9e\u8bbe\u8ba1\u6982\u5ff5\uff0c\u8ba1\u7b97\u673a\u6839\u636e\u624b\u6307\u548c\u624b\u638c\u7684\u4f4d\u7f6e\u548c\u5f62\u72b6\u5206\u6790\u7528\u6237\u7684\u624b\u7684\u59ff\u52bf\uff0c\u7136\u540e\u89e6\u53d1\u76f8\u5e94\u7684\u52a8\u4f5c\u3002\u4f8b\u5982\uff0c\u8ba1\u7b97\u673a\u53ef\u4ee5\u8bc6\u522b\u5e38\u89c1\u7684\u624b\u8bed\u4f7f\u7528\uff0c\u5982\u548c\u5e73\u7b26\u53f7\u6216\u6447\u6eda\u4e50\u624b\u52bf\u3002\n\u5bf9\u4e8e\u8bbe\u8ba1\u5e08\u6765\u8bf4\uff0c\u624b\u52bf\u53ef\u80fd\u5f88\u96be\u5904\u7406\uff0c\u56e0\u4e3a\u6709\u5f88\u5927\u7684\u51fa\u9519\u7a7a\u95f4\u3002\u60a8\u5fc5\u987b\u8003\u8651\u4ee5\u4e0b\u4e8b\u9879\uff1a\n\u901a\u8fc7\u6f5c\u610f\u8bc6\u7684\u52a8\u4f5c\u6216\u666e\u901a\u7684\u80a2\u4f53\u8bed\u8a00\u65e0\u610f\u5730\u505a\u624b\u52bf\u3002\u4eba\u4eec\u5728\u8bf4\u8bdd\u65f6\u81ea\u7136\u5730\u79fb\u52a8\u4ed6\u4eec\u7684\u624b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8f6f\u4ef6\u505a\u51fa\u4e00\u4e9b\u56de\u5e94\u3002\n\u60a8\u7684\u4e16\u754c\u4e2d\u7684\u6709\u610f\u64cd\u4f5c\u53ef\u80fd\u4f1a\u51fa\u4e8e\u5176\u4ed6\u539f\u56e0\u4fb5\u72af\u7528\u6237\u4f7f\u7528\u67d0\u4e9b\u59ff\u52bf\u7684\u80fd\u529b\u3002\u4f8b\u5982\uff0c\u5982\u679c\u7528\u6237\u53ef\u4ee5\u6fc0\u6d3b\u4e16\u754c\u4e0a\u7684\u67d0\u4e2a\u6309\u94ae\uff0c\u4f46\u4e5f\u53ef\u4ee5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528\u7c7b\u4f3c\u7684\u6309\u4e0b\u52a8\u4f5c\uff0c\u5219\u53ef\u80fd\u4f1a\u6df7\u6dc6\u7cfb\u7edf\u3002\n\u50cfOK\u624b\u52bf\u6216\u7ad6\u8d77\u5927\u62c7\u6307\u8fd9\u6837\u523b\u610f\u7684\u56fa\u6709\u610f\u601d\u624b\u52bf\u5728\u8bb8\u591a\u6587\u5316\u4e2d\u5df2\u7ecf\u6709\u4e86\u6839\u6df1\u8482\u56fa\u7684\u542b\u4e49\u3002\u8bbe\u8ba1\u4eba\u5458\u5fc5\u987b\u907f\u514d\u5728\u4ed6\u4eec\u7684\u7528\u6237\u754c\u9762\u4e2d\u4f7f\u7528\u5b83\u4eec\uff0c\u56e0\u4e3a\u7528\u6237\u5e0c\u671b\u5728\u4ed6\u4eec\u5df2\u7ecf\u7406\u89e3\u7684\u542b\u4e49\u548c\u8f6f\u4ef6\u5c06\u611f\u77e5\u7684\u542b\u4e49\u4e4b\u95f4\u5b58\u5728\u7d27\u5bc6\u7684\u4e00\u5bf9\u4e00\u6620\u5c04\u3002\n\u6545\u610f\u65e0\u610f\u4e49\u7684\u624b\u52bf\u662f\u7279\u5b9a\u7684\u59ff\u52bf\u6216\u52a8\u4f5c\uff0c\u6ca1\u6709\u4efb\u4f55\u5148\u5165\u4e3a\u4e3b\u7684\u6587\u5316\u610f\u4e49\uff0c\u53ea\u662f\u6545\u610f\u505a\u7684\u3002\u4f8b\u5982\uff0cQuest\u4f7f\u7528\u4e86\u4e00\u4e2a\u4e0d\u592a\u53ef\u80fd\u4e0e\u4efb\u4f55\u81ea\u7136\u80a2\u4f53\u8bed\u8a00\u6df7\u6dc6\u7684\u634f\u773c\u775b\u7684\u624b\u52bf\u3002\n\u8bbe\u8ba1\u4eba\u5458\u5fc5\u987b\u7ed3\u5408\u67d0\u4e9b\u624b\u52bf\uff0c\u4f7f\u7528\u6237\u80fd\u591f\u6539\u5584\u5176Oculus Quest\u624b\u90e8\u8ddf\u8e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u4f53\u9a8c\u3002\u57fa\u672c\u59ff\u6001\u7684\u4e00\u4e2a\u7a81\u51fa\u793a\u4f8b\u662f\u6267\u884c\u7cfb\u7edf\u8f6c\u4e49\u3002\u7528\u6237\u5fc5\u987b\u59cb\u7ec8\u5177\u6709\u8bbf\u95ee\u6b64\u529f\u80fd\u7684\u6743\u9650\u3002\n\u5f53\u624b\u52bf\u7684\u5185\u5728\u542b\u4e49\u4e0e\u7ed3\u679c\u76f8\u5339\u914d\u65f6\uff0c\u5c06\u8be5\u624b\u52bf\u5305\u542b\u5728\u60a8\u7684\u8bbe\u8ba1\u4e2d\u662f\u503c\u5f97\u7684\u3002\u4f8b\u5982\uff0c\u5982\u679c\u7528\u6237\u60f3\u8981\u622a\u56fe\uff0c\u4ed6\u4eec\u53ef\u4ee5\u5c06\u5927\u62c7\u6307\u7684\u5c16\u7aef\u4ece\u53e6\u4e00\u53ea\u624b\u6307\u5411\u98df\u6307\uff0c\u4ee5\u521b\u5efa\u4e00\u4e2a\u6b63\u65b9\u5f62\u7684\u5f62\u72b6\uff0c\u5c31\u50cf\u4ed6\u4eec\u6b63\u5728\u900f\u8fc7\u76f8\u673a\u7684\u6846\u67b6\u89c2\u770b\u4e00\u6837\u3002\n\u624b\u90e8\u8ddf\u8e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5408\u7406\u624b\u52bf\u7684\u53e6\u4e00\u4e2a\u793a\u4f8b\u662f\u5f53\u8be5\u624b\u52bf\u662f\u754c\u9762\u4e2d\u7684\u552f\u4e00\u4ea4\u4e92\u65f6\u3002\u4f8b\u5982\uff0c\u5728\u865a\u62df\u98de\u9556\u6e38\u620f\u4e2d\uff0c\u7528\u6237\u8fdb\u884c\u7684\u552f\u4e00\u4ea4\u4e92\u662f\u6295\u63b7\u98de\u9556\u7684\u52a8\u4f5c\u3002\nOculus Quest\u624b\u90e8\u8ddf\u8e2a\u7684\u6700\u65b0\u53d1\u5c55\u8ba9VR/AR\u793e\u533a\u8bae\u8bba\u7eb7\u7eb7\uff0c\u8bb8\u591aUI\u8bbe\u8ba1\u5e08\u90fd\u5728\u7d27\u9523\u5bc6\u9f13\u5730\u63a8\u8fdb\u8fd9\u4e00\u529f\u80fd\u7684\u754c\u9650\u3002\n\u865a\u62df\u73b0\u5b9e\u5728\u8bb8\u591a\u65b9\u9762\u4ecd\u7136\u6709\u9650\uff0c\u56e0\u4e3a\u8bbe\u8ba1\u5e08\u8fd8\u6ca1\u6709\u53d1\u73b0\u6700\u91cd\u8981\u548c\u6700\u5177\u63a2\u7d22\u6027\u7684\u8303\u4f8b\uff0c\u4ee5\u6700\u5927\u9650\u5ea6\u5730\u53d1\u6325\u624b\u8ddf\u8e2a\u6280\u672f\u7684\u6f5c\u529b\u3002\n\u4ee5\u4e0b\u662f\u60a8\u5728\u8bbe\u8ba1Oculus Quest\u624b\u90e8\u8ddf\u8e2a\u5e94\u7528\u7a0b\u5e8f\u65f6\u53ef\u4ee5\u4f7f\u7528\u7684\u4e00\u4e9b\u60f3\u6cd5\uff1a\n\u6e05\u5355\u4e0d\u80dc\u679a\u4e3e\uff0c\u53ea\u662f\u53d7\u5230\u8bbe\u8ba1\u5e08\u60f3\u8c61\u529b\u7684\u9650\u5236\u3002\u8981\u4e86\u89e3\u865a\u62df\u73b0\u5b9e\u8bbe\u8ba1\u4e2d\u65b0\u8303\u5f0f\u7684\u53ef\u80fd\u6027\uff0c\u8bf7\u8003\u8651\u4e0b\u9762\u7684\u4f8b\u5b50\u3002\n\u6ed1\u52a8\u952e\u76d8\u4f7f\u60a8\u53ef\u4ee5\u5728\u865a\u62df\u952e\u76d8\u5468\u56f4\u6ed1\u52a8\u53cc\u624b\u3002\u8be5\u8f6f\u4ef6\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6280\u672f\u731c\u6d4b\u4f60\u8bd5\u56fe\u5199\u7684\u662f\u4ec0\u4e48\uff0c\u5f53\u4f60\u7ee7\u7eed\u6ed1\u52a8\u65f6\uff0c\u5b8c\u6210\u7684\u6587\u672c\u4f1a\u51fa\u73b0\u5728\u5c4f\u5e55\u4e0a\u3002\n\u98de\u624b\u8ba9\u4f60\u6709\u53ef\u80fd\u4e0e\u9065\u8fdc\u7684\u7269\u54c1\u4e92\u52a8\u3002\u5b83\u7c7b\u4f3c\u4e8e\u4fee\u6539\u540e\u7684\u624b\u5c04\u7ebf\uff0c\u5176\u4e2d\u60a8\u7684\u624b\u4f4d\u4e8e\u5149\u7ebf\u7684\u672b\u7aef\uff0c\u5141\u8bb8\u5bf9\u8ddd\u79bb\u8f83\u8fdc\u7684\u5bf9\u8c61\u8fdb\u884c\u8fd1\u573a\u76f4\u63a5\u5bf9\u8c61\u64cd\u7eb5\u3002\n\u8303\u56f4/\u5927\u5c0f\u653e\u5927\u662f\u53e6\u4e00\u79cd\u8ddd\u79bb\u5de5\u5177\uff0c\u5176\u4e2d\u865a\u62df\u73b0\u5b9e\u7684\u624b\u6bd4\u7528\u6237\u7684\u5b9e\u9645\u624b\u5927\u5f97\u591a\u3002\u8fd9\u5141\u8bb8\u8fdb\u884c\u5927\u89c4\u6a21\u64cd\u4f5c\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u6700\u5c11\u7684\u79fb\u52a8\u6765\u63a7\u5236\u5de8\u5927\u7684\u5bf9\u8c61\u548c\u6574\u4e2a\u573a\u666f\u3002\n\u629b\u624b\u662f\u4e00\u4e2a\u6709\u8da3\u7684\u6982\u5ff5\uff0c\u4f60\u53ef\u4ee5\u628a\u624b\u4ece\u4f60\u8eab\u4e0a\u629b\u5f00\uff0c\u7136\u540e\u7528\u624b\u52bf\u5728\u5730\u677f\u6216\u5176\u4ed6\u8868\u9762\u722c\u884c\uff0c\u4ee5\u5230\u8fbe\u7269\u4f53\u3002\n\u5176\u4e2d\u4e00\u4e9b\u60f3\u6cd5\u5145\u5176\u91cf\u53ef\u80fd\u770b\u8d77\u6765\u5f88\u65b0\u5947\uff0c\u4f46Shopify\u7684VR/AR\u8d1f\u8d23\u4eba\u4e39\u5c3c\u5c14\u00b7\u6bd4\u5f7b\u59c6(Daniel Beuchamp)\u89e3\u91ca\u8bf4\uff0c\u8fd9\u662f\u4e00\u6761\u91cd\u8981\u7684\u8fdb\u5316\u4e4b\u8def\u3002\n\u201c\u91ca\u653e\u65b0\u7684\u548c\u5f3a\u5927\u7684\u60f3\u6cd5\u7684\u6700\u597d\u65b9\u6cd5\u4e4b\u4e00\u5c31\u662f\u5efa\u7acb\u5728\u611a\u8822\u7684\u60f3\u6cd5\u4e0a\uff0c\u201d\u6bd4\u5f7b\u59c6\u8bf4\u3002\n\u8981\u60f3\u5728VR/AR\u4e2d\u83b7\u5f97\u7a81\u7834\u6027\u7684\u60f3\u6cd5\uff0c\u4f60\u5fc5\u987b\u9996\u5148\u7ecf\u5386\u5f88\u591a\u7cdf\u7cd5\u7684\u60f3\u6cd5\u3002\u5728\u6267\u884c\u6b64\u64cd\u4f5c\u65f6\uff0c\u8bf7\u8003\u8651\u5982\u4f55\u66f4\u5feb\u5730\u6539\u8fdb\u624b\u90e8\u8ddf\u8e2a\u3002\u8bbe\u7f6e\u597dOculus Quest\u8fdb\u884c\u5f00\u53d1\u540e\uff0c\u5c06\u60a8\u7684\u6ce8\u610f\u529b\u8f6c\u79fb\u5230\u7814\u7a76\u4eba\u5458\u7684\u6a21\u5f0f\u3002\n\u4e0e\u5176\u8bd5\u56fe\u7acb\u5373\u7528\u624b\u8ddf\u8e2a\u6765\u5934\u8111\u98ce\u66b4\u4e00\u4e2a\u83b7\u80dc\u7684\u4ea7\u54c1\uff0c\u4f60\u5e94\u8be5\u73a9\u5f04\u8fd9\u9879\u6280\u672f\uff0c\u60f3\u51fa\u7528\u6237\u559c\u6b22\u7684\u6709\u8da3\u7684\u60f3\u6cd5\u3002\u5728\u8fd9\u6837\u505a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u53ef\u4ee5\u719f\u6089\u8be5\u5de5\u5177\u7684\u529f\u80fd\uff0c\u5e76\u4e14\u53ef\u80fd\u4f1a\u5076\u7136\u53d1\u73b0\u53ef\u4ee5\u5e94\u7528\u4e8e\u66f4\u6709\u76ee\u7684\u7684\u9879\u76ee\u7684\u4ea4\u4e92\u548c\u6982\u5ff5\u3002\n\u6ce2\u5c1a\u58f0\u79f0\uff0c\u4ed6\u5e0c\u671b\u66f4\u591a\u7684\u865a\u62df\u73b0\u5b9e\u5f00\u53d1\u8005\u91c7\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u5c0f\u60f3\u6cd5\u53ef\u4ee5\u5e26\u6765\u5de8\u5927\u7684\u7a81\u7834\u3002\n\u201c\u4e0d\u8981\u628a\u6784\u5efa\u6574\u4e2a\u6e38\u620f\u6216\u6574\u4e2a\u4ea7\u54c1\u7684\u91cd\u62c5\u653e\u5728\u81ea\u5df1\u8eab\u4e0a\u3002\u5efa\u9020\u8bb8\u591a\u5c0f\u4e1c\u897f\uff0c\u4e0d\u7ba1\u5b83\u4eec\u770b\u8d77\u6765\u6709\u591a\u50bb\u3002\u4f60\u4f1a\u60ca\u8bb6\u4e8e\u4f60\u5b66\u5230\u4e86\u591a\u5c11\u4e1c\u897f\u3002\u201c\u3002\n\u5982\u679c\u6709\u4eba\u8d70\u8fdb\u4f60\u7684\u529e\u516c\u5ba4\uff0c\u770b\u5230\u4f60\u529e\u516c\u684c\u4e0a\u653e\u7740\u4e00\u53cc\u5047\u624b\uff0c\u4ed6\u4eec\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u4f60\u7684\u505a\u6cd5\u6709\u70b9\u592a\u611a\u8822\u4e86\u3002\u7136\u800c\uff0cVR\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u5e94\u8be5\u8003\u8651\u7ed9\u81ea\u5df1\u4e70\u4e00\u4e9b\u9ad8\u8d28\u91cf\u7684\u7269\u7406\u6a21\u578b\u3002\n\u5f53\u4f60\u6709\u4e00\u53cc\u624b\u7684\u65f6\u5019\uff0c\u5411\u5176\u4ed6\u56e2\u961f\u6210\u5458\u9610\u8ff0\u4f60\u7684\u60f3\u6cd5\u548c\u89e3\u91ca\u4f60\u7684\u6982\u5ff5\u8981\u5bb9\u6613\u5f97\u591a\u3002\u60a8\u53ef\u4ee5\u5728\u624b\u80cc\u4e0a\u7ed8\u5236\u4e00\u4e9b\u8f74\uff0c\u8fd9\u6837\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u66f4\u51c6\u786e\u5730\u6f14\u793a\u4e0d\u540c\u7684\u52a8\u4f5c\u548c\u5efa\u8bae\u7684\u624b\u52bf\u3002\n\u8ba8\u8bba\u8bbe\u8ba1\u6982\u5ff5\u548c\u65b0\u60f3\u6cd5\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002\u53ea\u6709\u5f53\u60a8\u4e0e\u60a8\u7684\u56e2\u961f\u6210\u5458\u516c\u5f00\u8c08\u8bba\u65f6\uff0c\u60a8\u5bf9\u865a\u62df\u73b0\u5b9e\u73af\u5883\u6216\u5e94\u7528\u7a0b\u5e8f\u7684\u613f\u666f\u624d\u4f1a\u5b9e\u73b0\u3002\n\u786e\u4fdd\u4f60\u6709\u5b9a\u671f\u4f1a\u8bae\u6216\u5f00\u653e\u5e73\u53f0\u548c\u9879\u76ee\u7ba1\u7406\u5de5\u5177\uff0c\u4ee5\u4fc3\u8fdb\u81ea\u7531\u6d41\u52a8\u7684\u8ba8\u8bba\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u56db\u5904\u4ea4\u6d41\u60f3\u6cd5\uff0c\u5e76\u83b7\u5f97\u6240\u9700\u7684\u53cd\u9988\uff0c\u5c06\u7c97\u7565\u7684\u8111\u7535\u6ce2\u5851\u9020\u6210\u4e00\u4e2a\u7cbe\u81f4\u7684\u6982\u5ff5\u3002\n\u8bbe\u8ba1\u754c\u7684\u6bcf\u4e2a\u4eba\u90fd\u77e5\u9053\uff0c\u4f60\u8d8a\u5feb\u8ba9\u4f60\u7684\u8bbe\u8ba1\u53d8\u5f97\u53ef\u89c1\uff0c\u6548\u679c\u5c31\u8d8a\u597d\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9bUI\u8bbe\u8ba1\u8005\u53ef\u4ee5\u7528\u6765\u78e8\u7ec3\u4ed6\u4eec\u5728\u8bbe\u8ba1VR\u73af\u5883\u4e2d\u7684\u6280\u80fd\u7684\u5de5\u5177\uff1a\n\u77e2\u91cf\u91c7\u75282D\u77e2\u91cf\u5e76\u8d4b\u4e88\u5176\u6df1\u5ea6\uff0c\u4ee5\u4f7f\u5176\u6210\u4e3a3D\u77e2\u91cf\u3002\u60a8\u53ef\u4ee5\u8fd9\u6837\u505a\u6765\u81ea\u5df1\u5feb\u901f\u521b\u5efa3D\u4e16\u754c\uff0c\u800c\u4e0d\u9700\u8981\u8f6f\u4ef6\u5de5\u7a0b\u5e08\u6216\u9ad8\u7ea7\u7f16\u7801\u6280\u80fd\u3002\n\u8c37\u6b4c\u7684\u79ef\u6728\u53ef\u4ee5\u8ba9\u4f60\u8fdb\u5165\u865a\u62df\u73b0\u5b9e\u7684\u4e16\u754c\uff0c\u5e76\u4f7f\u7528\u57fa\u672c\u7684\u79ef\u6728\u6765\u6784\u5efa\u5f62\u72b6\u3002\u7136\u540e\u53ef\u4ee5\u5c06\u5b8c\u6210\u7684\u6a21\u578b\u76f4\u63a5\u5bfc\u51fa\u5230\u6e38\u620f\u5f15\u64ce\u4e2d\u3002\n\u8c37\u6b4c\u7684\u503e\u659c\u753b\u7b14\u662f\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u5757\u7684\u5de5\u5177\uff0c\u5b83\u5141\u8bb8\u4f60\u901a\u8fc7\u7ed8\u753b\u5de5\u5177\u521b\u5efa\u66f4\u590d\u6742\u7684\u6709\u673a\u5f62\u72b6\u3002\n\u907f\u514d\u5728\u6ca1\u6709\u597d\u7684\u8c03\u8bd5\u5de5\u5177\u7684\u60c5\u51b5\u4e0b\u6f5c\u5fc3\u4e8eVR\u8bbe\u8ba1\u7684\u8bf1\u60d1\u3002\u60a8\u9700\u8981\u8003\u8651\u5982\u4f55\u6539\u8fdb\u7cfb\u7edf\u548c\u7528\u6237\u754c\u9762\uff0c\u56e0\u6b64\uff0c\u8c03\u8bd5\u5de5\u5177\u662f\u5e2e\u52a9\u60a8\u5feb\u901f\u8bc6\u522b\u548c\u6d88\u9664\u95ee\u9898\u7684\u91cd\u8981\u65b9\u9762\u3002\n\u5728\u865a\u62df\u73b0\u5b9e\u8bbe\u8ba1\u4e2d\uff0c\u65f6\u95f4\u5f80\u5f80\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u9650\u5236\u56e0\u7d20\u3002\u5373\u4f7f\u60a8\u638c\u63e1\u4e86\u8c03\u8bd5\u95ee\u9898\uff0c\u4e5f\u5fc5\u987b\u5bfb\u627e\u51cf\u5c11\u8fed\u4ee3\u65f6\u95f4\u7684\u65b9\u6cd5\u3002\n\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fOculus\u94fe\u63a5\uff0c\u60a8\u53ef\u4ee5\u5728PC\u4e0a\u4f7f\u7528Quest\u624b\u52a8\u8ddf\u8e2a\uff0c\u800c\u4e0d\u662f\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u5e76\u5c06\u5176\u90e8\u7f72\u5230Quest\u8fdb\u884c\u6d4b\u8bd5\u3002\u901a\u8fc7Oculus\u94fe\u63a5\uff0c\u60a8\u7684VR\u5e94\u7528\u7a0b\u5e8f\u5c06\u901a\u8fc7Unity\u6216\u865a\u5e7b\u8fdb\u884c\u5b9e\u51b5\u64ad\u653e\u3002\u53e6\u4e00\u79cd\u66ff\u4ee3\u65b9\u6cd5\u662f\u201c\u6cc4\u6f0f\u8fd0\u52a8\u201d\uff0c\u8fd9\u662f\u4e00\u79cd\u53ef\u4ee5\u653e\u5728\u529e\u516c\u684c\u6216\u5934\u76d4\u4e0a\u7684\u6444\u50cf\u5934\uff0c\u4f7f\u56e2\u961f\u4e2d\u7684\u6bcf\u4e2a\u4eba\u90fd\u80fd\u8bbf\u95ee\u624b\u90e8\u8ddf\u8e2a\u3002\n\u53e6\u4e00\u4e2a\u60f3\u6cd5\u662f\u914d\u7f6e\u901a\u8fc7\u9f20\u6807\u6216\u952e\u76d8\u529f\u80fd\u6a21\u62df\u624b\u7684\u65b9\u6cd5\u3002\u8fd9\u6837\u505a\u610f\u5473\u7740\u56e2\u961f\u4e2d\u7684\u4eba\u5458\u53ef\u4ee5\u5feb\u901f\u5904\u7406\u7b80\u5355\u7684\u60f3\u6cd5\uff0c\u4ece\u800c\u52a0\u5feb\u4e86\u8bbe\u8ba1\u8fc7\u7a0b\u3002\n\u5f53\u4f60\u4f7f\u7528VR\u65b0\u624b\u8fdb\u884cBeta\u6d4b\u8bd5\u65f6\uff0c\u5b83\u53ef\u80fd\u4f1a\u88ab\u8bc1\u660e\u662f\u5f92\u52b3\u7684\u3002\u56e0\u4e3a\u4ed6\u4eec\u6ca1\u6709\u4f7f\u7528\u786c\u4ef6\u7684\u7ecf\u9a8c\uff0c\u6240\u4ee5\u4ed6\u4eec\u5f88\u96be\u901a\u8fc7\u4ee4\u4eba\u60ca\u53f9\u7684\u56e0\u7d20\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u6709\u4e00\u4e9b\u865a\u62df\u73b0\u5b9e\u7ecf\u9a8c\u7684\u4eba\uff0c\u56e0\u4e3a\u4ed6\u4eec\u53ef\u4ee5\u7ed9\u51fa\u8d1f\u9762\u53cd\u9988\u548c\u5efa\u8bbe\u6027\u7684\u6279\u8bc4\uff0c\u5e2e\u52a9\u4f60\u6539\u8fdb\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u3002\n\u867d\u7136\u8bb8\u591a\u4e13\u5bb6\u53ef\u80fd\u5bf9\u67d0\u4e9b\u8303\u4f8b\u6216\u6280\u672f\u6709\u4e00\u4e9b\u504f\u89c1\uff0c\u4f46\u5b83\u4eec\u5bf9\u6d4b\u8bd5\u548c\u4f18\u5316\u5e2e\u52a9\u66f4\u6709\u7528\u3002\u8981\u6d88\u9664\u4efb\u4f55\u504f\u89c1\uff0c\u8bf7\u8981\u6c42\u60a8\u7684\u6d4b\u8bd5\u4eba\u5458\u4ec5\u4f9d\u8d56\u4ed6\u4eec\u5728\u865a\u62df\u73af\u5883\u4e2d\u7684\u6240\u89c1\u6240\u95fb\u3002\u901a\u8fc7\u88c5\u804b\u4f5c\u54d1\uff0c\u53ea\u6309\u7167\u8f6f\u4ef6\u544a\u8bc9\u4ed6\u4eec\u505a\u7684\u4e8b\u60c5\u884c\u4e8b\uff0c\u7528\u6237\u5c31\u53ef\u4ee5\u8bc6\u522bUI\u4e2d\u7684\u7f3a\u9677\u3002\nOculus Quest\u624b\u90e8\u8ddf\u8e2a\u63d0\u4f9b\u4e86\u4ece\u6559\u80b2\u5230\u4f01\u4e1a\u7684\u5de8\u5927\u673a\u9047\u3002\u968f\u7740\u865a\u62df\u73b0\u5b9e\u8d8a\u6765\u8d8a\u591a\u5730\u878d\u5165\u73b0\u4ee3\u4e16\u754c\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u516c\u53f8\u5e0c\u671b\u6316\u6398\u8fd9\u9879\u6280\u672f\u7684\u539f\u59cb\u6f5c\u529b\u3002\n\u76ee\u524d\uff0c\u8bbe\u8ba1\u4e2d\u8fd8\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\u3002\u5c3d\u7ba1\u5982\u6b64\uff0cUI\u8bbe\u8ba1\u5e08\u548c\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u4ecd\u7136\u53ef\u4ee5\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u4e3a\u5404\u79cd\u73b0\u5b9e\u4e16\u754c\u7684\u4f7f\u7528\u521b\u9020\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\u7684\u5f15\u4eba\u5165\u80dc\u548c\u8eab\u4e34\u5176\u5883\u7684VR\u73af\u5883\u3002\n\u8bbe\u8ba1\u56e2\u961f\u5185\u90e8\u7684\u6c9f\u901a\u81f3\u5173\u91cd\u8981\uff0c\u4e0e\u7528\u6237\u7684\u5916\u90e8\u6c9f\u901a\u4e5f\u662f\u5982\u6b64\uff0c\u5c24\u5176\u662f\u5728\u6d4b\u8bd5\u548c\u4f18\u5316\u65b9\u9762\u3002\u5f00\u53d1\u4eba\u5458\u5728\u6d4b\u8bd5\u671f\u95f4\u5fc5\u987b\u5bfb\u6c42\u6709\u7ecf\u9a8c\u7684VR\u7528\u6237\u7684\u5e2e\u52a9\uff0c\u5e76\u5229\u7528\u5148\u8fdb\u7684\u8c03\u8bd5\u5de5\u5177\u6765\u51cf\u5c11\u8fed\u4ee3\u65f6\u95f4\u3002\n\u6027\u80fd\u662f\u6700\u91cd\u8981\u7684\uff0c\u4f46\u968f\u7740\u7ade\u4e89\u52a0\u5267\uff0c\u5feb\u901f\u751f\u4ea7\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u4e3a\u7ade\u4e89\u5c06\u6210\u4e3a\u5728\u667a\u80fd\u624b\u673a\u4e0a\u521b\u9020\u4e0b\u4e00\u4e2a\u865a\u62df\u73b0\u5b9e\u5237\u5361\u52a8\u4f5c\u7684\u516c\u53f8\u3002\n\u60a8\u53ef\u4ee5\u5728Microsoft Design Labs Hands Playround for Quest\u548cHoloLens 2\u4e2d\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u624b\u90e8\u8bbe\u8ba1\u7684\u4fe1\u606f\uff0c\u6216\u8005\u7ec3\u4e60\u624b\u90e8\u8ddf\u8e2a\u6280\u672f\u3002", "note_en": "In late 2019, the  introduction of Oculus Quest hand tracking dominated the virtual reality (VR) industry. While this experimental feature is still very much in its infancy, there is considerable hype among VR app developers as it may open the doors to exciting new possibilities in mixed reality technology.\n Oculus Quest hand-tracking support seeks to give VR developers more freedom to create and express themselves through natural gestures and simple interactions. Over time, app developers may be able to leverage this feature to make virtual reality a more accessible, realistic experience for users.\n Most AR headsets and more advanced VR headsets as Oculus Quest are striving for so-called six-degrees-of-freedom (6DOF) where you can freely move your hands and body in your space.\n Oculus Quest comes with Touch Controllers where the movements are being tracked by the sensors in your headset. No wires necessary. It\u2019s one of the most exciting features of the device and it\u2019s not surprising both Quest models (64GB and 128GB) are sold out from the  Oculus Store. If you\u2019ve ever thought about getting Oculus Rift or Rift S, consider getting a Quest first.\n To experience this groundbreaking feature try a few of the examples where you\u2019re using your real hands:\n   In this article, we&#39;ll explore the impact of Oculus Quest hand tracking, look at the current best practices and consider how you can get a grip on this potentially ground-breaking technology to create a better user interface (UI).\n Consider this article as a practical advice towards developing your UX/UI design. Keep in mind the hand tracking field is still in the early days and there\u2019s no \u201c one size fits all\u201d approach. Apart from limitations of the system the virtual experience of the applications is different from user to user. Saying that, this content is a good starting point.\n     Hand tracking is a feature on the Oculus Quest head-mounted display (HMD) that enables people to use their hands as a viable input method when using the VR device. Users can make simple gestures with their hands, such as pinching, holding, or dragging to perform tasks or actions in the VR environment.\n The critical aspect is that it is fully-articulated tracking hardware that can determine where your hands are in the virtual space and what every finger or finger joint is doing at any moment. This design facilitates natural interactions, which give the user a heightened sense of presence and a more immersive, engaging experience.\n Tracked motion controllers or HoloLens 1 don&#39;t provide information about your hands&#39; location or where your fingers are pointing. Similarly, Valve Knuckles are not hand tracking technology because they only offer one axis of movement.\n You can see good examples of fully-articulated hand tracking in Leap Motion,  HoloLens 2, in Smartphone SDKs, including  MediaPipe and  ManoMotion, as well as in VR, including  Manus Prime and  VRgluv.\n Now, Oculus Quest hand tracking joins that list, which presents excellent opportunities for app developers.\n  Good things happen when the product and design teams at Facebook Reality Labs put their heads together. What originally started as a research project has resulted in an innovative new paradigm for  virtual reality input.\n Design paradigms are the foundational concept that underpins how we interact with software. In VR, this landscape changes dramatically, which is an essential evolution for high-level hand tracking.\n The software behind Oculus Quest hand tracking incorporates deep learning, allowing the computer to determine the position of the user\u2019s fingers, using only the Quest\u2019s native monochrome cameras. The technology creates a group of 3D points that map to the user\u2019s hands and fingers, enabling it to represent movement to an accurate degree in the VR environment.\n While the new Oculus feature is a leap forward for mixed reality, it poses a challenge for developers and users alike. All unexplored technology is untested, and therefore, it forces designers to think outside the box, as they effectively must come up with new ways of designing software for this unique hardware.\n The last major shift of this magnitude was when the world moved to a mobile-centric reality, swapping their desktop computers for smartphones and tablets. Developers had to forget about the mouse-based environment, and instead, think about touchscreens, as clicking was replaced by swiping.\n Now, in the realm of VR development, app designers must figure out how to get the most of the Oculus Quest technology using their hands instead of controllers.\n   When using Oculus Quest hand tracking, there are three ways you can interact with the virtual environment:\n     Direct manipulation is a virtual reality input model where the user reaches out with their hands to touch and interact with holograms. Objects behave as they would in reality, and so, it&#39;s a fun and easy way of learning how to control a virtual world.\n  You can press buttons, pick up objects, scroll windows, and activate 2D content aspects as if they were a virtual touchscreen. Direct manipulation is a near input model, which means it is best when you want to interact with content within arms reach.\n   Jitter is a misalignment between the virtual hands and your actual hands. In a lot of AR platforms, the virtual hands are represented in abstract ways, like with shapes, clouds, or sparkles. This design is intentional to hide the jitter effect, so users don&#39;t pick up on any obvious jittering.\n Drift is the feeling that you are moving in the virtual world, even while you stand still. Objects appear to move around you for no reason because of a constant offset of where the computer thinks your hand is compared to its real location. Bad lighting or too much light coming into the headset is a primary cause of drift issues.\n Grotesque Teleports are when a part of the virtual hands, like a finger, randomly appears inside the hand, or even completely disjointed somewhere else in the room. It may only last for a frame, as these errors happen when the technology misreads the environment and makes bizarre misjudgments. (It&#39;s also a really good name for a symphonic progressive rock band.)\n  Together, these three problems are the key factors that impact interaction resolution, which is the minimum object scale that users can comfortably engage in the virtual world without encountering any detrimental visual or performance issues.\n If you have an externally tracked controller, like a Quest controller, you have incredible accuracy. You may find it possible to comfortably interact with items the size of a pinhead in the virtual environment. However, with hand tracking, the interaction resolution is not as good because of the issues above. Realistically, any objects smaller than an inch will be hard to engage.\n While the quality and user interface of Oculus Quest hand tracking is still impressive, the technology still has room for improvement. The quality will get better over time, but for now, there are some limitations that designers must accept.\n Besides the object size, you must also think about the length of your arms when designing a virtual world. With direct manipulation, you can only interact with objects you can reach. More to the point, consider the length of your shortest-armed user and make sure not to overpack your virtual world with elements that may be out of reach.\n  A hand ray is a virtual reality design concept where the user can \u201cshoot\u201d a beam from their hand at a distant object, and then use gestures to exercise control over that object from afar.\n   This feature enables you to interact with the user interface in many ways, such as flipping switches, pushing buttons, or picking up items from across the room. You may even get some haptic feedback as you touch your finger and thumb together to activate control on an object.\n You can anchor hand rays based on your head position, which adds a degree of accuracy before you adjust the angle through a broader range of motion with your arms and hands.\n  Typically, hand rays don\u2019t work as well in a virtual environment as they do on computers.\n  Gesture recognition is a virtual reality design concept where the computer analyzes the pose of the user&#39;s hand in regard to the position and shape of the fingers and palm and then triggers a corresponding action. For example, the computer may recognize common sign language uses, like the peace symbol or a rock n\u2019 roll sign.\n    For designers, gestures can be tricky to deal with, as there is a lot of room for error. You must consider the following:\n Unintentional gesticulations through subconscious movement or common body language. People moving their hands naturally while talking might cause the software to do something in response.\n Intentional operations in your world may infringe on the user&#39;s ability to use certain poses for other reasons. For example, if the user can activate a button in the world, but also uses a similar pushing movement elsewhere, it can confuse the system.\n Intentional inherent meaning gestures like the OK sign or thumbs up already have an ingrained meaning in many cultures. Designers must avoid using these in their user interface because the user expects there to be a close one-to-one mapping between the meaning they already understand and the meaning that the software will perceive.\n Intentional meaningless gestures are specific poses or movements that don&#39;t have any preconceived cultural meaning and are only done intentionally. For example, Quest uses an eye-pinch gesture that is unlikely to be confused with any natural body language.\n  Designers must incorporate certain gestures to enable users to improve the user experience for their Oculus Quest hand tracking application. A prominent example of an essential gesture is to perform a system escape. Users must have access to this ability at all times.\n When the inherent meaning of a gesture matches the outcome, it&#39;s worth including the gesture in your design. For example, if the user wants to take a screenshot, they can bring the tips of their thumbs toward the forefinger from the opposing hand to create a square shape, as if they are looking through the frame of a camera.\n A further example of a justifiable gesture in a hand tracking application is when the gesture is the sole interaction in the interface. For instance, in a virtual darts game, the only interaction the user would be doing is the motion of throwing a dart.\n  The latest developments in Oculus Quest hand tracking have got the VR/AR community talking, and many UI designers are chomping at the bit to push the boundaries of this feature.\n   Virtual reality remains limited in many ways, as designers are yet to discover the most important and exploratory paradigms to maximize the potential of hand-tracking technology.\n Here are just some ideas that you can use when designing Oculus Quest hand tracking applications:\n  The list goes on and is only limited by the imagination of the designer. To get a feel for the possibilities of new paradigms in VR design, consider the examples below.\n Swipe Keyboard enables you to swipe your hands around a virtual keyboard. The software guesses what you are trying to write using machine learning technology, and the completed text appears on the screen as you continue swiping.\n Flying Hands makes it possible for you to interact with items that are far away. It is like a modified hand ray, where your hands are at the end of the ray, allowing near-field direct object manipulation on objects that are at a distance.\n Range/Size Amplification is another distance tool where the virtual reality hands are much bigger than the user\u2019s actual hands. This allows for large-scale manipulation so you can control huge objects and entire scenes with relatively minimal movement.\n Hand Throwing is a fun concept where you can throw your hand away from you, and then use gestures to crawl the detached around the floor or other surfaces to get to objects.\n Some of these ideas may seem novel at best, but   Daniel Beauchamp , the head of VR/AR at Shopify, explains this an essential road to evolution.\n \u201cOne of the best ways to unlock new and powerful ideas is to build upon silly ideas,\u201d  says Beauchamp.\n   To get to the ground-breaking ideas in VR/AR, you must first go through a lot of bad ideas. As you do this, think about how you make improvements to hand tracking faster. After you  setup Oculus Quest for development move your mind to the researcher&#39;s mode.\n  Instead of trying to brainstorm a winning product with hand tracking instantly, you should play around with the technology, coming up with fun ideas that users enjoy. In doing this, you can get familiar with the capabilities of the tool, and may stumble upon interactions and concepts that you can apply to a more purposeful project.\n Beauchamp claims he wishes more VR developers took this approach, as the little ideas can lead to huge breakthroughs.\n \u201cDon\u2019t put the burden on yourself to build out a whole game or build out a whole product. Build many small things, no matter how silly they may seem. You\u2019ll be surprised at just how much you learn.\u201d\n  If someone walks into your office and sees a pair of fake hands on your desk, they may think you\u2019re taking the silly approach a little too far. However, VR app developers should consider getting themselves some quality physical models.\n It&#39;s much easier to formulate ideas and explain your concepts to other team members when you have a set of hands. You can draw some axes on the back of the hands, which can make it easier to demonstrate different motions and suggested gestures with greater accuracy.\n  It&#39;s vital to discuss design concepts and new ideas. Your vision for a virtual reality environment or application will only come to be if you talk openly about it with your team members.\n Make sure you have regular meetings or open platforms and project management tools that facilitate free-flowing discussion so you can bounce ideas around, and get the feedback needed to sculpt a rough brainwave into a polished concept.\n  Everybody in design knows that the faster you can get your designs visible, the better. Here are a few tools that UI designers can use to hone their skills in designing VR environments:\n Vectary takes 2D vectors and gives them depth to make them 3D. You can do this to quickly create a 3D world yourself, without needing a software engineer or high-level coding skills.\n Blocks by Google allows you to enter a VR world and use basic building blocks to construct shapes. You can then export your finished models directly into your game engine.\n Tilt Brush by Google is a similar tool to Blocks that allows you to create more complex, organic shapes through paint tools.\n  Avoid the temptation to dive into VR design without a good debugging tool. You need to think about how you can improve the system and user interface, and so, a debugging tool is a vital aspect that will help you identify and eliminate issues quickly.\n  Time is often a significant constraint in VR design. Even if you&#39;re on top of the debugging issues, you must look for ways to reduce your iteration time.\n If you\u2019re using  the Oculus link, you can use Quest hand tracking on your PC instead of building an app and deploying it to the Quest for testing. Through Oculus link, your VR app will play live through  Unity or Unreal. An alternative to this is Leak Motion, a camera that you can place on your desk or helmet that will enable everyone on the team to access hand tracking.\n Another idea is to configure ways of simulating hands through mouse or keyboard functions. Doing this means people in the team can quickly play with simple ideas on the fly, which speeds up the design process.\n  When you use VR newbies for beta testing, it can prove unproductive. As they have no experience with the hardware, it&#39;s hard for them to get past the WOW factor. Instead, you should use people with some VR experience because they can give negative feedback and constructive criticism that helps you improve your app design.\n While many experts may have some bias toward certain paradigms or technology, they are more useful for testing and optimization assistance. To combat any bias, ask your testers to rely only on what they see or hear in the virtual environment. By playing dumb and acting solely on what the software tells them to do, users can identify flaws in the UI.\n  Oculus Quest hand tracking presents immense opportunities from education to enterprise. As virtual reality becomes ever-more integrated into the modern world, more companies want to tap into the raw potential of this technology.\n For now, there are still some kinks in the design. Still, UI designers and app developers can come together to create incredibly engaging and immersive VR environments for a diverse range of real-world uses.\n Communication within design teams is crucial, as is external communication with users, especially when it comes to testing and optimization. Developers must enlist the help of experienced VR users during testing, and leverage advanced debugging tools to reduce iteration times.\n Performance matters most, but fast production is vital as the competition heats up to become the company that creates the next &#34;swipe&#34; motion for VR on smartphones.\n You can learn more about   designing for hands from Oculus  or practice hand tracking techniques in   Microsoft Design Labs Hands Playground  for Quest and HoloLens 2.", "posttime": "2020-06-03 01:50:30", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "app,\u8bbe\u8ba1,\u624b\u90e8,ui", "title": "\u865a\u62df\u73b0\u5b9e\u624b\u90e8\u8ddf\u8e2a\u5e94\u7528\u7684\u7528\u6237\u754c\u9762\u8bbe\u8ba1", "title_en": "Designing UI for VR Hand Tracking Applications", "transed": 1, "url": "https://circuitstream.com/blog/oculus-quest-hand-tracking/", "via": "", "real_tags": ["app", "\u8bbe\u8ba1", "\u624b\u90e8", "ui"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1004867, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4e54\u5c14\u00b7\u65af\u6ce2\u5c14\u65af\u57fa(Joel Spolsky)\u5728\u4e00\u7bc7\u8457\u540d\u7684\u535a\u5ba2\u6587\u7ae0\u4e2d\u65ad\u8a00\uff0c\u4f60\u6c38\u8fdc\u4e0d\u5e94\u8be5\u4ece\u5934\u5f00\u59cb\u91cd\u5199\u4ee3\u7801\u5e93\u3002\u4ed6\u4e3e\u4e86\u7f51\u666f\u7684\u4f8b\u5b50\uff0c\u4ed6\u4eec\u82b1\u4e86\u51e0\u5e74\u65f6\u95f4\u91cd\u5199\u8f6f\u4ef6\uff0c\u4ed6\u4eec\u7684\u516c\u53f8\u6700\u7ec8\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5012\u95ed\u4e86\u3002\u4e00\u5e74\u591a\u524d\uff0c\u6211\u91cd\u8bfb\u4e86\u90a3\u7bc7\u5e16\u5b50\uff0c\u4f46\u6211\u4ecd\u7136\u6295\u7968\u8d5e\u6210\u4ece\u5934\u5f00\u59cb\u91cd\u5199\u6211\u4eec\u7684\u7533\u8bf7\u3002\u5168\u90e8\u90fd\u662f\u3002\u8fd9\u5c31\u662f\u6211\u4eec\u8fd9\u4e48\u505a\u7684\u539f\u56e0\uff0c\u6211\u4eec\u662f\u5982\u4f55\u6210\u529f\u7684\uff0c\u4ee5\u53ca\u4e00\u4e9b\u5173\u4e8e\u4f60\u662f\u5426\u5e94\u8be5\u8fd9\u6837\u505a\u7684\u542f\u53d1\u5f0f\u65b9\u6cd5\u3002\n\u6211\u4eec\u7684\u6545\u4e8b\u4ece2019\u5e741\u6708\u5f00\u59cb\u3002Remesh\u5f53\u65f6\u662f\u4e00\u5bb6\u5c0f\u5f97\u591a\u7684\u516c\u53f8\u3002\u6211\u4eec\u6700\u8fd1\u96c7\u4f63\u4e86\u51e0\u540d\u5de5\u7a0b\u5e08\uff0c\u6211\u4eec\u67095\u540d\u5de5\u7a0b\u5e08\u4e13\u6ce8\u4e8e\u4ea7\u54c1\uff0c\u8fd8\u6709\u51e0\u540d\u5de5\u7a0b\u5e08\u4e13\u6ce8\u4e8e\u673a\u5668\u5b66\u4e60(ML)\u6216DevOps\u3002\u5c3d\u7ba1\u6700\u8fd1\u96c7\u4f63\u4e86\u8fd9\u4e9b\u5de5\u7a0b\u5e08\uff0c\u4f46\u6211\u4eec\u7684\u901f\u5ea6\u4ecd\u7136\u4f4e\u5f97\u4ee4\u4eba\u75db\u82e6\u3002\u6dfb\u52a0\u7b80\u5355\u529f\u80fd\u9700\u8981\u5f88\u957f\u65f6\u95f4\u3002\u6211\u4eec\u5728\u4ea7\u54c1\u4e2d\u6709\u5f88\u591a\u9519\u8bef\uff0c\u6211\u4eec\u53ea\u662f\u7b80\u5355\u5730\u627f\u8ba4\u8fd9\u4e9b\u9519\u8bef\u662f\u201c\u5df2\u77e5\u7684\u201d\uff0c\u5e76\u6ca1\u6709\u4fee\u590d\u3002\u800c\u4e14\u6574\u4e2a\u4ea7\u54c1\u770b\u8d77\u6765\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u660e\u663e\u53d8\u5316\u4e86\u3002\n\u7406\u89e3\u6211\u4eec\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u4e9b\u95ee\u9898\u662f\u5f88\u91cd\u8981\u7684\u3002\u6211\u4eec\u5047\u8bbe(\u5728\u91cd\u5199\u4e4b\u540e\uff0c\u9a8c\u8bc1\u4e86)\u95ee\u9898\u4e0d\u5728\u6211\u4eec\u7684\u5458\u5de5\u8eab\u4e0a\uff1a\u6211\u4eec\u96c7\u4f63\u4e86\u4f1f\u5927\u7684\u5de5\u7a0b\u5e08\u3002\u95ee\u9898\u4e3b\u8981\u51fa\u5728\u6211\u4eec\u7684\u4ee3\u7801\u5e93\u548c\u6211\u4eec\u7684\u6d41\u7a0b\u4e0a\u3002\u6211\u4eec\u6b63\u5728\u5de5\u4f5c\u7684\u9057\u7559\u4ee3\u7801\u5e93\u65e2\u4e0d\u9002\u5408\u6211\u4eec\u56e2\u961f\u7684\u6280\u80fd\u96c6\uff0c\u4e5f\u4e0d\u9002\u5408\u6211\u4eec\u6b63\u5728\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u6211\u4eec\u7684\u8fc7\u7a0b\u9f13\u52b1\u5e76\u4f9d\u8d56\u4e8e\u5b64\u7acb\u7684\u77e5\u8bc6\uff1a\u5728Remesh\u6ca1\u6709\u201c\u5168\u6808\u201d\u3002\n\u6211\u4eec\u7684\u9057\u7559\u5e94\u7528\u7a0b\u5e8f\u6700\u521d\u662f\u4e3a\u4e00\u4e9b\u4e0e\u73b0\u5728\u4f7f\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u975e\u5e38\u4e0d\u540c\u7684\u4e1c\u897f\u800c\u8bbe\u8ba1\u7684\u3002\u6700\u521d\uff0cRemesh\u5141\u8bb8\u7528\u6237\u5728\u6574\u4e2a\u7ec4\u4e4b\u95f4\u6216\u4e2a\u4eba\u548c\u7ec4\u4e4b\u95f4\u8fdb\u884c\u53cc\u5411\u5bf9\u8bdd\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u8ba9\u6c11\u4e3b\u515a\u4eba\u548c\u5171\u548c\u515a\u4eba\u76f8\u4e92\u4ea4\u8c08\uff0c\u76f8\u4e92\u7406\u89e3\uff0c\u627e\u5230\u5171\u540c\u70b9\u3002\u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u8ba9\u9547\u957f\u4e0e\u4ed6\u4eec\u7684\u5e02\u6c11\u4ea4\u8c08\uff0c\u4ee5\u66f4\u597d\u5730\u4e86\u89e3\u4ed6\u4eec\u9700\u8981\u4ec0\u4e48\u3001\u76f8\u4fe1\u4ec0\u4e48\u548c\u60f3\u8981\u4ec0\u4e48\u3002\u7136\u800c\uff0c\u5f53\u6211\u4eec\u53d1\u73b0\u4ea7\u54c1\u9002\u5408\u5e02\u573a\u65f6\uff0c\u7528\u4f8b\u53d1\u751f\u4e86\u53d8\u5316\u3002\u6211\u4eec\u9760\u5411\u4e00\u4f4d\u5355\u72ec\u7684\u4e3b\u6301\u4eba\uff0c\u4e0e\u4e00\u7fa4\u4eba\u4ea4\u8c08\u3002\n\u8fd9\u79cd\u66f4\u6539\u7684\u7ed3\u679c\u662f\uff0c\u67d0\u4e9b\u65e7\u7684\u8bbe\u8ba1\u51b3\u7b56\u4e0d\u518d\u6709\u610f\u4e49\uff0c\u6a21\u5f0f\u9700\u8981\u8fdb\u884c\u91cd\u5927\u66f4\u6539\u3002\u9664\u4e86\u6570\u636e\u5e93\u95ee\u9898\u4e4b\u5916\uff0c\u6211\u4eec\u7684\u4ee3\u7801\u5e93\u672c\u8eab\u4e5f\u5f88\u96be\u7406\u89e3\uff0c\u56e0\u4e3a\u7279\u6027\u90fd\u662f\u7528\u87ba\u6813\u56fa\u5b9a\u8d77\u6765\u7684\uff0c\u6ca1\u6709\u8fdb\u884c\u592a\u591a\u7684\u91cd\u5927\u91cd\u6784\u3002\u6211\u4eec\u5728\u6700\u9700\u8981\u91cd\u6784\u7684\u9886\u57df\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u975e\u5e38\u4f4e\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u6700\u65e7\u7684\u4ee3\u7801\uff0c\u5728\u6211\u4eec\u5efa\u7acb\u826f\u597d\u7684\u6d4b\u8bd5\u5b9e\u8df5\u4e4b\u524d\u7f16\u5199\u3002\n\u9664\u6b64\u4e4b\u5916\uff0c\u6b63\u5728\u4f7f\u7528\u7684\u8bed\u8a00\u548c\u6846\u67b6\u5bf9\u6211\u4eec\u7684\u56e2\u961f\u4e0d\u8d77\u4f5c\u7528\u3002\u540e\u7aef\u4ee3\u7801\u5e93\u662f\u7528Elixir\u7f16\u5199\u7684\uff0c\u6211\u4eec\u7684\u5f00\u53d1\u4eba\u5458\u4e2d\u5f88\u5c11\u6709\u4eba\u975e\u5e38\u4e86\u89e3\u8fd9\u4e00\u70b9\u3002\u5176\u4e2d\u4e00\u4e2a\u524d\u7aef\u4ee3\u7801\u5e93\u662f\u7528\u975e\u5e38\u53e4\u8001\u7684ANGLING\u7248\u672c\u7f16\u5199\u7684(\u6211\u4e0d\u60f3\u53bb\u68c0\u67e5\u5b83\u662f\u4ec0\u4e48\uff0c\u6211\u53ef\u80fd\u4f1a\u54ed)\uff0c\u6211\u4eec\u8fd8\u6709\u53e6\u5916\u4e24\u4e2a\u524d\u7aef\u5728\u54cd\u5e94\u3002\u6211\u4eec\u7684\u5de5\u7a0b\u5e08\u4e2d\u5f88\u5c11\u6709\u4eba\u5728\u4e00\u8f86\u8f66\u91cc\u611f\u5230\u8212\u670d\uff0c\u66f4\u4e0d\u7528\u8bf4\u4e09\u8f86\u8f66\u4e86\u3002\u4f7f\u7528\u7684\u8bed\u8a00\u548c\u6846\u67b6\u4e0d\u9002\u5408\u6211\u4eec\u7684\u56e2\u961f\uff0c\u4e5f\u4e0d\u9002\u5408\u6211\u4eec\u7684\u95ee\u9898\uff0c\u8fd9\u5927\u5927\u964d\u4f4e\u4e86\u6211\u4eec\u7684\u901f\u5ea6\u3002\n\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u77e5\u9053\u6211\u4eec\u7684\u4ee3\u7801\u5e93\u9700\u8981\u8fdb\u884c\u91cd\u5927\u66f4\u6539\u3002\u5f53\u60a8\u9762\u524d\u6709\u4e00\u5806\u96be\u4ee5\u5904\u7406\u7684\u4ee3\u7801\u65f6\uff0c\u786e\u5b9e\u6709\u4e09\u79cd\u9009\u62e9\uff1a\n\u5bf9\u4e8e\u524d\u7aef\u6765\u8bf4\uff0c\u91cd\u6784\u5e76\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u9009\u62e9\u3002\u6211\u4eec\u7684ANGLE\u7248\u672c\u5df2\u7ecf\u8db3\u591f\u8001\u4e86\uff0c\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u4eec\u5e76\u6ca1\u6709\u660e\u786e\u7684\u5347\u7ea7\u5230\u73b0\u4ee3\u7248\u672c\u7684ANGLE(\u5766\u7387\u5730\u8bf4\uff0c\u6211\u4eec\u4e5f\u4e0d\u60f3\u4f7f\u7528\u4efb\u4f55\u7248\u672c\u7684ANGLING)\u3002\u56e0\u4e3a\u6211\u4eec\u9884\u8ba1UI\u548cAPI\u4f1a\u6709\u91cd\u5927\u53d8\u5316\uff0c\u6240\u4ee5\u91cd\u6784\u662f\u4e0d\u53ef\u884c\u7684\u3002\u56e0\u6b64\uff0c\u5728\u524d\u7aef\uff0c\u6211\u4eec\u8981\u4e48\u4e00\u4e3e\u91cd\u5199\u5b83\uff0c\u8981\u4e48\u96f6\u6572\u788e\u6253\u5730\u91cd\u5199\u5b83\u3002\n\u540e\u7aef\u6709\u4e00\u4e9b\u6211\u4eec\u60f3\u8981\u89e3\u51b3\u7684\u95ee\u9898--\u6211\u4eec\u7684\u6a21\u5f0f\u3001\u8bed\u8a00\u548c\u4ee3\u7801\u5e93\u4e0d\u518d\u9002\u5408\u6211\u4eec\u6b63\u5728\u89e3\u51b3\u7684\u95ee\u9898\u3002\u6211\u4eec\u5c06Elixir\u7528\u4e8e\u5176\u5927\u89c4\u6a21\u7684\u5e76\u53d1\u652f\u6301\uff0c\u4f46\u6211\u4eec\u6700\u7ec8\u4ece\u672a\u9700\u8981\u5b83\uff0c\u5b83\u53ea\u4f1a\u54ac\u6211\u4eec\u4e00\u53e3\uff1aErlang VM\u4e2d\u5904\u7406\u5e76\u53d1\u7684\u65b9\u5f0f\u4f7f\u5f97\u5206\u6790\u975e\u5e38\u56f0\u96be\uff0c\u56e0\u4e3a\u60a8\u77e5\u9053\u6b63\u5728\u8ba1\u7b97\u4ec0\u4e48\uff0c\u4f46\u4e0d\u77e5\u9053\u4ece\u54ea\u91cc\u8c03\u7528\u5b83-\u795d\u6027\u80fd\u8c03\u4f18\u597d\u8fd0\u3002Elixir\u4ee3\u7801\u5e93\u8fd8\u9650\u5236\u4e86\u6211\u4eec\u7684ML\u5de5\u7a0b\u5e08\u5bf9\u540e\u7aef\u4ee3\u7801\u5e93\u7684\u8d21\u732e\uff1a\u4ed6\u4eec\u6bcf\u5929\u90fd\u5728Python\u4e2d\u5de5\u4f5c\uff0c\u6ca1\u6709\u65f6\u95f4\u6df1\u5165\u7814\u7a76Elixir\u3002\u957f\u8bdd\u77ed\u8bf4\uff0c\u6211\u4eec\u60f3\u653e\u5f03ELEXIR\uff0c\u8f6c\u800c\u4f7f\u7528Python\uff0c\u56e0\u4e3a\u8fd9\u6837\u6211\u4eec\u7684\u6574\u4e2a\u56e2\u961f\u5c31\u53ef\u4ee5\u505a\u51fa\u8d21\u732e\uff0c\u8bed\u8a00\u5c06\u652f\u6301\u95ee\u9898\uff0c\u6211\u4eec\u5c06\u66f4\u5bb9\u6613\u5206\u6790\u4ee3\u7801\u3002\n\u6211\u4eec\u4e5f\u6709\u4e00\u4e9b\u201c\u4ea7\u54c1\u503a\u52a1\u201d\uff0c\u6211\u4eec\u5411\u73b0\u6709\u5ba2\u6237\u4ecb\u7ecd\u4e86\u4ed6\u4eec\u5b66\u4e60\u5e76\u9010\u6e10\u4f9d\u604b\u7684\u6982\u5ff5\uff0c\u4f46\u6700\u7ec8\u53ef\u80fd\u5e76\u4e0d\u7406\u60f3\u3002\u4ed6\u4eec\u662f\u5f53\u5730\u7684\u6781\u7aef\u5206\u5b50\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u6253\u7834\u5c40\u90e8\u6700\u5927\u503c\uff0c\u505a\u51fa\u66f4\u597d\u7684\u4e1c\u897f\uff0c\u6211\u4eec\u53ef\u80fd\u4e0d\u5f97\u4e0d\u8fdb\u884c\u4e00\u6b21\u5927\u7684\u98de\u8dc3\uff0c\u5728\u90a3\u91cc\uff0c\u8f83\u5c0f\u7684\u8fed\u4ee3\u53ef\u80fd\u4f1a\u9047\u5230\u7528\u6237\u7684\u62b5\u5236\u3002\u5220\u9664\u4e2d\u7684\u8fd9\u4e9b\u6982\u5ff5\u9700\u8981\u4e00\u6b21\u505a\u5f88\u591a\u4e8b\u60c5\u3002\n\u5f52\u6839\u7ed3\u5e95\uff0c\u6211\u4eec\u91cd\u5199\u7684\u7406\u7531\u5b9e\u9645\u4e0a\u53ef\u4ee5\u5f52\u7ed3\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u56e0\u7d20\uff1a\n\u6211\u4eec\u5e0c\u671b\u6211\u4eec\u56e2\u961f\u7684\u6bcf\u4e2a\u6210\u5458\u90fd\u80fd\u4e3a\u540e\u7aef\u4ee3\u7801\u5e93\u505a\u51fa\u8d21\u732e\uff0c\u800cPython\u65e2\u6613\u4e8e\u5b66\u4e60\uff0c\u53c8\u5728\u6211\u4eec\u7684\u56e2\u961f\u4e2d\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u91c7\u7528\uff0c\u8fd9\u7b26\u5408\u6211\u4eec\u7684\u8981\u6c42\u3002\n\u6211\u4eec\u7684\u65e7\u4ee3\u7801\u5e93\u975e\u5e38\u8106\u5f31\uff0c\u6d4b\u8bd5\u96be\u5ea6\u5f88\u4f4e\uff0c\u91cd\u6784\u5b83\u5c06\u662f\u4e00\u4e2a\u8270\u5de8\u7684\u8fc7\u7a0b\u3002\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fc1\u79fb\u5230\u50cfDjango\u8fd9\u6837\u81ea\u4ee5\u4e3a\u662f\u7684\u6846\u67b6\u6765\u63d0\u9ad8\u6548\u7387\uff0c\u540c\u65f6\u4e5f\u6709\u5f88\u591a\u7701\u65f6\u7684\u9ed8\u8ba4\u8bbe\u7f6e(\u6bd4\u5982Django Admin)\u3002\n\u6211\u4eec\u5c06\u6709\u673a\u4f1a\u5236\u4f5c\u4e00\u4e2a\u53d7\u6211\u4eec\u4ece\u5ba2\u6237\u90a3\u91cc\u5b66\u5230\u7684\u4e1c\u897f\u5f71\u54cd\u7684\u5168\u65b0\u7248\u672c\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u7ba1\u7406\u5411\u65b0\u7248\u672c\u7684\u8fc7\u6e21\uff0c\u800c\u4e0d\u662f\u5728\u6bcf\u4e00\u9879\u66f4\u6539\u4e0a\u90fd\u4e0e\u5927\u91cf\u5ba2\u6237\u8fdb\u884c\u957f\u8fbe12\u4e2a\u6708\u7684\u6597\u4e89\u3002\u8fd9\u4e5f\u4f7f\u5f97\u57f9\u8bad\u6211\u4eec\u7684\u5ba2\u6237\u6210\u529f\u56e2\u961f\u548c\u9500\u552e\u56e2\u961f\u6700\u7ec8\u6210\u4e3a\u4e00\u6b21\u6027\u7684\u6279\u91cf\u5de5\u4f5c\uff0c\u800c\u4e0d\u662f\u4e0d\u65ad\u5730\u91cd\u65b0\u5f15\u5165\u65b0\u6982\u5ff5\u3002\n\u4e3a\u4e86\u505a\u51fa\u8fd9\u4e2a\u51b3\u5b9a\uff0c\u6211\u4eec\u505a\u4e86\u76f8\u5f53\u5e7f\u6cdb\u7684\u89c4\u5212\u3002\u6211\u4eec\u53ef\u4ee5\u6574\u5929\u8c08\u8bba\u654f\u6377\u8fd9\u4e2a\u548c\u90a3\u4e2a\uff0c\u4f46\u662f\u8fd9\u662f\u4e00\u4e2a\u5b9e\u9645\u6267\u884c\u7011\u5e03\u5f0f\u8ba1\u5212\u7684\u6848\u4f8b-\u4e0d\u662f\u56e0\u4e3a\u6211\u4eec\u8981\u5b9e\u73b0\u5b83\u7684\u7011\u5e03\u5f0f\uff0c\u800c\u662f\u8981\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u9009\u9879\u7684\u52aa\u529b\u7a0b\u5ea6\u3002\u5f88\u5feb\u5c31\u5f88\u660e\u663e\uff0c\u6279\u91cf\u91cd\u5199\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u65f6\u95f4\uff0c\u4f46\u662f\u91cd\u6784\u6216\u96f6\u6563\u91cd\u5199\u9700\u8981\u66f4\u957f\u7684\u65f6\u95f4\uff0c\u800c\u4e14\u56f4\u7ed5\u5b83\u7684\u4e0d\u786e\u5b9a\u6027\u8981\u9ad8\u5f97\u591a\u3002\u5982\u679c\u6211\u4eec\u8d70\u91cd\u6784\u8def\u7ebf\uff0c\u6211\u4eec\u5c06\u5192\u66f4\u5927\u7684\u98ce\u9669\u3002\n\u6700\u540e\uff0c\u6211\u4eec\u5bf9\u81ea\u5df1\u7684\u51b3\u5b9a\u5f88\u6709\u4fe1\u5fc3\uff0c\u800c\u4e14\u6211\u4eec\u5f97\u5230\u4e86\u7ec4\u7ec7\u5404\u4e2a\u5c42\u9762\u7684\u652f\u6301\u3002\u6211\u4eec\u51b3\u5b9a\u91cd\u5199\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u4fee\u590d\u8fc7\u53bb\u51e0\u5e74\u7684\u9519\u8bef\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u8ba9\u6211\u4eec\u660e\u663e\u5730\u63a8\u52a8\u4ea7\u54c1\u5411\u524d\u53d1\u5c55\u3002\n\u6211\u4eec\u57282019\u5e742\u6708\u5f00\u59cb\u91cd\u5199\uff0c\u6b64\u524d\u6211\u4eec\u89c4\u5212\u4e86\u9700\u8981\u5305\u62ec\u54ea\u4e9b\u529f\u80fd\u624d\u80fd\u4e0e\u73b0\u6709\u5e73\u53f0\u7684\u529f\u80fd\u76f8\u5f53\uff0c\u8fd9\u662f\u6211\u4eec\u5c3d\u804c\u8c03\u67e5\u5de5\u4f5c\u7684\u4e00\u90e8\u5206\uff0c\u4ee5\u786e\u4fdd\u8fd9\u662f\u6b63\u786e\u7684\u9053\u8def\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u975e\u5e38\u575a\u5b9e\u7684\u8ba1\u5212\uff0c\u7279\u522b\u662f\u56f4\u7ed5\u6211\u4eec\u6b63\u5728\u5efa\u8bbe\u7684\u4e1c\u897f\u3002\u5b83\u8fdd\u80cc\u4e86\u654f\u6377(\u6216\u8005\u662f\u654f\u6377\uff1f\ud83e\udd14)\u7684\u6559\u6761\uff0c\u4f46\u662f\u62e5\u6709\u4e00\u4e2a\u6211\u4eec\u613f\u610f\u80cc\u79bb\u7684\u8ba1\u5212\u6709\u52a9\u4e8e\u6307\u5f15\u6211\u4eec\u524d\u8fdb\u7684\u9053\u8def\uff0c\u770b\u770b\u6211\u4eec\u662f\u5426\u8d70\u4e0a\u4e86\u4e0d\u540c\u7684\u9053\u8def\u3002\u5f53\u6211\u4eec\u5bf9\u7528\u6237(\u5185\u90e8\u5ba2\u6237\uff0c\u6700\u540e\u662f\u4e00\u4e9b\u5916\u90e8\u5ba2\u6237)\u8fdb\u884c\u6d4b\u8bd5\u65f6\uff0c\u6211\u4eec\u786e\u5b9e\u51fa\u73b0\u4e86\u76f8\u5f53\u5927\u7684\u504f\u5dee\uff0c\u4f46\u7a0d\u540e\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u4e00\u70b9\u3002\n\u5728\u7ecf\u5386\u4e86\u4e00\u4e2a\u574e\u5777\u7684\u5f00\u59cb\u4e4b\u540e\uff0c\u6784\u5efa\u65b0\u7248\u672c\u7684\u5b9e\u9645\u8fc7\u7a0b\u76f8\u5f53\u987a\u5229\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u4eba\u6765\u8bf4\uff0c\u5207\u6362\u5230\u65b0\u7684\u6280\u672f\u5806\u6808\u90fd\u662f\u75db\u82e6\u7684\u3002\u867d\u7136\u6211\u4eec\u9009\u62e9Python\u4f5c\u4e3a\u6574\u4e2a\u56e2\u961f\u7684\u53ef\u8bbf\u95ee\u6027\uff0c\u4f46\u6211\u4eec\u4e2d\u4ecd\u6709\u4e00\u4e9b\u4eba\u9700\u8981\u5b66\u4e60\u5b83\u3002\u800c\u4e14\u6211\u4eec\u7684\u540e\u7aef\u6216\u5168\u6808\u5de5\u7a0b\u5e08\u4e00\u5f00\u59cb\u90fd\u4e0d\u8ba4\u8bc6Django(\u800c\u6211\u4eec\u7684\u9996\u5e2d\u524d\u7aef\u5de5\u7a0b\u5e08\u5bf9\u5b83\u975e\u5e38\u719f\u6089)\u3002\u540c\u6837\uff0c\u5728\u524d\u7aef\uff0c\u6211\u4eec\u4e2d\u7684\u8bb8\u591a\u4eba\u90fd\u77e5\u9053Reaction\uff0c\u4f46\u5f88\u5c11\u6709\u4eba\u5bf9Tyescript\u6709\u6df1\u523b\u7684\u7ecf\u9a8c\uff0c\u6211\u4eec\u4e5f\u9009\u62e9\u8fc1\u79fb\u5230Tyescript\u4e0a(\u8fd9\u91cc\u6709\u4e00\u4e9b\u6545\u4e8b\u53ef\u4ee5\u5728\u4e0b\u4e00\u6b21\u8bb2\u8ff0)\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u6211\u4eec\u6709\u4e86\u4e00\u4e9b\u6700\u521d\u7684\u5b66\u4e60\u65f6\u95f4\u4e4b\u540e\uff0c\u6211\u4eec\u5f88\u5feb\u5c31\u53d8\u5f97\u76f8\u5f53\u6709\u6210\u6548\uff0c\u6211\u4eec\u80fd\u591f\u4e00\u8d77\u5b66\u4e60\u3002\u8fd9\u662f\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u9a8c\u8bc1\uff1a\u5373\u4f7f\u5728\u8fd9\u4e2a\u65b0\u7684\u5806\u6808\u4e2d\u7ecf\u9a8c\u8f83\u5c11\uff0c\u6211\u4eec\u4e5f\u80fd\u591f\u66f4\u5feb\u5730\u6784\u5efa\u7279\u6027\u3002\u8981\u786e\u5b9a\u751f\u4ea7\u7387\u7684\u63d0\u9ad8\u6765\u81ea\u65b0\u7684\u5806\u6808\u548c\u65b0\u7684\u4ee3\u7801\u5e93\u9700\u8981\u66f4\u957f\u7684\u65f6\u95f4\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u7684\u7eff\u5730\u9879\u76ee\uff0c\u4f46\u6211\u4eec\u6700\u7ec8\u8fd8\u662f\u505a\u5230\u4e86\u3002\n\u6211\u4eec\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u4e4b\u4e00\u5c31\u662f\u8ba9\u6bcf\u4e2a\u4eba\u90fd\u63a5\u89e6\u5230\u6570\u636e\u5e93\u7aef\u3002\u7531\u4e8e\u6211\u4eec\u7684\u76ee\u6807\u4e4b\u4e00\u662f\u51cf\u5c11\u5b64\u5c9b\u5e76\u589e\u52a0\u6574\u4e2a\u5806\u6808\u4e2d\u5de5\u7a0b\u5e08\u7684\u8212\u9002\u5ea6\uff0c\u56e0\u6b64\u6211\u4eec\u6307\u5bfc\u4e00\u4e9b\u6ca1\u6709\u6570\u636e\u5e93\u8bbe\u8ba1\u7ecf\u9a8c\u7684\u524d\u7aef\u5f00\u53d1\u4eba\u5458\u5728\u65e9\u671f\u601d\u8003\u548c\u8bbe\u8ba1\u6211\u4eec\u9700\u8981\u7684\u5bf9\u8c61\u7684\u521d\u59cb\u6a21\u5f0f\u7684\u8fc7\u7a0b\uff0c\u7136\u540e\u6211\u4eec\u4e0e\u6574\u4e2a\u56e2\u961f\u8fdb\u884c\u8fed\u4ee3\u3002\u8fd9\u4f7f\u4ed6\u4eec\u80fd\u591f\u8003\u8651\u6570\u636e\u5e93\u65b9\u9762\u7684\u95ee\u9898\u3002\u5c3d\u7ba1\u4ed6\u4eec\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u8fd9\u6837\u505a\u4e86\uff0c\u4f46\u4ed6\u4eec\u6709\u80fd\u529b\u8fd9\u6837\u505a\uff0c\u5e76\u4e14\u53ef\u4ee5\u63d0\u51fa\u771f\u6b63\u5177\u6709\u6311\u6218\u6027\u7684\u95ee\u9898\u3002\n\u5728\u90a3\u4e4b\u540e\uff0c\u5b83\u51e0\u4e4e\u4ee5\u6211\u4eec\u51e0\u4e2a\u6708\u6765\u6700\u5feb\u7684\u53ef\u6301\u7eed\u901f\u5ea6\u8fd0\u884c\uff0c\u91cd\u5199\u4e86\u6211\u4eec\u5728\u65e7\u7248\u672c\u4e2d\u77e5\u9053\u548c\u559c\u6b22\u7684\u4e1c\u897f\uff0c\u5e76\u5728\u6211\u4eec\u8ba9\u5b83\u4eec\u66f4\u6613\u7528\u7684\u540c\u65f6\u5bf9\u5176\u8fdb\u884c\u4e86\u8c03\u6574\u3002\u6211\u4eec\u5728\u5408\u7406\u7684\u65f6\u95f4\u7ebf\u4e0a\u5efa\u9020\u4e86\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u9879\u76ee\u3002\u6211\u4eec\u4e00\u5f00\u59cb\u7684\u65e5\u7a0b\u5b89\u6392\u975e\u5e38\u4e50\u89c2\uff0c\u4e00\u76f4\u52306\u6708\u4efd\u5de6\u53f3\u6211\u4eec\u90fd\u5728\u6309\u90e8\u5c31\u73ed\u5730\u8fdb\u884c\u3002\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u6dfb\u52a0\u548c\u66f4\u6539\u4e86\u529f\u80fd\uff0c\u56e0\u4e3a\u6211\u4eec\u77e5\u9053\u6ca1\u6709\u5b83\u4eec\uff0c\u65b0\u7248\u672c\u5c31\u4e0d\u4f1a\u6210\u529f\u3002\u5b83\u62d6\u6162\u4e86\u6211\u4eec\u7684\u901f\u5ea6\uff0c\u4f46\u57fa\u4e8e\u6211\u4eec\u5185\u90e8\u7814\u7a76\u4eba\u5458\u3001\u5ba2\u6237\u6210\u529f\u56e2\u961f\u548c\u4e00\u4e9b\u503c\u5f97\u4fe1\u8d56\u7684\u5ba2\u6237\u7684\u771f\u5b9e\u53cd\u9988\uff0c\u8fd9\u662f\u5fc5\u8981\u7684\u3002\n\u5728\u6574\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u4e00\u4e9b\u6211\u6700\u5f15\u4ee5\u4e3a\u8c6a\u7684\u4e8b\u60c5\uff0c\u8fd9\u4e9b\u5e76\u4e0d\u90fd\u662f\u6280\u672f\u4e0a\u7684\u6210\u5c31\uff1a\n\u6211\u4eec\u620f\u5267\u6027\u5730\u58ee\u5927\u4e86\u56e2\u961f\u3002\u6211\u4eec\u6700\u521d\u67094\u540d\u4ea7\u54c1\u56e2\u961f\u5de5\u7a0b\u5e08\uff0c\u73b0\u5728\u662f9\u540d\uff0c\u8fd9\u8fd8\u4e0d\u5305\u62ec\u96c7\u4f63\u4e00\u4e2a\u5b8c\u6574\u7684QA/SDET\u56e2\u961f\uff0c\u4e3a\u6211\u4eec\u7684ML\u5de5\u7a0b\u56e2\u961f\u589e\u52a0\u4e00\u4e9b\u4eba\u5458\uff0c\u4ee5\u53ca\u96c7\u4f63DevOps\u5de5\u7a0b\u5e08\u3002\u5728\u8fd9\u79cd\u620f\u5267\u6027\u7684\u589e\u957f\u671f\u95f4\uff0c\u6211\u4eec\u4e0d\u4ec5\u907f\u514d\u4e86\u901a\u5e38\u7684\u9879\u76ee\u5ef6\u8bef\uff0c\u56e0\u4e3a\u589e\u52a0\u4e86\u4eba\u5458-\u4e0d\uff0c\u6211\u4eec\u52a0\u5feb\u4e86\u901f\u5ea6\u3002(\u6211\u8ba4\u4e3a\u8fd9\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u7eff\u5730\u9879\u76ee\u3002)\u3002\n\u6211\u4eec\u6539\u5584\u4e86\u6574\u4e2a\u516c\u53f8\u5bf9\u5de5\u7a0b\u7684\u770b\u6cd5\u3002\u5728\u53d1\u5e03\u65b0\u529f\u80fd\u7684\u901f\u5ea6\u7a0d\u5fae\u6162\u4e86\u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\uff0c\u4ed6\u4eec\u53d1\u73b0\u6211\u4eec\u81f3\u5c11\u53ef\u4ee5\u5feb\u901f\u91cd\u5199\u73b0\u6709\u7684\u4e1c\u897f\uff0c\u5e76\u770b\u5230\u65b0\u529f\u80fd\u4e5f\u5728\u5feb\u901f\u6dfb\u52a0\u3002\u6709\u4e00\u6b21\u6211\u4eec\u505a\u4e86\u4e00\u4e2a\u5f88\u9177\u7684\u6f14\u793a\uff0c\u5bf9Django\u7684Admin\u8fdb\u884c\u4e86\u73b0\u573a\u7f16\u7801\uff0c\u6f14\u793a\u4e86\u662f\u7684\uff0c\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u505a\u7684\u5f88\u591a\u4e8b\u60c5\u90fd\u6bd4\u4ee5\u524d\u5feb\u5f97\u591a\u3002\u8fd9\u662f\u4e00\u4e2a\u5c0f\u5c0f\u7684\u6f14\u793a\u5385\uff0c\u4f46\u5f88\u6709\u6548\u3002\n\u6211\u4eec\u4ece\u53ea\u6709\u51e0\u4e2a\u670d\u52a1\u7684\u9762\u5411\u670d\u52a1\u7684\u4f53\u7cfb\u7ed3\u6784\u8f6c\u53d8\u4e3a\u53ea\u4f9d\u8d56\u4e00\u4e2a\u670d\u52a1\u7684\u6574\u4f53\uff0c\u5e76\u4e14\u6211\u4eec\u4ece\u4e00\u5f00\u59cb\u5c31\u5f00\u59cb\u8bbe\u8ba1\u5bb9\u9519\u548c\u6c34\u5e73\u53ef\u4f38\u7f29\u6027\u3002\u8fd9\u5728\u4ee5\u524d\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u75db\u70b9\u3002\n\u6211\u4eec\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u8fed\u4ee3\u7684\u901f\u5ea6\uff0c\u8fd9\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u56e0\u4e3a\u6211\u4eec\u6709\u4e00\u4e2a\u65b0\u7684\u67b6\u6784\uff0c\u5b83\u9002\u5408\u6211\u4eec\u7684\u95ee\u9898\uff0c\u5e76\u4e14\u5728\u5806\u6808\u4e2d\uff0c\u6bcf\u4e2a\u4eba(\u73b0\u5728)\u90fd\u5f88\u4e50\u610f\u4e3a\u4e4b\u505a\u51fa\u8d21\u732e\u3002\u6700\u68d2\u7684\u662f\uff0cML\u56e2\u961f\u73b0\u5728\u53ef\u4ee5\u800c\u4e14\u786e\u5b9e\u5076\u5c14\u4f1a\u4e3a\u6211\u4eec\u7684\u5b9e\u9645\u751f\u4ea7\u540e\u7aef\u505a\u51fa\u8d21\u732e\u3002\n\u6211\u4eec\u76f8\u4fe1\u6211\u4eec\u6210\u529f\u7684\u539f\u56e0\u6709\u51e0\u4e2a\u3002\u6211\u4eec\u8fd8\u4e86\u89e3\u5230(\u56de\u8fc7\u5934\u6765\u770b)\u6211\u4eec\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u72af\u4e86\u4e00\u4e9b\u76f8\u5f53\u5927\u7684\u9519\u8bef\u3002\n\u6211\u4eec\u4e4b\u6240\u4ee5\u6210\u529f\uff0c\u662f\u56e0\u4e3a\u6211\u4eec\u4e00\u5f00\u59cb\u5c31\u5bf9\u6211\u4eec\u6b63\u5728\u6784\u5efa\u7684\u4e1c\u897f\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u613f\u666f(\u4e00\u4e2a\u771f\u6b63\u7684MVP\uff0c\u6211\u4eec\u77e5\u9053\u65e7\u4ea7\u54c1\u662f\u201c\u53ef\u884c\u7684\u201d\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u505a\u5230\u8fd9\u4e00\u70b9\u6216\u66f4\u5c11)\uff0c\u6211\u4eec\u6839\u636e\u9700\u8981\u7f29\u5c0f\u8303\u56f4\uff0c\u4ee5\u4fbf\u4fdd\u6301\u6e05\u6670\u7684\u76ee\u6807\u3002\u867d\u7136\u6211\u4eec\u6ca1\u6709\u201c\u6309\u65f6\u201d\u53d1\u8d27\uff0c\u4f46\u6ca1\u6709\u4eba\u53d1\u8d27\uff0c\u6211\u4eec\u4e5f\u6ca1\u6709\u7528\u7f51\u666f\u7684\u957f\u5ea6\u3002\u9879\u76ee\u7684\u603b\u6301\u7eed\u65f6\u95f4\u4e0d\u5230\u6211\u4eec\u9884\u8ba1\u7684\u4e24\u500d\uff0c\u5982\u679c\u6211\u4eec\u6784\u5efa\u4e00\u4e2a\u65e7\u4ea7\u54c1\u7684\u5b8c\u5168\u76f8\u540c\u7684\u526f\u672c(\u5c31\u529f\u80fd\u800c\u8a00)\uff0c\u4f46\u6211\u4eec\u6700\u7ec8\u5f97\u5230\u4e86\u4e00\u4e9b\u66f4\u597d\u7684\u4e1c\u897f\uff0c\u5e76\u4e14\u5177\u6709\u4e00\u4e9b\u65b0\u7684\u975e\u5e38\u9700\u8981\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u4e0a\u4f20\u548c\u53d1\u9001\u89c6\u9891\u7684\u80fd\u529b\uff0c\u4ee5\u53ca\u4e0b\u8f7d\u81ea\u52a8\u751f\u6210\u7684\u5bf9\u8bddPowerPoint\u62a5\u544a\u7684\u80fd\u529b\u3002\n\u6211\u4eec\u6210\u529f\u7684\u53e6\u4e00\u4e2a\u5173\u952e\u4e4b\u4e00\u662f\u53ca\u65e9\u5e76\u7ecf\u5e38\u83b7\u5f97\u53cd\u9988\u3002\u5728\u91cd\u5199\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u5728\u5185\u90e8\u4f7f\u7528\u8be5\u4ea7\u54c1\uff0c\u53d1\u73b0\u4e86\u4e25\u91cd\u7684\u9519\u8bef\u548c\u6027\u80fd\u95ee\u9898\u3002\u6211\u4eec\u8fd8\u5b9a\u671f\u4e3a\u6574\u4e2a\u516c\u53f8\u4e3e\u884c\u6f14\u793a\uff0c\u4ee5\u4fbf\u4ece\u5ba2\u6237\u6210\u529f\u3001\u9500\u552e\u3001\u7814\u7a76\u4ee5\u53ca\u6700\u7ec8\u4ece\u53ef\u4ee5\u5bb9\u5fcd\u5931\u8d25\u7684\u65e9\u671f\u91c7\u7528\u8005\u5ba2\u6237\u90a3\u91cc\u5feb\u901f\u83b7\u5f97\u53cd\u9988\u3002\n\u90a3\u4e48\uff0c\u6211\u4eec\u54ea\u91cc\u51fa\u4e86\u95ee\u9898\u5462\uff1f\u55ef\uff0c\u6211\u4eec\u51b3\u5b9a\u91c7\u7528\u4e24\u79cd\u6211\u4eec\u4ee5\u524d\u4e0d\u5e38\u4f7f\u7528\u7684\u6280\u672f\u3002\u6211\u4eec\u4ee5\u524d\u5728\u539f\u578b\u4e2d\u4f7f\u7528\u8fc7\u6253\u5b57\u7a3f\uff0c\u4f46\u6211\u4eec\u5728\u8fd9\u65b9\u9762\u6ca1\u6709\u5f88\u6df1\u7684\u4e13\u4e1a\u77e5\u8bc6\u3002\u5b83\u8fdb\u884c\u5f97\u4e0d\u9519\uff0c\u4f46\u6211\u4eec\u4ecd\u7136\u4e0d\u76f8\u4fe1\u751f\u4ea7\u7387\u66f4\u9ad8\uff0c\u7f3a\u9677\u7387\u66f4\u4f4e\uff1b\u65f6\u95f4\u4f1a\u8bc1\u660e\u4e00\u5207\uff0c\u6211\u8ba4\u4e3a\u9759\u6001\u6253\u5b57\u8fd8\u6ca1\u6709\u5b9a\u8bba(\u5982\u679c\u6709\u4eba\u5bf9\u6b64\u6709\u660e\u786e\u7684\u7814\u7a76\uff0c\u6211\u5e0c\u671b\u60a8\u80fd\u628a\u5b83\u4eec\u5bc4\u7ed9\u6211)\u3002\u53e6\u4e00\u4e2a\u9519\u8bef\u662f\u4f7f\u7528GraphQL\u3002\u6211\u4eec\u5bf9REST\u548cRedux\u6709\u76f8\u5f53\u9ad8\u7684\u7ecf\u9a8c\uff0c\u4f46\u6211\u4eec\u4ee5\u524d\u53ea\u5728\u539f\u578b\u4e2d\u4f7f\u7528\u8fc7GraphQL\u3002\u56de\u8fc7\u5934\u6765\u770b\uff0cGraphQL\u4f7f\u6700\u521d\u7684\u539f\u578b\u5f00\u53d1\u901f\u5ea6\u66f4\u5feb\uff0c\u4f46\u8981\u4ed8\u51fa\u957f\u671f\u7684\u4ee3\u4ef7\uff0c\u56e0\u4e3a\u5728Apollo\u4e2d\u6709\u4e00\u4e9b\u5173\u952e\u7684\u8bbe\u8ba1\u51b3\u7b56\u662f\u6211\u4eec\u4e0d\u540c\u610f\u7684(\u6bd4\u5982\u4e0d\u516c\u5f00\u5728\u524d\u7aef\u7684\u8ba2\u9605\u4e2d\u68c0\u6d4b\u65ad\u5f00/\u91cd\u65b0\u8fde\u63a5\u7684\u80fd\u529b)\uff0c\u5e76\u4e14\u6211\u4eec\u5728\u540e\u7aef\u5bf9\u5176\u8fdb\u884c\u6027\u80fd\u8c03\u4f18\u7684\u7ecf\u9a8c\u662f\u2026\u3002\u8fd9\u4e48\u8bf4\u5427\uff0c\u8fd9\u662f\u6211\u751f\u547d\u4e2d\u6781\u5177\u6311\u6218\u6027\u7684\u4e00\u4e24\u4e2a\u6708\uff0c\u6211\u518d\u4e5f\u56de\u4e0d\u6765\u4e86\u3002\u6211\u4eec\u73b0\u5728\u6b63\u5904\u4e8e\u6446\u8131GraphQL\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u4e8e\u6027\u80fd\u5173\u952e\u578b\u7684\u5e94\u7528\uff0c\u5feb\u901f\u8fc1\u79fb\uff0c\u800c\u5bf9\u4e8e\u66f4\u80fd\u5bb9\u5fcd\u6162\u8bf7\u6c42\u7684\u5e94\u7528\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u6211\u4eec\u5c06\u7f13\u6162\u5730\u8fc1\u79fbGraphQL\u3002\n\u6700\u540e\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u91cd\u5199\u65f6\uff0c\u60a8\u7684\u56e2\u961f\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u58eb\u6c14\u4e5f\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u60a8\u5fc5\u987b\u79ef\u6781\u5e94\u5bf9\u8fd9\u4e00\u70b9\u3002\u4e00\u5f00\u59cb\u5f00\u59cb\u4e00\u4e2a\u65b0\u9879\u76ee\u662f\u76f8\u5f53\u4ee4\u4eba\u5174\u594b\u7684\uff0c\u4f46\u63a5\u4e0b\u6765\u7684\u5de5\u4f5c\u662f\u6784\u5efa\u6211\u4eec\u5df2\u7ecf\u62e5\u6709\u7684\u529f\u80fd\u548c\u4fee\u590d\u9519\u8bef\u3002\u8fc7\u4e00\u6bb5\u65f6\u95f4\u5b83\u5c31\u4f1a\u53d8\u8584\u4e86\u3002\u770b\u5230\u6211\u7684\u56e2\u961f\u5728\u4ece\u6784\u5efa\u6211\u4eec\u5fc5\u987b\u6784\u5efa\u7684\u4e1c\u897f\u8f6c\u79fb\u5230\u63a2\u7d22\u65b0\u529f\u80fd\u65f6\u6709\u591a\u4e48\u6d3b\u8dc3\uff0c\u8fd9\u662f\u76f8\u5f53\u4ee4\u4eba\u60ca\u8bb6\u7684\uff0c\u8fd9\u8ba9\u6211\u610f\u8bc6\u5230\u91cd\u5efa\u53ef\u80fd\u771f\u7684\u4f1a\u8ba9\u4eba\u7cbe\u75b2\u529b\u7aed\u3002\u6211\u4eec\u6210\u529f\u5730\u5b8c\u6210\u4e86\u91cd\u5efa\uff0c\u90e8\u5206\u539f\u56e0\u662f\u6211\u4eec\u5e73\u8861\u4e86\u5bf9\u65b0\u529f\u80fd\u7684\u4e00\u4e9b\u63a2\u7d22(\u6bd5\u7adf\uff0c\u6211\u4eec\u91cd\u5efa\u8fd9\u4e2a\u529f\u80fd\u662f\u6709\u539f\u56e0\u7684)\uff0c\u800c\u53ea\u662f\u5c06\u6211\u4eec\u7684\u65e7\u4ee3\u7801\u76f4\u63a5\u79fb\u690d\u5230\u65b0\u5e73\u53f0\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u7edd\u5bf9\u53ef\u4ee5\u66f4\u597d\u5730\u5e73\u8861\u8fd9\u4e00\u70b9\u3002\u4e0b\u4e00\u6b21\uff0c\u6211\u5c06\u91cd\u70b9\u786e\u4fdd\u6211\u4eec\u6709\u4e00\u4e2a\u65e9\u671f\u7684\u963f\u5c14\u6cd5\u6d4b\u8bd5\u8ba1\u5212\uff0c\u6709\u51e0\u4e2a\u503c\u5f97\u4fe1\u8d56\u7684\u5ba2\u6237\uff0c\u4ee5\u83b7\u5f97\u5b9a\u671f\u7684\u53cd\u9988\u548c\u9f13\u52b1\uff0c\u5e76\u4fdd\u6301\u6bcf\u4e2a\u4eba\u5bf9\u91cd\u5efa\u7684\u5174\u594b\u3002\u6211\u4e5f\u4f1a\u786e\u4fdd\u6211\u4eec\u5728\u65e9\u671f\u52a0\u5165\u4e86\u5927\u91cf\u7684\u65b0\u529f\u80fd\uff0c\u800c\u4e0d\u662f\u4e00\u65e6\u6211\u4eec\u53d1\u73b0\u6bcf\u4e2a\u4eba\u90fd\u6709\u70b9\u7d2f\u4e86\u5c31\u5f00\u59cb\u5de5\u4f5c\u3002\u6709\u4e9b\u5355\u8c03\u662f\u4e0d\u53ef\u907f\u514d\u7684\uff0c\u4f46\u4f60\u53ef\u4ee5\u51cf\u8f7b\u5b83\u3002\n\u6839\u636e\u6211\u5728\u8fd9\u91cc\u7684\u7ecf\u9a8c\uff0c\u4f60\u53ef\u80fd\u662f\u2026\u3002\u4e0d\u5e94\u8be5\uff0c\u5982\u679c\u4f60\u76f8\u4fe1\u6539\u5199\u4ece\u6765\u90fd\u4e0d\u662f\u6b63\u786e\u7684\u51b3\u5b9a\u7684\u7092\u4f5c\u3002\u65e0\u8bba\u5982\u4f55\uff0c\u4f60\u5e94\u8be5\u9ed8\u8ba4\u201c\u4e0d\u201d\u7684\u7acb\u573a\uff0c\u7136\u540e\u5728\u5fc5\u8981\u7684\u65f6\u5019\u975e\u5e38\u975e\u5e38\u52aa\u529b\u5730\u8bc1\u660e\u5b83\u662f\u5408\u7406\u7684\u3002\n\u5982\u679c\u60a8\u7684\u4f53\u7cfb\u7ed3\u6784\u6216\u6a21\u5f0f\u4e0e\u60a8\u7684\u9700\u8981\u4e25\u91cd\u8131\u8282\uff0c\u5e76\u4e14\u6ca1\u6709\u660e\u786e\u7684\u8fc1\u79fb\u8def\u5f84\uff0c\u56e0\u4e3a\u589e\u91cf\u66f4\u65b0\u4f53\u7cfb\u7ed3\u6784\u6216\u6a21\u5f0f\u5c06\u975e\u5e38\u56f0\u96be\u3002\n\u5982\u679c\u60a8\u5f53\u524d\u7684\u6280\u672f\u5806\u6808\u9650\u5236\u4e86\u8bb8\u591a\u5de5\u7a0b\u5e08\u7684\u8d21\u732e\uff0c\u5e76\u4e14\u5728\u6280\u672f\u5806\u6808\u4e2d\u5bf9\u4ed6\u4eec\u8fdb\u884c\u57f9\u8bad\u4e0d\u662f\u4e00\u79cd\u9009\u62e9\u3002\n\u5373\u4f7f\u4f60\u505a\u5230\u4e86\u6240\u6709\u8fd9\u4e9b\uff0c\u4f60\u4e5f\u5fc5\u987b\u8003\u8651\u5546\u4e1a\u73b0\u5b9e\uff0c\u4ee5\u53ca\u8fd9\u5bf9\u4f60\u7684\u516c\u53f8\u3001\u4f60\u7684\u56e2\u961f\u662f\u5426\u6709\u610f\u4e49\u3002\n\u53ef\u80fd\u6709\u66f4\u591a\u7684\u573a\u666f\u53ef\u4ee5\u8bc1\u660e\u91cd\u5199\u662f\u5408\u7406\u7684\u3002\u8bc1\u660e\u5b83\u662f\u6b63\u786e\u7684\u662f\u56f0\u96be\u7684\uff0c\u4f46\u5b83\u662f\u503c\u5f97\u7684\uff0c\u5b83\u53ef\u4ee5\u6210\u529f\u5730\u5b9e\u73b0\u3002", "note_en": "There\u2019s a famous blog post by Joel Spolsky where he asserts that you should  never rewrite a codebase from scratch. He cites the example of Netscape, where they spent years rewriting their software and their company ultimately died in the process. A little over a year ago, I reread that post, and I still lent my vote to rewriting our application  from scratch. In its entirety. Here\u2019s why we did that, how we were successful, and some heuristics on whether or not you should do the same.\n Our story starts in January 2019. Remesh was a much smaller company then. We had recently hired a few engineers and we had 5 engineers focused on the product, and a handful of engineers focused on machine learning (ML) or DevOps. Despite recently hiring these engineers, our velocity was still painfully low. Simple features took a long time to add. We had a lot of bugs in the product that we simply acknowledged as \u201cknown\u201d and did not fix. And the product as a whole looked like it had not changed significantly in a while.\n It\u2019s important to understand why we had those problems. We hypothesized (and after the rewrite, validated) that the problem was not our people: we had hired great engineers. The problems were largely our codebase and our process. The legacy codebase we were working in was ill-suited to both the skillset of our team and to the problems we were solving, and our process encouraged and relied on siloed knowledge: there was no \u201cfull-stack\u201d at Remesh.\n  Our legacy application was originally designed for something very different from what it\u2019s used for now. Originally, Remesh let users hold two-way conversations between either entire groups or an individual and a group. For example, you could have Democrats and Republicans each talk to each other to understand each other and find common ground. Or, you could have the mayor of a town talk to their citizens to better understand what they needed, believed, and wanted. However, as we found product-market fit, the use-case changed. We leaned into a singular moderator talking to a group of people.\n As a consequence of this change, certain old design decisions no longer made sense, and the schema needed major changes. Beyond the database issues, our codebase itself was pretty hard to understand because features had been bolted on without much major refactoring. We had very poor test coverage in the areas most in need of refactoring because they were the oldest code, written before we established good test practices.\n Beyond all that, the languages and frameworks were were using did not work for our team. The backend codebase was written in Elixir, which few of our developers knew very well. One of the frontend codebases was written in an abysmally old version of Angular (I don\u2019t want to go check what it is, I might cry), and we had  two other frontends which were in React. Few of our engineers were comfortable in one, let alone all three. The languages and frameworks in use did not suit our team or our problem, and this slowed us down quite a bit.\n  At that point, we knew that our codebase needed a major change. There are really three options when you\u2019re left with a pile of code in front of you that\u2019s hard to work with:\n  For the frontend, refactoring was not really an option. Our version of Angular was old enough that, unfortunately, we did not really have any clear upgrade path to a modern version of Angular (and we didn\u2019t  want to be on  any version of Angular, frankly). And since we anticipated major changes to the UI and the API, a refactor would not be feasible. So on the frontend, we were left either rewriting it in one fell swoop, or rewriting it piecemeal.\n The backend had a few problems we wanted to solve \u2014 our schema, language, and codebase did not fit the problem we were solving anymore. We used Elixir for its massive concurrency support, but we never ended up needing this and it only bit us: the way concurrency is handled in the Erlang VM made profiling very difficult, because you know what is being computed but not where it\u2019s being called  from \u2014 good luck with performance tuning. The Elixir codebase also limited how much our ML engineers could contribute to the backend codebase: they worked in Python every day and did not have the time to dive deep into Elixir. Long story short, we wanted to move off of Elixir and move onto Python because then our entire team could contribute, the language would support the problems, and we would have an easier time profiling the code.\n We also had some \u201cproduct debt\u201d where we had introduced concepts to existing customers that they learned and grew attached to but which might not be ideal in the end. They\u2019re local extrema. If we were going to break out of that local max and make something much better, we might have to do it with one big leap, where smaller iterations could meet pushback from users. Removing those concepts in required doing many things all at once.\n At the end of the day, our case for rewriting really boiled down to this confluence of factors:\n We wanted every member of our team to be able to contribute to the backend codebase, and Python fit the bill for being both easy to learn as well as having wide adoption already within our team.\n Our old codebase was so brittle and low on tests that refactoring it would be an arduous process.\n We could gain efficiency by moving to a strongly opinionated framework like Django, with lots of time-saving defaults as well (like Django Admin).\n We would have the opportunity to make a completely new version influenced by what we learned from customers and could then manage the transition to the new version rather than fighting a battle for 12 months with lots of customers on every change. This also made training our customer success team and sales teams a one-time batch effort at the end, rather than a continuous reintroduction of new concepts.\n To get to this decision, we did pretty extensive planning. We can talk about agile this and lean that all day, but this was one case to actually do a waterfall style plan \u2014 not because we were going to implement it waterfall style, but to figure out what the level of effort would be for each of these options. It became pretty apparent pretty quickly that rewriting the application wholesale would take time, but that refactoring it or piecemeal rewriting it would take  much longer, it had much,  much higher uncertainty around it. If we went the refactoring route, we would be risking far more.\n At the end of this, we were pretty confident in our decision, and we had buy-in from all levels of the organization. We were set on rewriting, because it would let us fix mistakes from years in the past, and it would let us demonstrably move the product forward at the same time.\n   We started the rewrite in February, 2019, after planning out what features we would need to include for feature parity with the existing platform as part of a due diligence effort to make sure this  was the right path. So we had a really solid plan around specifically what we were building. It goes against the dogma of agile (or is it Agile? \ud83e\udd14) but having a plan that we were willing to deviate from helped guide us along the way and see if we were on track of not. We did end up deviating quite a bit as we tested with users (internal and then eventually some external customers) but more on that later.\n The actual process of building the new version was pretty smooth after a bumpy start. It was painful for everyone switching into a new tech stack. While we picked Python for full-team accessibility, there were still those among us who needed to learn it. And none of our backend or fullstack engineers knew Django at the outset (while our lead frontend engineer had deep familiarity with it). Similarly on the frontend, many of us knew React but few of us had deep experience with TypeScript, which we also chose to migrate to (this has some stories for another time). That said, after we had some initial learning time, we all got pretty productive pretty quickly and we were able to learn together. That was our first bit of validation:  even with less experience in this new stack, we were able to build features far more quickly. It would take longer to be sure that the productivity gains were from the new stack and new codebase, rather than this simply being a greenfield project, but we got there eventually.\n One of the first things we did was get everyone exposed to the database side. Since one of our goals was to reduce siloing and increase our engineers\u2019 comfort across the whole stack, we guided some of our frontend developers who had little experience with database design through the process of thinking about and designing an initial schema for the objects we\u2019d need early on, which we then iterated on with the whole team. This empowered them to think about the database side. Even though they hadn\u2019t been doing this for a while, they were capable of it and could ask really challenging questions.\n After that, it was pretty much running at our fastest  sustainable pace for months, rewriting things we knew and loved in the old version, and tweaking things as we went to make them more usable. We built a really good project on a  reasonable timeline. We were on a very optimistic schedule at the beginning, which we were on track for up until about June. At that point, we added and changed features, because we knew the new version wouldn\u2019t be successful without them. It slowed us down, but it was necessary based on real feedback from our internal researchers, customer success team, and a few trusted clients.\n Throughout this, we achieved some of the things I\u2019m most proud of, which are not all technical achievements:\n We grew the team dramatically. We started with 4 product team engineers and we are now at 9, which doesn\u2019t even include hiring a full QA/SDET team, staffing up our ML engineering team a bit, and hiring DevOps engineers. And during that dramatic growth, we didn\u2019t just avoid the usual project delays from adding people \u2014 no, we  sped up. (I think this is largely because it was a greenfield project.)\n We improved how engineering was perceived throughout the company. After a while of being a little slow on shipping new features, they saw that we could at the very least rewrite existing things quickly and saw new features getting added quickly as well. We did a cool demo one time where we live-coded an addition to Django\u2019s Admin to demonstrate that yes, there are a lot of things we can do now that are much faster than before. It was a little demo theater, but it was effective.\n We moved from a service-oriented architecture with a few services to a monolith with just one service it relies on, and we got to design for fault tolerance and horizontal scalability from the outset. This was a big pain point before.\n We improved the speed of iteration dramatically, in large part by having a fresh architecture that fits our problem and is in a stack that everyone is (now) pretty comfortable contributing to. Best of all, the ML team now can and does occasionally contribute to our actual production backend.\n  We believe we were successful for a few reasons. And we also learned (in retrospect) that we made some pretty big mistakes in the process.\n We were successful because we started with a clear vision of what we were building (a true MVP, where we knew the old product was \u201cviable\u201d, so we had to get to that or  less), and we cut scope as we needed in order to stay with a clear end in sight. While we didn\u2019t ship \u201con time\u201d, no one does, we didn\u2019t go to Netscape lengths with it. The total project duration was less than twice the time we projected it would take if we built an  exact copy (in terms of features) of the old product, but we ended up with something that was much better and had some new much-desired features, like the ability to upload and send videos and the ability to download an automatically generated PowerPoint report of your conversation.\n One of the other keys for our success was getting feedback early and often. During the rewrite, we used the product internally very often, discovering critical bugs and performance issues. We also held regular demos for the whole company to get feedback quickly from customer success, sales, research, and eventually from early adopter customers who could tolerate failures.\n So, where did we go wrong? Well, we decided to lean into two technologies that we hadn\u2019t used much before. We\u2019d used TypeScript in a prototype previously, but we didn\u2019t have deep expertise on it. It went okay, but we\u2019re still not convinced that productivity is higher and the rate of defects is lower; time will tell, and I think the jury is still out on static typing (if anyone has definitive studies on this, I\u2019d love if you sent them to me). The other mistake was using GraphQL. We had pretty high levels of experience with REST and Redux, but we had only used GraphQL in a prototype before. In retrospect, GraphQL made the initial prototyping much faster, but at long-term expense, because there are some critical design decisions in Apollo that we don\u2019t agree with (such as not exposing the ability to detect disconnects/reconnects in subscriptions on the frontend) and our experience of performance tuning it on the backend was\u2026 let\u2019s just say it was a challenging month or two of my life that I\u2019ll never get back. We are now in the process of moving off GraphQL, quickly for performance-critical things and slowly over time for things that are more tolerant to slow requests.\n The last thing to note is that in a rewrite, your team will suffer and morale will suffer, and you have to actively deal with that. It\u2019s pretty exciting at first to start a new project, but then the rest of it is building features we  already had and fixing bugs. It wears thin after a while. It was pretty amazing to see how animated my team was once we moved from building exactly what we had to exploring new features, and it made me realize how draining a rebuild can really be. We made it through the rebuild, and part of that was that we balanced some exploration of new features (we were rebuilding this for a reason, after all) with just directly porting our old code to the new platform. That said, we definitely could have balanced this better. Next time, I would focus on making sure we had an earlier alpha-testing program with several trusted customers to get regular feedback and encouragement and keep everyone excited about the rebuild. I would also make sure that we mixed in a good amount of new features early on, rather than working them in once we noticed everyone was getting a little tired. Some monotony is unavoidable, but you can mitigate it.\n  Based on my experience here, you probably\u2026 shouldn\u2019t, if you buy the hype that rewriting is never the right decision. At any rate, you should default to the \u201cno\u201d position and then work very very hard to justify it if it\u2019s necessary.\n  If your architecture or schema are severely out of alignment with what you need and there\u2019s no clear migration path because incrementally updating the architecture or schemas would be exceedingly difficult\n  If your current tech stack is limiting a lot of your engineers from contributing, and training them in the tech stack isn\u2019t an option\n Even if you hit all these, you have to consider business realities and whether it makes sense for your company, your team.\n There might be more scenarios where a rewrite is justified. Justifying it is hard, but it can be worth it, and it can be pulled off successfully.", "posttime": "2020-06-03 01:50:00", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u91cd\u6784,refactor,\u91cd\u5199", "title": "\u91cd\u6784\u4e0e\u91cd\u5199", "title_en": "Refactor vs. Rewrite", "transed": 1, "url": "https://remesh.blog/refactor-vs-rewrite-7b260e80277a", "via": "", "real_tags": ["\u91cd\u6784", "refactor", "\u91cd\u5199"]}, {"category": "", "categoryclass": "", "imagename": "6d27e53aedbbc7a8f6bd2e4dfa8da582.jpg", "infoid": 1004865, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u521b\u5efaXbox\u673a\u5668\u4eba\u624b\u81c2\u662f\u6211\u770b\u5230Kevin Drouglzet\u7684\u5e16\u5b50\u540e\u4e00\u76f4\u60f3\u505a\u7684\u4e8b\u60c5\uff0c\u4ed6\u80fd\u591f\u4f7f\u7528Xbox\u63a7\u5236\u5668\u548c\u4ed6\u81ea\u5df1\u521b\u5efa\u7684\u624b\u81c2\uff0c\u5e76\u4e14\u975e\u5e38\u53cb\u597d\u5730\u53d1\u5e03\u4e86Xbox\u673a\u5668\u4eba\u624b\u81c2\u7684\u8bbe\u8ba1\u6587\u4ef6(\u6211\u7edd\u5bf9\u4e0d\u662f\u786c\u4ef6\u8bbe\u8ba1\u5e08\ud83d\ude05)-\u8c22\u8c22\u51ef\u6587\uff01\n\u6211\u60f3\u8fd9\u6837\u505a\u7684\u53e6\u4e00\u4e2a\u539f\u56e0\u662f\u5e0c\u671b\u5728\u5f3a\u5316\u5b66\u4e60\u9886\u57df\u6709\u66f4\u591a\u7684\u5b9e\u8df5\u77e5\u8bc6\u548c\u5b9e\u8df5\u7ecf\u9a8c\u3002\u56e0\u4e3a\u6709\u4e86\u8fd9\u4e2a\u673a\u5668\u4eba\u624b\u81c2\uff0c\u6211\u770b\u5230\u4e86\u5b66\u4e60\u7269\u7406\u52a8\u4f5c\u63a7\u5236\u7684\u6f5c\u529b\uff0c\u8fd9\u5c06\u8f6c\u5316\u4e3a\u865a\u62df\u7684\u4e16\u754c\u53d8\u5316\uff0c\u6253\u5f00\u4e86\u4f7f\u7528\u6848\u4f8b\u7684\u53ef\u80fd\u6027\u9886\u57df\u3002\n\u4e3a\u4e86\u8ba9\u8fd9\u7bc7\u6587\u7ae0\u66f4\u5bb9\u6613\u7406\u89e3\uff0c\u6211\u51b3\u5b9a\u5bf9\u591a\u7bc7\u6587\u7ae0\u8fdb\u884c\u6df1\u5165\u62a5\u9053\u3002\u5728\u7b2c\u4e00\u90e8\u5206\u4e2d\uff0c\u6211\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u4e2a\u673a\u68b0\u81c2\u5ef6\u4f38\u90e8\u5206\u662f\u5982\u4f55\u6784\u5efa\u7684\uff0c\u4ee5\u53ca\u5f53\u60a8\u4f7f\u7528\u5de6\u4fa7\u62c7\u6307\u6746\u79fb\u52a8\u65f6\uff0c\u5982\u4f55\u4f7f\u673a\u68b0\u81c2\u63a7\u5236\u53f3\u4fa7\u7684\u7ba1\u6746\u3002\u800c\u5728\u7b2c\u4e8c\u90e8\u5206\u4e2d\uff0c\u6211\u5c06\u66f4\u6df1\u5165\u5730\u8bb2\u8ff0\u6211\u4eec\u5982\u4f55\u80fd\u591f\u5229\u7528\u7edf\u4e00\u73af\u5883\uff0c\u5e76\u8bad\u7ec3\u5b83\u6700\u7ec8\u7531\u673a\u68b0\u81c2\u63a7\u5236\u3002\n\u6ce8\u610f\uff1a\u770b\u5230Kevin\u5728\u4ed6\u7684\u5e16\u5b50\u4e2d\u5f88\u597d\u5730\u89e3\u91ca\u4e86\u7a0b\u5e8f\u96c6\uff0c\u6211\u51b3\u5b9a\u7f29\u77ed\u8fd9\u4e00\u90e8\u5206\uff0c\u5728\u672c\u8282\u4e4b\u540e\u5c06\u66f4\u591a\u7684\u91cd\u70b9\u653e\u5728\u8f6f\u4ef6\u4e0a\u3002\n\u8ba9\u6211\u4eec\u4ece\u8fd9\u4e2a\u6784\u5efa\u6240\u9700\u7684\u90e8\u5206\u5f00\u59cb\u3002\u6211\u603b\u5171\u4e3a\u8fd9\u4e2a\u7248\u672c\u652f\u4ed8\u4e86\u5927\u7ea675.00\u7f8e\u5143(\u6ca1\u6709Xbox\u63a7\u5236\u5668\u7684\u8bdd\u662f20.00\u7f8e\u5143)\u3002\n\u5bf9\u4e8e\u6253\u5370\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u63d0\u4f9b\u7684STL\u6587\u4ef6\u5e76\u5c06\u5176\u52a0\u8f7d\u5230\u6211\u4eec\u76843D\u6253\u5370\u8f6f\u4ef6\u4e2d\u3002\n\u6ce8\uff1a\u6b64\u4e3a\u767d\u8272\u91cd\u5370\uff0c\u7528\u4e8e\u4e2a\u4eba\u9020\u578b\u3002\u6211\u8981\u5411\u6211\u7684\u540c\u4e8b\u8fed\u6208\u00b7\u7279\u91cc\u5947\u4e9a\u96f7\u5229\u548c\u5361\u91cc\u59c6\u00b7\u74e6\u65af\u5927\u58f0\u558a\u4e00\u58f0\uff0c\u611f\u8c22\u4ed6\u4eec\u5e2e\u6211\u6253\u5370\uff01\n\u6253\u5370\u5b8c\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u6240\u6709\u8fd9\u4e9b\u7ec4\u88c5\u5728\u4e00\u8d77\uff0c\u8fd9\u5f88\u7b80\u5355\uff0c\u51ef\u6587\u89e3\u91ca\u5f97\u5f88\u597d\u3002\n\u73b0\u5728\u6211\u4eec\u7684\u786c\u4ef6\u5df2\u7ecf\u7ec4\u88c5\u597d\u4e86\uff0c\u6211\u4eec\u51c6\u5907\u5f00\u59cb\u5728\u8fd9\u4e2a\u7f8e\u666f\u4e0a\u5b89\u88c5\u8f6f\u4ef6\u4e86\uff01\n\u6211\u4eec\u60f3\u8981\u901a\u8fc7\u5229\u7528\u5de6\u624b\u6307\u6746\u7684\u8f93\u5165\u6765\u5b9e\u73b0\u673a\u68b0\u81c2\u7684\u79fb\u52a8\uff0c\u5b83\u4f1a\u5c06\u6570\u636e\u53d1\u9001\u5230\u6211\u4eec\u7684\u8ba1\u7b97\u673a\uff0c\u800c\u8ba1\u7b97\u673a\u53c8\u4f1a\u5c06\u6570\u636e\u53d1\u9001\u56de\u63a7\u5236\u7535\u673a\u7684Arduino\u3002\n\u5728\u4e0b\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u628a\u91c7\u53d6\u884c\u52a8\u7684\u884c\u52a8\u903b\u8f91\u653e\u5728Arduino\u4e0a\uff0c\u5b83\u5c06\u6839\u636e\u4ece\u89c2\u5bdf\u72b6\u6001\u6536\u5230\u7684\u8f93\u5165\u6765\u51b3\u5b9a\u91c7\u53d6\u54ea\u4e2a\u884c\u52a8\u3002\n\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u8fde\u63a5Xbox\u63a7\u5236\u5668\u5e76\u5f00\u59cb\u4ece\u5b83\u63a5\u6536\u6570\u636e\u3002\u8fd9\u5728Windows\u4e0a\u672c\u8eab\u5e76\u4e0d\u662f\u4e00\u4ef6\u5bb9\u6613\u7684\u4efb\u52a1\uff0c\u56e0\u4e3a\u5f88\u96be\u627e\u5230\u5141\u8bb8\u6211\u4eec\u8fd9\u6837\u505a\u7684\u6700\u65b0\u5e93\u3002\u8fd9\u5c31\u662f\u6211\u51b3\u5b9a\u4f7f\u7528\u6d4f\u89c8\u5668API\u7684\u539f\u56e0\uff0c\u60a8\u53ef\u4ee5\u5728\u65e9\u5148\u7684\u4e00\u7bc7\u535a\u5ba2\u6587\u7ae0\u4e2d\u627e\u5230\uff1a\u901a\u8fc7Node.js\u83b7\u53d6Xbox\u63a7\u5236\u5668\u8f93\u5165\u3002\n\u5f53\u6211\u4eec\u5173\u6ce8\u8fd9\u7bc7\u6587\u7ae0\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u8bfb\u53d6\u62c7\u6307\u68d2\u503c\uff0c\u5e76\u5c06\u5b83\u4eec\u5206\u522b\u653e\u5165UP_DOWN\u548cLEFT_RIGHT\u53d8\u91cf\u4e2d\u3002\nconst GameController=Required(&#39\uff1b./GameController&#39\uff1b)\uff1b(Async()=&gt\uff1b{const gameController=new(100)\uff1b//100ms\u8f6e\u8be2\u95f4\u9694\u7b49\u5f85GameController\u3002init()\uff1bgameController\u3002\u5728(&#39\uff1b\u6309\u94ae&#39\uff1b\uff0c(Btn)=&gt\uff1b\u63a7\u5236\u53f0\u4e0a\u3002log(`Button\uff1a${btn}\u6309\u4e0b`))gameController\u3002\u5728(&#39\uff1b\u62c7\u6307\u68d2&#39\uff1b\uff0cAsync(Val)=&gt\uff1b{let valParsed=JSON.\u3002parse(Val)\uff1blet up_down=valParsed[1]\uff1blet Left_right=valParsed[0]\uff1bConsole\u3002log(`up_down\uff1a${valParsed[1]}|LEFT_RIGHT\uff1a${valParsed[0]}`)\uff1b})})()\uff1b\n\u5728\u5f00\u59cb\u4ea4\u6362\u6570\u636e\u548c\u7f16\u7a0bArduino\u4e4b\u524d\uff0c\u6211\u4eec\u5fc5\u987b\u505a\u7684\u53e6\u4e00\u4ef6\u4e8b\u662f\u8fde\u63a5Node.js\uff0c\u4ee5\u4fbf\u5b83\u80fd\u591f\u4ea4\u6362\u6570\u636e\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u540d\u4e3aSerialport\u7684\u4f18\u79c0\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7NPM install seralport\u5b89\u88c5\u5b83\u3002\n\u4e00\u65e6\u5b89\u88c5\u5b8c\u6210\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u6211\u4eec\u60f3\u8981\u7684\u914d\u7f6e\u5b9e\u4f8b\u5316\u5bf9\u8c61\u6765\u6253\u5f00\u8fde\u63a5Arduino\u7684COM\u7aef\u53e3\u3002\u7136\u540e\uff0c\u4e3a\u4e86\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\uff0c\u6211\u4eec\u7b49\u5f85\u4e00\u4e2a\u6253\u5f00\u4e8b\u4ef6\uff0c\u4e4b\u540e\u6211\u4eec\u53ef\u4ee5\u5229\u7528port.write(Data)\u547d\u4ee4\uff0c\u5e76\u4e14\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4fa6\u542cData\u4e8b\u4ef6\u6765\u63a5\u6536\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8be5\u4e8b\u4ef6\u8bb0\u5f55\u5230\u63a7\u5236\u53f0\u3002\n\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u63a5\u6536\u7684\u662f\u5b57\u8282\uff0c\u56e0\u6b64\u5fc5\u987b\u5c06\u5176\u8f6c\u6362\u4e3a\u901a\u8fc7ab2str\u51fd\u6570\u5b9e\u73b0\u7684\u5b57\u7b26\u4e32\u3002\nConst SerialPort=Required(&#39\uff1bSerialPort&#39\uff1b)\uff1bConst GameController=Required(&#39\uff1b./GameController&#39\uff1b)\uff1bConst Port=NEW(&#39\uff1bCOM6&#39\uff1b\uff0c{baudRate\uff1a38400\uff0cParity\uff1a&#39\uff1bNone&#39\uff1b\uff0cstopBits\uff1a1\uff0cFlowControl\uff1aFalse})\uff1b\u51fd\u6570ab2str(Buf){\u8fd4\u56de\u5b57\u7b26\u4e32\u3002FromCharCode\u3002Apply(null\uff0cnew(Buf))\uff1b}\u7aef\u53e3\u3002\u5728(&#39\uff1b\u6253\u5f00&#39\uff1b\uff0c\u5f02\u6b65()=&gt\uff1b{\u63a7\u5236\u53f0\u3002log(&#34\uff1b\u7aef\u53e3\u6253\u5f00\uff0c\u7b49\u5f85\u91cd\u7f6e&#34\uff1b)\uff1b//Arduino\u5728\u83b7\u5f97\u4e32\u884c\u8fde\u63a5\u65f6\u81ea\u52a8\u91cd\u7f6e//\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u53d1\u9001setTimeout(async()=&gt\uff1b{console.\u3002\u65e5\u5fd7(&#34\uff1b\u91cd\u7f6e\u5b8c\u6210&#34\uff1b)\uff1b}\uff0c3000)\uff1b})\uff1b\u7aef\u53e3\u3002\u5728(&#39\uff1b\u6570\u636e&#39\uff1b\uff0c(\u6570\u636e)=&gt\uff1b\u63a7\u5236\u53f0\u4e0a\u3002log(ab2str(Data))\uff1b\n\u5728\u6211\u4eec\u5f00\u59cb\u5bf9Arduino\u8fdb\u884c\u7f16\u7a0b\u4e4b\u524d\uff0c\u6211\u4eec\u5fc5\u987b\u51b3\u5b9a\u5982\u4f55\u4ea4\u6362\u6570\u636e\uff0c\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u4e32\u884c\u8fde\u63a5\u3002\n\u6765\u81eaXbox\u63a7\u5236\u5668\u7684\u503c\u4ee5\u6d6e\u70b9\u5f62\u5f0f\u5230\u8fbe\uff0c\u5176\u4e2d\u6211\u4eec\u9700\u8981\u8868\u793a\u5411\u4e0a\u3001\u5411\u4e0b\u548c\u5411\u5de6\u3001\u5411\u53f3\u65b9\u5411\u7684\u503c\u4e2d\u76842\u4e2a\u3002\n\u5728Javascript\u4e2d\uff0c\u6211\u4eec\u5fc5\u987b\u901a\u8fc7\u4e32\u53e3\u5e93\u53d1\u9001Uint8Array\u3002\u56e0\u6b64\uff0c\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u9700\u8981\u83b7\u53d6\u53d8\u91cf\u5e76\u5c06\u5176\u4ecesrc\u7c7b\u578b\u8f6c\u6362\u4e3a\u76ee\u6807\u7c7b\u578b\u3002\u5728Javascript(64\u4f4d)\u4e2d\uff0c\u4e00\u4e2a\u6d6e\u70b9\u8868\u793a8\u4e2a\u5b57\u8282\uff0c\u4f46\u662fArduino\u9700\u89814\u4e2a\u5b57\u8282\u3002\u901a\u8fc7\u5c06\u53d8\u91cf\u5305\u88c5\u5728Float32Array\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6b64\u7c7b\u578b\u8f6c\u6362\u4e3a4\u5b57\u8282\u3002\n\u73b0\u5728\u8981\u5c06\u5176\u53d1\u9001\u5230Arduino\uff0c\u6211\u4eec\u9700\u8981\u5c06\u6b64Float32Array\u8f6c\u6362\u4e3aUint8Array\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51fd\u6570\u8f7b\u677e\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff1a\n//\u5c06src\u8f6c\u6362\u4e3a\u76ee\u6807//\u793a\u4f8b\uff1aConvertTypedArray(new Float32Array([1.00])\uff0cUint8Array)\uff1b\u51fd\u6570ConvertTypedArray(src\uff0ctype){let buffer=new(src.byteLength)\uff1blet baseView=new(Buffer)\u3002set(Src)\uff1breturn new(Buffer)\uff1b}\u3002\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7port.write()\u65b9\u6cd5\u901a\u8fc7\u4e32\u884c\u8fde\u63a5\u7acb\u5373\u53d1\u9001\u3002\u4f46\u662f\uff0c\u5728\u6267\u884c\u6b64\u64cd\u4f5c\u4e4b\u524d\uff0c\u6211\u4eec\u786e\u5b9e\u5e0c\u671b\u786e\u4fdd\u53ef\u4ee5\u53d1\u9001\u65b0\u503c(\u4ee5\u907f\u514d\u8fc7\u8f7d)\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7port.drain()\u51fd\u6570\u6765\u5b8c\u6210\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7f16\u5199\u53e6\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5141\u8bb8\u6211\u4eec\u5199\u5165AndDrain\u4ee5\u6210\u529f\u53d1\u9001\u4e00\u6761\u6d88\u606f\uff1a\n\u5bf9\u4e8e\u6211\u4eec\u7684\u963f\u675c\u4f0a\u8bfa\u6765\u8bf4\uff0c\u8fd9\u6709\u70b9\u590d\u6742\u3002\u6211\u4eec\u9700\u8981\u63a5\u6536\u6570\u636e\u5e76\u4ee5\u67d0\u79cd\u65b9\u5f0f\u4fdd\u5b58\u5b83\uff0c\u4f46\u662f\u8fd9\u4e9b\u6570\u636e\u662f\u4ee5\u5b57\u8282\u800c\u4e0d\u662f\u5168\u6d6e\u70b9\u6570\u7684\u5f62\u5f0f\u4f20\u5165\u7684\u3002\n\u5e78\u8fd0\u7684\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u6280\u5de7\uff0c\u5b83\u5141\u8bb8\u6211\u4eec\u8bfb\u53d6\u4f20\u5165\u7684\u5b57\u8282\u5e76\u5c06\u5b83\u4eec\u590d\u5236\u5230\u7ed3\u6784\u4e2d\u3002\u5141\u8bb8\u6211\u4eec\u6309\u5982\u4e0b\u65b9\u5f0f\u5b9a\u4e49\u8f93\u5165\uff1a\ntyecif struct{Float Up_Down\uff1b//Up|Down\u503c[-1\uff0c1]Float Left_Right\uff1b//Left|Right Value[-1\uff0c1]}InputThumbtick\uff1b\n\u65e0\u6548\u8bbe\u7f6e(){\u5e8f\u5217\u53f7\u3002Begin(38400)\uff1b}void loop(){char buffer[sizeof(InputThumbStick)]\uff1bIF(Serial.\u3002Available()&gt\uff1b=sizeof(InputThumbtick)){\u4e32\u884c\u3002readBytes(buffer\uff0csizeof(InputThumbtick))\uff1bmemcpy(&amp\uff1binThumbticks\uff0c&amp\uff1bbuffer\uff0csizeof(InputThumbtick))\uff1b}}\u3002\n\u6700\u540e\u4f46\u5e76\u975e\u6700\u4e0d\u91cd\u8981\u7684\u662f\uff0c\u6211\u4eec\u73b0\u5728\u5fc5\u987b\u6839\u636e\u4f20\u5165\u7684\u503c\u79fb\u52a8\u4f3a\u670d(\u6c34\u5e73\u548c\u5782\u76f4)\u3002\u5728\u5b9e\u9645\u7f16\u5199\u4e4b\u524d\uff0c\u6211\u4eec\u9996\u5148\u5fc5\u987b\u8003\u8651\u5982\u4f55\u9009\u62e9\u6b63\u786e\u7684\u503c\uff0c\u56e0\u4e3a\u6587\u6863(Servo.h&amp\uff1b&amp\uff1bServo.h writeMicrosec)\u8bf4\u660e\u5e94\u8be5\u9009\u62e9\u4ecb\u4e8e[1000,2000]\u4e4b\u95f4\u7684\u503c\u3002\n\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c\u8fd9\u4e2a\u8303\u56f4\u662f[1200,1800]\uff0c1500\u662f\u4e2d\u95f4\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u9700\u8981180\u5ea6\u3002\n\u5c06\u5176\u8f6c\u6362\u53ef\u4ee5\u4e0e\u89c4\u683c\u5316\u4f3a\u670d\u503c\u76f8\u6bd4\u8f83\u3002\u4f46\u662f\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u4f1a\u5728[0\uff0c1]\u4e4b\u95f4\u8fdb\u884c\u89c4\u683c\u5316\uff0c\u800c\u662f\u4f1a\u89c4\u683c\u5316\u5230[-1\uff0c1]\u3002\u5177\u6709\u4ee5\u4e0b\u53c2\u6570\uff1a\nX n\u6216rm=X\u2212X m i n X m a x\u2212X m i n XNorm=\\FRAC{X-Xmin}{xmax-Xmin}X n\u6216rm=X m a x\u2212X m i n X\u2212X m i n\u200b\nX s c a l e d=2\u2217X n o r m\u22121 X\u7f29\u653e=2*XNorm-1 X s c a l e d=2\u2217X n o r m\u22121\u3002\nX s c a l e d=(2\u2217X\u2212X m i n X m a x\u2212X m I n X Scaled=(2*\\FRAC{X-Xmin}{xmax-Xmin}X s c a l e d=(2\u2217X m a x\u2212X m i n X\u2212X m I n\u200b)-1\u3002\nX=((X s c a l e d+1 2)\u2217(X m a x\u2212X m i n))+X m i n X=((\\frac{X\u7f29\u653e+1}{2})*(x\u6700\u5927-X\u6700\u5c0f))+X min X=((2 X s c a l e d+1\u200b)\u2217(X m a x\u2212X m i n)+X m i n\u3002\nint inputToServoValue(Float In\uff0cint Xmin\uff0cint xMax){in=in*-1\uff1b//\u53cd\u53f7return(Int)(in+1)/2)*(xmax-xmin))+Xmin)\uff1b}\u3002\n\u5728\u4e0b\u9762\uff0c\u60a8\u5c06\u80fd\u591f\u627e\u5230\u6700\u7ec8\u4ee3\u7801\uff0c\u8be5\u4ee3\u7801\u7528\u4e8e\u5b9e\u73b0\u57fa\u4e8e\u5de6\u4fa7\u62c7\u6307\u68d2\u8f93\u5165\u7684\u79fb\u52a8\u673a\u68b0\u81c2\u3002\u6211\u52aa\u529b\u4f7f\u8fd9\u6bb5\u4ee3\u7801\u5c3d\u53ef\u80fd\u5e72\u51c0\uff0c\u8fd9\u6837\u5b83\u5c31\u53ef\u4ee5\u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u91cd\u7528\u3002\n\u5728\u4e0b\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u5e0c\u671b\u5c06\u6b64\u9879\u76ee\u7528\u4e8e\u5f3a\u5316\u5b66\u4e60\u7528\u4f8b\uff0c\u4f46\u7a0d\u540e\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u8be5\ud83d\ude09\u3002\n#include&lt\uff1bServo.h&gt\uff1bServo Vertical\uff1b//Servo\u505a\u5782\u76f4\u79fb\u52a8Servo\u6c34\u5e73\u79fb\u52a8\uff1b//Servo\u505a\u6c34\u5e73\u79fb\u52a8\u7c7b\u578b\u5b9a\u4e49f struct{Float Up_Down\uff1b//Up|Downvalue[-1\uff0c1]Float Left_Right\uff1b//Left|Right Value[-1\uff0c1]}InputThumbtick\uff1bInputThumbticks in Thumbticks\uff1b//Startup void setup(){\u4e32\u884c.\u3002\u5f00\u59cb(38400)\uff1b\u5e8f\u5217\u53f7\u3002println(&#34\uff1b\u6b64\u7a0b\u5e8f\u9700\u89812\u4ef6\uff1a&#34\uff1b)\uff1b\u5e8f\u5217\u53f7\u3002println(&#34\uff1b[U|D\uff0cL|R]\uff0c\u8303\u56f4[1\uff0c0]&#34\uff1b)\uff1b\u5e8f\u5217\u53f7\u3002println(&#34\uff1b\u8fd9\u4e9b\u662f\u6bcf\u4e2a4\u5b57\u8282(\u6d6e\u70b9)&#34\uff1b)\uff1b\u4e32\u884c\u3002println(&#34\uff1b\u793a\u4f8b\uff1a[-1.0\uff0c0.0]&#34\uff1b)\uff1b\u4e32\u884c\u3002println()\uff1b\u6c34\u5e73\u3002\u8fde\u63a5(9)\uff1b//\u5782\u76f4\u8fde\u63a5\u52309\u53f7\u9488\u811a\u3002Attach(10)\uff1b//\u9644\u52a0\u5230\u5f15\u811a10}//Main Loop void loop(){char buffer[sizeof(InputThumbtick)]\uff1bIF(Serial.\u3002Available()&gt\uff1b=sizeof(InputThumbtick)){\u4e32\u884c\u3002readBytes(Buffer\uff0csizeof(InputThumbtick))\uff1bmemcpy(&amp\uff1binThumbticks\uff0c&amp\uff1bBuffer\uff0csizeof(InputThumbtick))\uff1b\u5782\u76f4\u3002write\u5fae\u79d2(inputToServoValue(inThumbtics.up_down\uff0c1200,1800))\uff1b\u6c34\u5e73\u3002writeMicrosec(inputToServoValue(inThumbtics.Left_Right\uff0c1200,1800))\uff1b}}/*\u5c06\u8f93\u5165\u503c\u8f6c\u6362\u4e3a\u4f3a\u670d\u5fae\u79d2\u503c*-\u4f3a\u670d\u5fae\u79d2\u503c\u4e3a[1200,1800]*-\u8f93\u5165\u503c\u4e3a[-1\uff0c1]**\u6211\u4eec\u56e0\u6b64\u5e0c\u671b\u5bf9\u5fae\u79d2\u503c\u8fdb\u884c\u5f52\u4e00\u5316\u5e76\u63d0\u53d6X*-\u5f52\u4e00\u5316[0\uff0c1]\uff1aXnorm=(X-Xmin)/(xmax-Xmin)*-\u5f52\u4e00\u5316[-1\uff0c1]\uff1aXscale=2*Xnorm-1*-\u5f52\u4e00\u5316[-1\uff0c1]\uff1aXscale=(2*((X-Xmin)/(xmax-Xmin)-1*-\u63d0\u53d6X\uff1ax=(Xscale+1)/2)*(xmax-Xmin))+Xmin*-\u793a\u4f8b1\uff1ax=(-1+1)/2)*(1800-1200))+1200=1200*-\u793a\u4f8b2\uff1ax=(1+1)/2)*(1800-1200))+1200=1800\u3002int xmin\uff0cint xmax){in=in*-1\uff1b//\u53cd\u53f7\u8fd4\u56de(Int)(in+1)/2)*(xmax-xmin))+xmin)\uff1b}\u3002\nConst SerialPort=Required(&#39\uff1bSerialPort&#39\uff1b)\uff1bConst GameController=Required(&#39\uff1b./GameController&#39\uff1b)\uff1bConst Port=NEW(&#39\uff1bCOM6&39\uff1b\uff0c{baudRate\uff1a38400\uff0cParity\uff1a&#39\uff1bNone&#39\uff1b\uff0cstopBits\uff1a1\uff0cFlowControl\uff1aFalse})\u51fd\u6570ab2str(Buf){\u8fd4\u56de\u5b57\u7b26\u4e32\u3002FromCharCode\u3002Apply(null\uff0cnew(Buf))\uff1b}\u5f02\u6b65\u51fd\u6570writeAndDrain(port\uff0cdata){return new((Resolve\uff0cReject)=&&gt;T\uff1b{port.\u3002\u5199(\u6570\u636e)\uff1b\u7aef\u53e3\u3002\u6392\u51fa(Resolve)\uff1b})}\uff1b(Async()=&gt\uff1b{\u5e38\u91cfGameController=new(100)\uff1b\u7b49\u5f85GameController\u3002init()\uff1bgameController\u3002\u5728(&#39\uff1b\u6309\u94ae&#39\uff1b\uff0c(Btn)=&gt\uff1b\u63a7\u5236\u53f0\u4e0a\u3002log(`Button\uff1a${btn}\u6309\u4e0b`))gameController\u3002\u5728(&#39\uff1b\u62c7\u6307\u68d2&#39\uff1b\uff0cAsync(Val)=&gt\uff1b{let valParsed=JSON.\u3002parse(Val)\uff1blet up_down=valParsed[1]\uff1blet Left_right=valParsed[0]\uff1bConsole\u3002log(`up_down\uff1a${valParsed[1]}|Left_right\uff1a${valParsed[0]}`)\uff1b//console.log(ValParsed)\uff1blet data=ConvertTypedArray(new([UP_DOWN\uff0cLEFT_RIGHT])\uff0cUint8Array)\uff1b\u7b49\u5f85writeAndDrain(port\uff0cdata)\uff1b//[L|R\uff0cU|D]Range[-1\uff0c1]})\u7aef\u53e3\u3002\u5728(&#39\uff1b\u6253\u5f00&#39\uff1b\uff0c\u5f02\u6b65()=&gt\uff1b{\u63a7\u5236\u53f0\u3002log(&#34\uff1b\u7aef\u53e3\u6253\u5f00\uff0c\u7b49\u5f85\u91cd\u7f6e&#34\uff1b)\uff1b//Arduino\u5728\u83b7\u5f97\u4e32\u884c\u8fde\u63a5\u65f6\u81ea\u52a8\u91cd\u7f6e//\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u53d1\u9001setTimeout(async()=&gt\uff1b{console.\u3002log(&#34\uff1bReset Done&#34\uff1b)\uff1b}\uff0c3000)\uff1b})\uff1b//port.on(&#39\uff1bopen&#39\uff1b\uff0c()=&gt\uff1bport.write(&#39\uff1b123&#39\uff1b))\u7aef\u53e3\u3002\u5728(&#39\uff1b\u6570\u636e&#39\uff1b\uff0c(\u6570\u636e)=&gt\uff1b\u63a7\u5236\u53f0\u4e0a\u3002log(ab2str(Data)\uff1b\u51fd\u6570ConvertTypedArray(src\uff0ctype){let buffer=new(src.byteLength)\uff1blet baseView=new(Buffer)\u3002set(Src)\uff1breturn new(Buffer)\uff1b}})()\uff1b", "note_en": "Creating an Xbox Robot Arm is something that I\u2019ve been wanting to do ever since I saw  the post by  Kevin Drouglazet who was able to utilize an Xbox Controller with an arm he created and was so friendly to publish the design files for (I am definitely not a hardware designer \ud83d\ude05) - thanks for that Kevin!\n Another reason why I wanted to do this is to have more practical knowledge and hands-on experience in the Reinforcement Learning domain. Since with this Robot Arm, I saw the potential to learn physical action control which will translate in world changes that can be virtual, opening up the realm of possibilities for use cases.\n To make this post more understandable, I decided to do an in-depth coverage over multiple articles. In the first part I will detail how this Robotic Arm extension was built and how you can make the robot arm control the right tuhmbstick when you are moving with the left thumbstick. While in the second part, I will go deeper on how we are then able to utilize a Unity Environment and train it to eventually be controlled by the robotic arm.\n     Note: Seeing that the assembly was well explained by Kevin his post, I decided to shorten this part and put more focus on the software after this section.\n  Let\u2019s start off with the parts required for this build. In total I paid around $75.00 for this build ($20.00 without the Xbox controller)\n   For printing we can utilize the  provided STL files and load them into our 3D printing software.\n     Note: This was reprinted in White for personal styling. A huge shout-out to my colleagues  Diego Trinciarelli and  Karim Vaes for helping me with the printing!\n  After the printing, we can assemble all of this together which is quite straightforward and explained well by Kevin.\n    Now our hardware is assembled and we are ready to start putting software on this beauty!\n  We want to achieve movement of the robot arm by utilizing the input of the left thumbstick, which will send data to our computer, which in its turn will send data back to the Arduino that will control the motors.\n In the next post, we will then put the Action Logic of taking an action on the Arduino, which will decide which action to take based on the input received from the observation state.\n  First we need to connect the Xbox Controller and start receiving data from it. This in itself is not an easy task on Windows, seeing that it\u2019s hard to find up-to-date libraries that allow us to do this. This is why I decided to utilize the Browser API as you can find in an earlier blog post:  Getting Xbox Controller inputs through Node.js.\n When we follow this post, we can utilize the following code that will read the Thumbstick values and put them into the respective  UP_DOWN and  LEFT_RIGHT variables.\n const GameController  =  require ( &#39;./GameController&#39; ) ; ( async  ( )  =&gt;  {  const gameController  =  new   ( 100 ) ;  // 100ms poll interval  await gameController . init ( ) ; gameController . on ( &#39;button&#39; ,  ( btn )  =&gt; console . log (  ` Button:   ${btn }  pressed ` ) ) gameController . on ( &#39;thumbsticks&#39; ,  async  ( val )  =&gt;  {  let valParsed  =  JSON . parse (val ) ;  let  UP_DOWN  = valParsed [ 1 ] ;  let  LEFT_RIGHT  = valParsed [ 0 ] ; console . log (  ` UP_DOWN:   ${valParsed [ 1 ] }  | LEFT_RIGHT:   ${valParsed [ 0 ] } ` ) ;  } ) } ) ( ) ;\n  Another thing we have to do before we can start working on interchanging data and programming our arduino is to connect Node.js so that it\u2019s able to exchange data. Luckily for us there is an excellent library named  Serialport that we can install through  npm install serialport.\n Once this is installed, we are able to open our COM port where the Arduino is connected on by instantiating the object with the configuration we want. To then send and receive data we await an open event whereafter we can utilize the command of  port.write(data) and we can receive data by listening on the  data event which we can log to the console.\n Do note that we are receiving bytes, which we thus have to convert to a string, implemented through the  ab2str function.\n const SerialPort  =  require ( &#39;serialport&#39; ) ; const GameController  =  require ( &#39;./GameController&#39; ) ; const port  =  new   ( &#39;COM6&#39; ,  { baudRate :  38400 , parity :  &#39;none&#39; , stopBits :  1 , flowControl :  false } ) ; function  ab2str ( buf )  {  return String . fromCharCode . apply ( null ,  new   (buf ) ) ; }port . on ( &#39;open&#39; ,  async  ( )  =&gt;  { console . log ( &#34;Port Opened, awaiting reset&#34; ) ;  // Arduino does automatic reset when it gets a serial connection  // Therefor we wait a bit before sending  setTimeout ( async  ( )  =&gt;  { console . log ( &#34;Reset Done&#34; ) ;  } ,  3000 ) ; } ) ;port . on ( &#39;data&#39; ,  ( data )  =&gt; console . log ( ab2str (data ) ) ) ;\n  Before we can start working on programming the Arduino, we have to decide how the data will be interchanged seeing that this is a serial connection.\n The values from our Xbox Controller arrive as  floating points where we require 2 of those that represent the UP DOWN direction and the LEFTRIGHT direction.\n  In Javascript we have to send  Uint8Arrays through the  Serialport library. To do this we thus need to take our variable and convert it from a src type to a destination type. A  float represents 8 bytes in Javascript (64 bits), but Arduino requires  4 bytes bytes. By wrapping our variable in a  Float32Array we can convert this type to 4 bytes.\n To now send this to our Arduino, we need to convert this  Float32Array to a  Uint8Array. Luckily for us this can be achieved easily through the following function:\n // Convert src to destination // Example: convertTypedArray(new Float32Array([ 1.00 ]), Uint8Array); function  convertTypedArray ( src , type )  {  let buffer  =  new   (src .byteLength ) ;  let baseView  =  new   (buffer ) . set (src ) ;  return  new   (buffer ) ; }\n This we are able to send instantly over the serial connection through a  port.write() method. However before doing that we do want to make sure that a new value can be sent (to avoid overload), which we can do through the  port.drain() function. We thus write another function that allows us to  writeAndDrain to successfully send one message:\n     For our Arduino this is a bit more complicated. We need to receive data and save it somehow, but this data is coming in in bytes rather than full floats.\n Luckily there is a trick that we can use, that allows us to read incoming bytes and copy them to a struct. Allowing us to define the input as follows:\n typedef  struct  {  float UP_DOWN ;  // UP | DOWN value [-1, 1]  float LEFT_RIGHT ;  // LEFT | RIGHT value [-1, 1] } InputThumbstick ;\n  void  setup ( )  { Serial . begin ( 38400 ) ; } void  loop ( )  {  char buffer [ sizeof (InputThumbstick ) ] ;  if  (Serial . available ( )  &gt;=  sizeof (InputThumbstick ) )  { Serial . readBytes (buffer ,  sizeof (InputThumbstick ) ) ;  memcpy ( &amp;inThumbsticks ,  &amp;buffer ,  sizeof (InputThumbstick ) ) ;  } }\n  Last but not least we now have to move the servos (Horizontal and Vertical) based on the values coming in. Before we can actually write, we first have to think how we will pick the correct values, seeing that the documentation ( Servo.h &amp;&amp;  Servo.h writeMicroseconds) state that a value between  [1000, 2000] should be chosen.\n In our case, this range is  [1200, 1800] with  1500 being the middle seeing that we don\u2019t need 180 degrees.\n   Converting this can be compared to normalizing the servo values. However instead of normalizing between  [0, 1] by default, we will normalize to  [-1, 1]. With the following parameters:\n    X n o r m =   X \u2212 X m i n  X m a x \u2212 X m i n Xnorm = \\frac{X - Xmin}{Xmax - Xmin}    X n o r m  =              X m a x \u2212 X m i n        X \u2212 X m i n \u200b\n  X s c a l e d = 2 \u2217 X n o r m \u2212 1 Xscaled = 2 * Xnorm - 1    X s c a l e d  =    2  \u2217    X n o r m  \u2212    1\n  X s c a l e d = ( 2 \u2217   X \u2212 X m i n  X m a x \u2212 X m i n Xscaled = (2 * \\frac{X - Xmin}{Xmax - Xmin}    X s c a l e d  =    ( 2  \u2217              X m a x \u2212 X m i n        X \u2212 X m i n \u200b    ) - 1\n  X = ( (   X s c a l e d + 1 2 ) \u2217 ( X m a x \u2212 X m i n ) ) + X m i n X = ((\\frac{Xscaled + 1}{2}) * (Xmax - Xmin)) + Xmin    X  =    ( (           2        X s c a l e d + 1 \u200b     )  \u2217    ( X m a x  \u2212    X m i n ) )  +    X m i n\n   int  inputToServoValue ( float in ,  int Xmin ,  int Xmax )  { in  = in  *  - 1 ;  // Reverse sign  return  ( int ) ( ( ( (in  +  1 )  /  2 )  *  (Xmax  - Xmin ) )  + Xmin ) ; }\n  Below you will be able to find the final code utilized to achieve the moving robot arm based on input of the left thumbstick. I strived to make this code as clean as possible, so that it can be reused in other projects.\n In a next post I hope to utilize this project for a Reinforcement Learning use case, but more about that later \ud83d\ude09\n    # include  &lt;Servo.h&gt;Servo Vertical ;  // Servo doing vertical movementServo Horizontal ;  // Servo doing horizontal movement typedef  struct  {  float UP_DOWN ;  // UP | DOWN value [-1, 1]  float LEFT_RIGHT ;  // LEFT | RIGHT value [-1, 1] } InputThumbstick ;InputThumbstick inThumbsticks ; // Startup void  setup ( )  { Serial . begin ( 38400 ) ; Serial . println ( &#34;This program expects 2 pieces:&#34; ) ; Serial . println ( &#34;[ U|D, L|R ] in range [ 1, 0 ]&#34; ) ; Serial . println ( &#34;These are 4 bytes each (float)&#34; ) ; Serial . println ( &#34;Example: [ -1.0, 0.0 ]&#34; ) ; Serial . println ( ) ; Horizontal . attach ( 9 ) ;  // Attach to Pin 9 Vertical . attach ( 10 ) ;  // Attach to pin 10 } // Main Loop void  loop ( )  {  char buffer [ sizeof (InputThumbstick ) ] ;  if  (Serial . available ( )  &gt;=  sizeof (InputThumbstick ) )  { Serial . readBytes (buffer ,  sizeof (InputThumbstick ) ) ;  memcpy ( &amp;inThumbsticks ,  &amp;buffer ,  sizeof (InputThumbstick ) ) ; Vertical . writeMicroseconds ( inputToServoValue (inThumbsticks .UP_DOWN ,  1200 ,  1800 ) ) ; Horizontal . writeMicroseconds ( inputToServoValue (inThumbsticks .LEFT_RIGHT ,  1200 ,  1800 ) ) ;  } } /** * Convert to input value to the Servo Microseconds value * - Servo Microseconds value is [ 1200, 1800 ] * - Input value is [ -1, 1 ] * * We thus want to normalize the Microseconds value and extract X * - Normalization [0, 1]: Xnorm = (X - Xmin) / (Xmax - Xmin) * - Normalization [-1, 1]: Xscaled = 2 * Xnorm - 1 * - Normalization [-1, 1]: Xscaled = (2 * ((X - Xmin) / (Xmax - Xmin))) - 1 * - Extracting X : X = (((Xscaled + 1) / 2) * (Xmax - Xmin)) + Xmin * - Example 1: X = (((-1 + 1) / 2) * (1800 - 1200)) + 1200 = 1200 * - Example 2: X = (((1 + 1) / 2) * (1800 - 1200)) + 1200 = 1800 */ int  inputToServoValue ( float in ,  int Xmin ,  int Xmax )  { in  = in  *  - 1 ;  // Reverse sign  return  ( int ) ( ( ( (in  +  1 )  /  2 )  *  (Xmax  - Xmin ) )  + Xmin ) ; }\n  const SerialPort  =  require ( &#39;serialport&#39; ) ; const GameController  =  require ( &#39;./GameController&#39; ) ; const port  =  new   ( &#39;COM6&#39; ,  { baudRate :  38400 , parity :  &#39;none&#39; , stopBits :  1 , flowControl :  false } ) function  ab2str ( buf )  {  return String . fromCharCode . apply ( null ,  new   (buf ) ) ; } async  function  writeAndDrain ( port , data )  {  return  new   ( ( resolve , reject )  =&gt;  { port . write (data ) ; port . drain (resolve ) ;  } ) } ; ( async  ( )  =&gt;  {  const gameController  =  new   ( 100 ) ;  await gameController . init ( ) ; gameController . on ( &#39;button&#39; ,  ( btn )  =&gt; console . log (  ` Button:   ${btn }  pressed ` ) ) gameController . on ( &#39;thumbsticks&#39; ,  async  ( val )  =&gt;  {  let valParsed  =  JSON . parse (val ) ;  let  UP_DOWN  = valParsed [ 1 ] ;  let  LEFT_RIGHT  = valParsed [ 0 ] ; console . log (  ` UP_DOWN:   ${valParsed [ 1 ] }  | LEFT_RIGHT:   ${valParsed [ 0 ] } ` ) ;  // console.log(valParsed);  let data  =  convertTypedArray ( new   ( [  UP_DOWN ,  LEFT_RIGHT  ] ) , Uint8Array ) ;  await  writeAndDrain (port , data ) ;  // [ L|R, U|D ] range [ -1, 1 ]  } ) port . on ( &#39;open&#39; ,  async  ( )  =&gt;  { console . log ( &#34;Port Opened, awaiting reset&#34; ) ;  // Arduino does automatic reset when it gets a serial connection  // Therefor we wait a bit before sending  setTimeout ( async  ( )  =&gt;  { console . log ( &#34;Reset Done&#34; ) ;  } ,  3000 ) ;  } ) ;  // port.on(&#39;open&#39;, () =&gt; port.write(&#39;123&#39;)) port . on ( &#39;data&#39; ,  ( data )  =&gt; console . log ( ab2str (data ) ) ) ;  function  convertTypedArray ( src , type )  {  let buffer  =  new   (src .byteLength ) ;  let baseView  =  new   (buffer ) . set (src ) ;  return  new   (buffer ) ;  } } ) ( ) ;", "posttime": "2020-06-03 01:49:12", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u63a7\u5236,robot,arduino", "title": "\u521b\u5efa\u63a7\u5236Xbox\u63a7\u5236\u5668\u7684\u673a\u68b0\u81c2-\u7b2c1\u90e8\u5206", "title_en": "Creating a Robot Arm That Controls an Xbox Controller \u2013 Part 1", "transed": 1, "url": "https://xaviergeerinck.com/post/ai/rl/xbox-robot-arm-creation/", "via": "", "real_tags": ["\u63a7\u5236", "robot", "arduino"]}]