<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>XDG基本目录规范</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">XDG基本目录规范</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-24 10:25:06</div><div class="page_narrow text-break page_content"><p>各种规范规定了文件和文件格式。本规范定义了应该在哪里查找这些文件，方法是定义一个或多个相对于哪些文件应该定位的基本目录。</p><p>应该相对于单个基目录写入特定于用户的数据文件。此目录由环境变量$XDG_DATA_HOME定义。</p><p>应该相对于单个基目录写入特定于用户的配置文件。此目录由环境变量$XDG_CONFIG_HOME定义。</p><p>存在应相对于其搜索数据文件的一组优先排序的基本目录。这组目录由环境变量$XDG_DATA_DIRS定义。</p><p>存在一组优先排序的基本目录，应根据这些目录搜索配置文件。这组目录由环境变量$XDG_CONFIG_DIRS定义。</p><p>应该相对于单个基本目录写入特定于用户的非必要(缓存)数据。此目录由环境变量$XDG_CACHE_HOME定义。</p><p>应该相对于单个基目录放置用户特定的运行时文件和其他文件对象。此目录由环境变量$XDG_RUNTIME_DIR定义。</p><p>这些环境变量中设置的所有路径必须是绝对路径。如果实现在这些变量中的任何一个中遇到相对路径，它应该认为该路径无效并忽略它。</p><p>$XDG_DATA_HOME定义应该存储用户特定数据文件的基目录。如果$XDG_DATA_HOME未设置或为空，则应使用等于$HOME/.local/share的默认值。</p><p>$XDG_CONFIG_HOME定义应存储用户特定配置文件的基目录。如果$XDG_CONFIG_HOME未设置或为空，则应使用等于$HOME/.config的默认值。</p><p>$XDG_DATA_DIRS定义除了$XDG_DATA_HOME基本目录外，还用于搜索数据文件的按首选项排序的基本目录集。$XDG_DATA_DIRS中的目录应该用冒号&#39；：&#39；分隔。</p><p>如果$XDG_DATA_DIRS未设置或为空，则应使用等于/usr/local/share/：/usr/share/的值。</p><p>$XDG_CONFIG_DIRS定义了除$XDG_CONFIG_HOME基目录外，还用于搜索配置文件的按首选项排序的基目录集。$XDG_CONFIG_DIRS中的目录应该用冒号&#39；：&#39；分隔。</p><p>如果$XDG_CONFIG_DIRS未设置或为空，则应使用等于/etc/xdg的值。</p><p>基目录的顺序表示它们的重要性；列出的第一个目录是最重要的。当在多个位置定义相同的信息时，相对于更重要的基目录定义的信息优先。$XDG_DATA_HOME定义的基目录被认为比$XDG_DATA_DIRS定义的任何基目录更重要。$XDG_CONFIG_HOME定义的基目录被认为比$XDG_CONFIG_DIRS定义的任何基目录更重要。</p><p>$XDG_CACHE_HOME定义应相对于其存储用户特定的非必要数据文件的基目录。如果$XDG_CACHE_HOME未设置或为空，则应使用等于$HOME/.cache的默认值。</p><p>$XDG_RUNTIME_DIR定义与用户特定的非必要运行时文件和其他文件对象(如套接字、命名管道等.)相关的基目录。应该储存起来。该目录必须归用户所有，并且他必须是唯一对其具有读写访问权限的用户。其Unix访问模式必须为0700。</p><p>目录的生存期必须与正在登录的用户绑定。它必须在用户首次登录时创建，如果用户完全注销，则必须删除该目录。如果用户多次登录，则应将其指向同一目录，并且强制要求该目录从他第一次登录到他在系统上的最后一次注销期间继续存在，并且在两者之间不能删除。目录中的文件不得在重新启动或整个注销/登录周期中幸存下来。</p><p>该目录必须位于本地文件系统上，并且不能与任何其他系统共享。该目录必须完全符合操作系统的标准。更具体地说，在类Unix操作系统AF_UNIX套接字上，必须支持符号链接、硬链接、正确的权限、文件锁定、稀疏文件、内存映射、文件更改通知、可靠的硬链接计数，并且不应对文件名字符集施加任何限制。此目录中的文件可能需要定期清理。为确保您的文件不会被删除，应至少每6小时修改一次其访问时间戳，否则应在文件上设置粘滞位(&#39；Sticky&#39；bit)。</p><p>如果没有设置$XDG_RUNTIME_DIR，应用程序应该回退到具有类似功能的替换目录，并打印一条警告消息。应用程序应将此目录用于通信和同步目的，并且不应在其中放置较大的文件，因为它可能驻留在运行时内存中，不一定可以换出到磁盘。</p><p>其他规范可以通过将数据文件的位置指定为$XDG_DATA_DIRS/subdir/filename来引用此规范。这意味著：</p><p>如果未设置$XDG_DATA_HOME/subdir/filename，则可以在$XDG_DATA_HOME/subdir/filename中创建数据文件的用户特定版本，并考虑$XDG_DATA_HOME的默认值。</p><p>数据文件的查找应相对于$XDG_DATA_HOME和$XDG_DATA_DIRS指定的所有基本目录搜索./subdir/filename。如果环境变量未设置或为空，则应使用本规范定义的默认值。</p><p>规范可以通过将配置文件的位置指定为$XDG_CONFIG_DIRS/subdir/filename来引用本规范。这意味著：</p><p>如果未设置$XDG_CONFIG_HOME/subdir/filename，则可以在$XDG_CONFIG_HOME/subdir/filename中创建配置文件的用户特定版本，并考虑$XDG_CONFIG_HOME的默认值。</p><p>配置文件的查找应相对于$XDG_CONFIG_HOME和$XDG_CONFIG_DIRS指示的所有基本目录搜索./subdir/filename。如果环境变量未设置或为空，则应使用本规范定义的默认值。</p><p>如果在尝试写入文件时，目标目录不存在，则应尝试创建权限为0700的目标目录。如果目标目录已经存在，则不应更改权限。应用程序应该准备好处理无法写入文件的情况，因为目录不存在且无法创建，或者由于任何其他原因。在这种情况下，它可以选择向用户呈现错误消息。</p><p>当尝试读取文件时，如果由于任何原因，某个目录中的文件不可访问，例如，因为该目录不存在、该文件不存在或用户未被授权打开该文件，则应该跳过对该目录中的文件的处理。如果由于此原因根本找不到所需的文件，应用程序可能会选择向用户显示错误消息。</p><p>引用$XDG_DATA_DIRS或$XDG_CONFIG_DIRS的规范应定义文件位于多个基目录下时的行为。例如，它可以定义只应该使用最重要的基本目录下的文件，或者作为另一个例子，它可以定义用于合并来自不同文件的信息的规则。</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/基本/">#基本</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/base/">#base</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/文件/">#文件</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1005042.html"><img src="http://img.diglog.com/img/2020/6/thumb_9370fe07769b41e0dda8d93ca6487b88.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005042.html">CISA发布其六个系列网络安全基本工具包中的第一个</a></div><span class="my_story_list_date">2020-6-4 4:6</span></div><div class="col-sm"><div><a target="_blank" href="/story/1004023.html"><img src="http://img.diglog.com/img/2020/5/thumb_feea307bbd5bfcfa856f8fb5a16cd001.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1004023.html">重力需要额外的维度吗？</a></div><span class="my_story_list_date">2020-5-28 10:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001372.html"><img src="http://img.diglog.com/img/2020/5/thumb_7290d85698db3f2d47ffe3c8093ab3b3.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001372.html">芬德兰的基本收入实验结果</a></div><span class="my_story_list_date">2020-5-9 17:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001151.html"><img src="http://img.diglog.com/img/2020/5/thumb_5a9125867c636220f32f6c390d66cc40.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001151.html">全民基本收入增进福祉鼓励工作</a></div><span class="my_story_list_date">2020-5-8 3:27</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>