<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Linux(In)安全性</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Linux(In)安全性</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-12 11:55:01</div><div class="page_narrow text-break page_content"><p>由于不可避免的书呆子气，本文中的Linux指的是标准Linux或GNU/Linux发行版。</p><p>人们普遍认为Linux是一个非常安全的操作系统。由于各种不同的原因，这与事实相去甚远。标准桌面中没有强大的沙盒。这意味着所有应用程序都可以访问彼此的数据，并可以窥探您的个人信息。大多数程序都是用内存不安全的语言(如C或C++)编写的，这是大多数已发现的安全漏洞的原因，而诸如控制流完整性等现代利用漏洞缓解措施并未得到广泛使用。内核也非常缺乏安全性。它是一个完整的内核，完全用内存不安全的语言编写，每个月都会发现数百个错误，其中许多是安全漏洞。事实上，在内核中发现了如此多的错误，开发人员无法跟上，这导致许多错误在很长一段时间内没有得到修复。内核在利用缓解方面也落后了几十年，许多内核开发人员根本不关心。在普通桌面上，具有sudo访问权限的受损非root用户帐户几乎等同于完全root危害，因为攻击者有太多方法可以检索sudo密码。通常，标准用户是组sudo的一部分，这使得这是一个巨大的问题，并且使得sudo密码几乎是安全剧场。例如，攻击者可以利用过多的按键记录机会，如X缺少GUI隔离、/proc中的大量信息泄露、使用LD_PRELOAD挂接到每个进程等等。即使我们减轻了记录击键的每一种方式，攻击者也可以设置自己的假sudo程序来窃取用户密码。这就是获取sudo密码所需的全部内容：cat&lt；&lt；\EOF&gt；/tmp/sudo#！/bin/bashif[[&#34；${@}&#34；=&#34；&#34；]]；然后/usr/bin/sudoElse读取-s-r-p&#34；[sudo]${user}：&#34；password echo&#34；${password}&#34；&。\n抱歉，请重试。&#34；/usr/bin/sudo${@}fiEOFchmod+x/tmp/sudoexport path=&#34；/tmp：${path}&#34；</p><p>现在攻击者只需一个modbe即可完全访问内核。</p><p>标准系统强化不足以解决任何这些大规模的架构安全问题。限制几件小事不会解决这个问题。同样，发行版默认部署的一些常见安全功能也不会解决这个问题。仅仅因为您的发行版在没有创建严格策略的情况下启用了MAC框架，并且仍然不受限制地运行大多数进程，并不意味着您可以摆脱这些限制。一个相当安全的Linux发行版所需的强化程度远远超出人们的想象。您将需要完整的系统MAC策略、完全验证的引导(不仅仅是引导链、整个基本系统)、强大的沙箱体系结构、强化的内核、广泛使用的现代利用漏洞缓解措施等等。实际上正在解决这些问题的一个Linux发行版是Whonix。</p><p>Flatpak的目标是沙箱应用程序，但它的沙箱操作存在很大缺陷。它完全信任应用程序，并允许它们指定自己的策略。这意味着安全性是可选的，应用程序可以选择不进行足够的沙箱保护。Flatpak的权限也过于宽泛，没有意义。例如，许多应用程序附带了filessystem=home，这是对用户主目录的读写访问权限，允许访问所有个人文件，并允许通过写入~/.bashrc或类似文件进行简单的转义。Flatpak广泛权限的另一个例子是它如何允许对X11套接字的不经过滤的访问，由于X11&#39；缺乏GUI隔离，因此允许轻松转义。通过Xpra之类的嵌套X11服务器添加X11沙箱很容易，但Flatpak开发人员拒绝承认这一点，并继续声称X11是不可能安全的。更多的例子是Flatpak如何给予目录(如/sys或/proc(以信息泄露而闻名的内核接口)的完全访问权限)。</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://madaidans-insecurities.github.io/linux.html">https://madaidans-insecurities.github.io/linux.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/sudo/">#sudo</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1001554.html"><img src="http://img.diglog.com/img/2020/5/thumb_83e6d1b179612e11eb631e23d2dbe856.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001554.html">作为Web开发人员的桌面上的Linux</a></div><span class="my_story_list_date">2020-5-11 1:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001511.html"><img src="http://img.diglog.com/img/2020/5/thumb_b3542617d22dbfcb1642bad4dfc4d9f4.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001511.html">Linux桌面环境对决：哪种GUI最好</a></div><span class="my_story_list_date">2020-5-10 21:26</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001502.html"><img src="http://img.diglog.com/img/2020/5/thumb_ab77b46e8220e450c13930f1f51f609d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001502.html">大规模Python调查显示Linux和PyCharm很受欢迎，只有10%的人仍在使用Python2</a></div><span class="my_story_list_date">2020-5-10 19:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001283.html"><img src="http://img.diglog.com/img/2020/5/thumb_6bf4f4e89335caff03241a451c83d10f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001283.html">Windows10用户流失，而Ubuntu Linux用户增长惊人</a></div><span class="my_story_list_date">2020-5-8 23:22</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>