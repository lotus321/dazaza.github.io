<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>罗派克/里斯普</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">罗派克/里斯普</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-23 12:39:58</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/6/257014c5fd35c2524bf376bdc973ed8a.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>PermalLink GitHub是5000多万开发人员的家园，他们一起工作，共同托管和审查代码、管理项目和构建软件。</p><p>报名。</p><p>这是一种语言的实现，在1962年麻省理工学院的McCarthy、Abrahams、Edwards、Hart和Levin所著的LISP 1.5程序员手册的前几页中以极高的简洁性定义了该语言。</p><p>这是一个教学实验，目的是看看该书第13页上定义的解释器(实际上是EVALQUOTE/APPLICE)工作得有多好。答案是：当然是完美的。</p><p>把这个节目放在一起是一件令人愉快的事。它的目的是娱乐和教育，而不是以任何方式创建一个现代的甚至现实的Lisp实现。我们的目标是使用干净、直接的GO代码将这个令人惊叹的第13页变成一个可以工作的解释器。</p><p>因此，即使对于Lisp1.5这本书，该程序也有几个严重的缺陷：</p><p>没有节目。通过调用Apply，解释器只能计算单个表达式，即可能的递归函数调用。但这是里斯普，这仍然很多。</p><p>无I/O。仅限交互式，尽管它可以通过读取命令行上指定的文件启动。</p><p>它很慢，当然，它的语言与Common Lisp或Scheme相去甚远。</p><p>虽然有一天我可能会添加prog并设置[q]，但这就是我要划清界限的地方。我计划将其用作教学工具，而不是实用的编程环境。</p><p>不过，它确实做了一件与本书不同的重要事情：词汇作用域。没有关联列表；相反，函数只能访问其自身框架中的局部变量以及T等全局变量。</p><p>T和F是大写的，但所有其他单词(car、nil等)都是小写的。</p><p>数字是由GO的Big.Int实现的，所以没有浮点，但是数字可以很大。</p><p>标识符可以是Unicode。只是为了好玩，λ是lambda的同义词。(实际上正好相反，不是吗？)。</p><p>我从来不喜欢键入差或商，所以算术使用更短的add sub mul div rem，比较操作符来自Fortran(何乐而不为呢？)：eq ne lt le gt ge，以及and和or。</p><p>(defn((add2(λ(N)(Add2 N)(add4(λ(N)(add2(Add2 N)</p><p>这是一份打字稿。lib.lisp中有一个库；将其作为参数传递会导致LISP在读取标准输入之前加载它。</p><p>%lisp lib.lisp(fac gcd ack等于Not Negate mapcar length opn成员并集交集)&gt；；Funcs&gt；(Add 1 3)4&gt；；定义添加2的lambda。(defn((add2(lambda(N)(Add 2 N)(Add 2)(Add2)&gt；(Add2 3)5&gt；或添加1两次。(defn。(Add2 3)5；lisp.lib中有一个启动库。让我们来看看facc。它是递归的：&gt；fac(lambda(N)(cond((Eq N 0)1)(T(mul n(fac(Subn 1)&gt；；分解：&gt；(Car Fac)lambda&gt；(Cadr Fac)(N)&gt；(Caddr Fac)(cond((Eq N 0)1)(T(mul n(fac(Subn 1)。(FAC 10)3628800&gt；；我们有大整数。&gt；(fac 100)93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000&gt；；等于Lisp&gt；等于(λ(Xy)(cond((等式xy)T)((原子x)F)((原子y)F)((等于(Car X)(Car Y)(等于(Cdr X)(Cdr Y)(T F)&gt；(等于&#39；(1 2(3))&。(1 2(3))T&gt；(等于&#39；(1 2(3))&#39；(1 2(4))F&gt；；Mapcar，Lisp订书符：对每个列表元素应用函数。&gt；mapcar(lambda(Fn List)(cond((Null List)nil)(T(cons(fn(Car List))(mapcar FN(Cdr List)&gt；(1 2 3 4 5 6 6 7 8 9 10))(1 2 6 24 120720 5040 40320 362880 3628800)&gt；；直接使用lambda。&gt；(mapcar&#39；(lambda(N)(add 1(Add 1 N)&#39；(234))(4 56)&gt；让我们构建一个函数。&gt；A helper：List比使用cons构建长列表更容易。(变量)&gt；(列表&#39；a&#39；b&#39；(C))(a b(C))&gt；比&gt；(cons&39；a(cons&#39；a(cons&#39；b(cons(#39；c nil)nil)(a b(C))&gt；记得我们是如何构建上面的add2的：&gt；(defn((add2(lambda(N))。现在构建一个将任意N加到其参数中的函数。&gt；(Defn；(Defn；((addN(lambda(N)(list&#39；lambda&#39；(A)(list&#39；add N&#39；a)(AddN)&gt；(AddN 5)(lambda(A)(Add 5a))&gt；((AddN 5)3)无法求值((AddN 5)3)&gt；；A LisS。(Apply(AddN 5)3)8&&gt;；(mapcar(AddN 5)&#39；(1234))(6 789)&gt；；为什么不也对OP进行编程？&gt；(defn((opn(lambda(Op N)(list&#39；lambda&#39；(A)(list op N&#39；a)(list op N&#39；a)(Opn)&gt；(mapcar(opn&#39。(1234))(4321)&gt；；最后一个有趣的部分：Ackermann函数。&gt；；第一个参数是一种级别：常数，n，2n，2^n 2^2^n等&gt；ack(lambda(M N)(cond((Eq M0)(Add N 1))((Eqn0)(ack(Subm1)1)(T(ack(Subm1)(ack m(。应用程序调用51535次！125^D%</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/robpike/lisp/blob/master/README.md">https://github.com/robpike/lisp/blob/master/README.md</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/robpike/">#robpike</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/gt/">#gt</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>