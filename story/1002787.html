<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Jamstack只有在您这样做的情况下才是快速的</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Jamstack只有在您这样做的情况下才是快速的</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-19 22:23:22</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/5/e1e8946e75ecbb168452c6d9f43fc24d.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>JAMstack经常被宣传为提供高性能站点的好方法。它甚至是Jamstack.wtf上列出的第一个好处，该指南将JAMstack的概念集中在一个直截了当的指南中，以鼓励其他开发人员采用这种工作流程。但是太多的JAMstack站点非常慢。</p><p>@matthewcp@ust infagnani@gatsbyjs@kylemathews@addyosmani纵观全套痕迹，现代盖茨比制作的页面似乎需要2-3倍的时间才能成为互动页面。这是不对的。盖茨比/npm/对内容访问征税的倒退反应。在不那么慷慨的时候，我甚至会说这是不道德的。</p><p>盖茨比是一个容易攻击的目标(还有许多其他目标)，因为目前它没有针对开箱即用的性能进行优化，尽管&#39；推广了什么。修复它是可能的，例如使用这个插件，我相信反应良好的开发人员可以让它闪耀光芒，但这应该是默认的，而不是事后才想到的。</p><p>正如扎克·莱瑟曼在“十一”杂志的“新业绩排行榜”中提醒我们的那样，“十一”非常不同：</p><p>ELEVENTY没有做任何开箱即用的特殊优化来让您的站点变得更快。这并不能保护您避免创建速度较慢的站点。但重要的是，它也没有添加任何额外的东西。</p><p>大多数速度较慢的JAMstack站点的问题是它们加载了大量JavaScript。请记住，任何添加的JavaScript都必须发送到浏览器，浏览器也需要进行更多的计算。它会迅速影响性能。</p><p>有时，使用服务器端构建就足以从API获取数据并将HTML提供给所有访问者，这对性能要好得多。</p><p>例如，swyx编写了关于使用Svelte实现Web提及的客户端Web提及。欢迎任何推广Web提及并简化其采用的文章！但是，即使它很适合Web提及和Svelte的演示，我也不建议在客户端这样做。</p><p>仅在构建站点时调用webentio.io API，这应该比访问者查看页面的频率低。</p><p>缓存对webention.io的请求结果和最新请求的时间戳，以便下一个请求只请求新的web提及。</p><p>它减轻了webention.io的压力，因为每个构建只有一个请求，而客户端实现将为每个页面视图发出更大的请求(甚至是多个请求，使用分页)。</p><p>我的网站在2020年4月收到了75次网络提及。我可能在同一时期内构建了100次，所以让我们假设有100个请求发送给webention.io，但响应很少。</p><p>在同一时期，我的网站有3,746次页面浏览量(低估了，我仍然在使用谷歌分析🤷‍♂️)，这会向webention.io发出3,746次请求，并获得大量响应。</p><p>用户的性能要好得多，因为HTML已经在服务器上进行了计算并得到了静态服务。</p><p>每个人都应该知道，Aaron Parecki免费提供了令人惊叹的webention.io服务，而且现在大多数Web提及用户似乎都在使用它，所以对它的API友好的感觉更好。</p><p>如果你知道你收到了很多非常有用的网页提及，你必须向你的访问者展示，你可以用一些客户端来增强服务器端生成的列表。</p><p>但请记住，添加到页面中的每个JavaScript都是有成本的，因此少量额外的Web提及必须是真正有用的。</p><p>首先，尝试在站点构建之后等待一段时间，然后再进行客户端API调用。保持构建时间戳对客户端JavaScript可用，并等待一小时、一天或更长时间，具体取决于web提及的频率。你甚至可以使用年龄页面来查询wbemention.io中可能收到较少网络提及的较旧内容，就像Aaron Gustafson甚至在他的Jekyll插件中对服务器端调用所做的那样。</p><p>然后，在localStorage或IndexedDB中跟踪用户对API的调用，这样不久之后您就不会再次进行这些调用。您甚至可以使用服务工作者来缓存请求及其时间戳。</p><p>我同意Web提及不是最复杂的用例，用来说明您应该在构建时尽可能多地从服务器调用API，而不是从客户端调用：</p><p>因此，是的，许多其他用例使得客户端API调用是必要的，或者比服务器端API调用更好，我理解这一点。</p><p>在当前的JAMstack趋势中，这也是我不太喜欢的，推广JavaScript和API要比推广标记多得多。</p><p>这使得这里有一堆东西变得更加明显，这对堆栈非常有用。</p><p>当然，它读作AJMstack而不是JAMstack，所以我打赌我不会成功地将其推广到…。🤷‍♂️</p><p>但至少感觉更准确，它表明JavaScript是API和标记之间的纽带。</p><p>它甚至允许将其作为一个很棒的渐进式增强平台，因为我们可以从普通老式开始(我听到的是无聊吗？)。标记…。</p><p>CSS Grid和FlexBox使用起来非常有趣，我只花了几分钟就明白了，看看这个样式表！💪↩︎。</p><p>如果您想分享错误或建议对此内容进行改进，请编辑Github上的源代码。</p><p>@nhoizey对Jamstack中的性能构建采取了一个有趣的做法，这涉及到我个人一直在努力建立的意识-仅仅因为J代表JavaScript，并不意味着所有事情的解决方案都是客户端脚本。Nicolas-hoizey.com/文章/2020年/…。</p><p>#Boostmark&#34；JAMstack只有在您这样做的情况下才是快速的&#34；，@nhoizey Nicolas-hoizey.com/ws/2020/…。我真的很喜欢MStack的概念。客户端JS往往会使网站变慢，请明智地使用它。</p><p>et si on faisait d&#39；avantage la Promoting de la Mstack？&#34；JAMSTACK只有在您做到这一点的情况下才是快速的。/nicolas-hoizey.com/ws/2020/…。#JAMstack。</p><p>[书签]&#34；JAM堆栈只有在您这样做的情况下才是快速的&#34；，Nicolas Hoizey(@nhoizey)nicolas-hoizey.com/ws/2020/…</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://nicolas-hoizey.com/articles/2020/05/05/jamstack-is-fast-only-if-you-make-it-so/">https://nicolas-hoizey.com/articles/2020/05/05/jamstack-is-fast-only-if-you-make-it-so/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/情况/">#情况</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/jamstack/">#jamstack</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/客户端/">#客户端</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>