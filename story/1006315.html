<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>基于GStreamer的开源自适应流媒体MPEG-Dash流生成</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">基于GStreamer的开源自适应流媒体MPEG-Dash流生成</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-13 02:53:25</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/6/b22e430cf35da9f192bb4dc94eeb4a7b.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>自适应流式传输是一种通过向客户端提供可变比特率流来提供灵活性和可扩展性的技术。专为在HTTP上工作而设计，它将媒体内容作为具有媒体类型和各种比特率的单独流提供，客户端将能够根据其网络带宽或CPU能力进行选择。</p><p>MPEG-DASH是最完整的自适应流媒体技术。该格式基于称为MPD(媒体演示描述)的XML描述文件。该格式描述具有媒体类型(音频、视频或字幕)并提供各种比特率或媒体格式的一组表示。</p><p>该解决方案是一个开放标准，受到业界的广泛支持。有关它的更多信息，您可以访问DASH-IF网站。</p><p>在下面的示例中，MPD描述了具有三种媒体内容类型(适配集)的静态内容。每个调整集都包含表示法。视频有5种不同的表示方式，可以根据播放约束切换到5种不同的码率。</p><p>&lt；mpd mediaPresentationDuration=&#34；PT634.566S&#34；minBufferTime=&#34；PT2.00S&#34；profiles=&#34；urn:hbbtv:dash:profile:isoff-live:2012，URN：mpeg：DASH：PROFILE：ISOFF-LIVE：2011&#34；TYPE=&#34；STATIC&#34；XMLNS=&#34；URN：mpeg：DASH：SCHEMA：mpd：2011&#34；xmlns:xsi=&#34；http://www.w3.org/2001/XMLSchema-instance&#34；xsi：schemaLocation=&#34；urn：mpeg：dash：schema：mpd：2011 dash-MPD.xsd&#34；&gt；&lt；BaseURL&gt；。/&lt；/BaseURL&gt；&lt；句号&gt；&lt；AdaptationSet id=&#34；1&#34；mimeType=&#34；video/mp4&#34；contentType=&#34；video&#34；subSegmentAlignment=&。media=&#34；$RepresentationID$/$RepresentationID$_$Number$.m4v&#34；开始编号=&#34；1&#34；initialization=&#34；$RepresentationID$/$RepresentationID$_0.m4v&#34；/&gt；&lt；表示id=&#34；bbb_30fps_1280x720_4000K&#34；编解码器=&#34；avc1.64001f&#34；带宽=&#34；4952892&#34；宽度=&#34；1280&#34；高度=&#34；720&#34；帧。30&#34；sar=&#34；1：1&#34；scanType=&#34；渐进式&#34；/&gt；&lt；表示id=&#34；bbb_30fps_320x180_200k&#34；编解码器=&#34；avc1.64000d&#34；带宽=&#34；254320&#34；宽度=&#34；320&#34；高度=&#34；180&#34；帧率=。&lt；表示id=&#34；bbb_30fps_480x270_600k&#34；编解码器=&#34；avc1.640015&#34；带宽=&#34；759798&#34；宽度=&#34；480&#34；高度=&#34；270&#34；帧率=&#34；30&#34；SAR=&#34；1：1&#34；扫描类型=&#34；渐进式&#34。带宽=&#34；1013310&#34；宽度=&#34；640&#34；高度=&#34；360&#34；帧率=&#34；30&#34；sar=&#34；1：1&#34；scanType=&#34；渐进式&#34；/&&gt;；&lt；表示id=&#34；bbb_30fps_3840x2160_12000k&34；编解码器=&#34；avct；帧速率=&#34；30&#34；sar=&#34；1：1&#34；scanType=&#34；渐进式&34；/&gt；&lt；/AdaptationSet&gt；&lt；AdaptationSet id=&#34；2&#34；mimeType=&#34；音频/MP4&#34；contentType=&#34；音频&#34；子段对齐=&#34；true&。值=&#34；6&#34；/&gt；&lt；角色架构IdUri=&#34；urn：mpeg：破折号：角色：2011年&#34；值=&#34；主&#34；/&gt；&lt；段模板持续时间=&#34；192512&#34；时间刻度=&#34；48000&#34；media=&#34；$RepresentationID$/$RepresentationID$_$Number$.m4a&#34；开始编号=&#34；1&#34；initialization=&#34；$RepresentationID$/$RepresentationID$_0.m4a&#34；/&gt；&lt；表示ID=&#。bbb_a64k&#34；编解码器=&#34；mp4a.40.5&#34；带宽=&#34；67071&#34；音频采样率=&#34；48000&#34；&gt；&lt；音频频道配置schemeIdUri=&#34；urn:mpeg:dash:23003:3:audio_channel_configuration:2011&#34；值=&#34；2&#34；/&lt；&lt；/表示&lt；&lt；/适配设置&&gt;&lt；适配(AdaptationSet&lt；&lt；AdaptationSet&lt；media=&#34；$RepresentationID$/tile_$Number$.jpg&#34；/jpeg&#34；contentType=&#34；Image&#34；&gt；&lt；段模板图像持续时间=&#34；100&#34；开始编号=&#34；1&#34；/&gt；&lt；表示带宽=&#34；12288&#34；id=&#34；缩略图_320x180&#34；宽度=&#34；3200&#34；高度=&#34；180&#。http://dashif.org/thumbnail_tile&#34；值=&#34；10x1&#34；/&&gt;&lt；/表示&&gt;&lt；/适配集合&&gt;；&lt；/期间&&gt;；&lt；/mpd&gt；</p><p>自2012年以来，GStreamer只包含一个名为dashdemux的DASH客户端，而对于HLS，它提供了两个元素：解复用器和接收器。</p><p>该元素于2012年登陆GStreamer存储库，从那时起已经发生了很大变化，以支持DASH在其规范和应用程序中提供的各种用例。实际上，它能够支持多个流(视频/音频/字幕)，并允许用户从可用的流o中选择</p><p>2014年，引入了一个名为Splitmuxink的新元素。它处理创建分段流的最复杂部分，它用同步的音频和视频剪切文件。基于此元素，2017年创建了一个名为hlssink2的新HLS接收器。我最终决定基于这种方法创建一个破折号接收器来填补GStreamer中的空白。</p><p>为了统一MPD支持，首要任务是重新定位和重新设计基类，以读取和写入MPD文件。基于XML，媒体呈现描述方案基于如上所述拥有子节点和属性的多个节点。第一个重要的工作项目是将代码拆分到每个对象中，每个对象标识来自MPD架构的一个XML节点，包括根节点、句点、适配集等。选择了面向对象的方法来统一关于解析、对象属性操作和XML格式生成的工作。</p><p>受hlssink2工作的启发，破折号接收器是一个超级存储箱，并包括一个拆分器以提供多个媒体段。在这里，最大的挑战是编写符合DASHIF一致性测试的MPD，这里有可用的和合适的媒体段。</p><p>TS分段支持(MP4支持尚未完成)，短分段方案中的分段过渡需要额外工作。</p><p>在下面的管道中，在/tmp中创建了一个静态MPD文件，并在60s的时间段内创建了一个用于单个视频流的单个段。该段将被编码为H.264并封装在MPEG传输流文件中。</p><p>$gst-Launch-1-m仪表盘名称=仪表盘mpd-根路径=/tmp目标-持续时间=60动态=假期间-持续时间=60000复用器=ts v4l2src！视频/x-RAW，帧率=30/1，宽度=320，高度=240！视频转换！排队！x264enc比特率=400！dashsink.video_0。</p><p>未来的工作包括实现对遵循CMAF(MPEG-A Part 19)规范创建MP4片段文件的支持。</p><p>如果您想了解更多关于仪表盘或GStreamer任何其他部分的信息，请与我们联系！</p><p>请勾选此框以确认您已阅读并接受我们关于收集/存储和使用您的个人数据的隐私声明条款：*</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.collabora.com/news-and-blog/blog/2020/06/12/generating-mpeg-dash-streams-for-open-source-adaptive-streaming-with-gstreamer/">https://www.collabora.com/news-and-blog/blog/2020/06/12/generating-mpeg-dash-streams-for-open-source-adaptive-streaming-with-gstreamer/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/开源/">#开源</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/源自/">#源自</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/mpeg/">#mpeg</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/mpd/">#mpd</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1006183.html"><img src="http://img.diglog.com/img/2020/6/thumb_ef405e250dfb7e5632c17290e13aa85d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006183.html">Xrdp：一个开源的RDP服务器</a></div><span class="my_story_list_date">2020-6-12 3:14</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005998.html"><img src="http://img.diglog.com/img/2020/6/thumb_397c3af5ab8a50dffe568f3fb6acbc45.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005998.html">开源MSVC的STL(2019)</a></div><span class="my_story_list_date">2020-6-10 19:0</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005990.html"><img src="http://img.diglog.com/img/2020/6/thumb_eddd311956ecc4304f3dd5a97e2b799e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005990.html">勇敢的开源浏览器发现向键入的URL添加引用代码</a></div><span class="my_story_list_date">2020-6-10 16:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005698.html"><img src="http://img.diglog.com/img/2020/6/thumb_83e1ae36389b1bd9e8b0b4f4e7c2711b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005698.html">广受欢迎的开源项目中的漏洞在2019年翻了一番</a></div><span class="my_story_list_date">2020-6-8 22:29</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>