<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我是如何构建自己的天气预报工具的</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我是如何构建自己的天气预报工具的</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-31 06:26:43</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/5/846bbce9dcb9d0da42d435fe900ddde5.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>突如其来的天气和气候变化是每个人都在应对的事情。事实上，绝大多数全球人口依赖于准确的、实时的天气数据和预报来做出明智的决定。这增加了可靠的Android和iOS天气应用的重要性。在本文中，我们将向您展示如何使用NodeJS和天气API创建一个简单的预报工具。但在此之前，让我们回顾一下天气应用程序的重要性。</p><p>一个功能丰富的天气预报APP可以为各个行业提供巨大的价值。天气应用程序的一些值得注意的好处包括：</p><p>以下是成功构建天气应用程序所需的一些条件：</p><p>气候细胞是一个很受欢迎的天气提供商，它通过一个易于使用的API提供超精确的历史天气数据和预报。它的预测功能帮助天气敏感型行业的用户在管理运营时随时掌握情况。在MicroWeather的支持下，气候细胞API提供了从20多个天气参数生成的可行的天气洞察力。用户还可以生成可视化天气图层来增强体验。</p><p>在本节中，我将向您展示我是如何创建一个预测应用程序的，在该应用程序中，用户可以按名称输入他们所在的城市或任何其他位置，并从Climate aCell API获取天气数据。API通过返回数据来响应请求，然后将数据显示给用户。</p><p>对于这个项目，我们将使用Node.js-最流行的JavaScript运行时环境之一。js帮助开发人员快速创建Web应用程序。它有很多用于创建高级Web应用程序的库和模块。如果您的设备上没有Node.js，可以从官网安装。安装后，我们使用此命令初始化npm-Node.js使用的默认包管理器。$NPM初始化。</p><p>这将创建我们的项目，因此系统将提示您输入一些详细信息，如包名、描述、Git存储库等。接下来，我们安装运行项目所需的模块。要生成Node.js应用程序框架，我们使用express-一个构建Node.js web应用程序的框架。$npm install express安装express框架可以帮助您运行服务器、处理客户端请求，并将正确的HTML模板与响应连接起来。接下来，我们还将安装UniRest-一个简单但功能强大的解决方案，允许您请求库。它将帮助我们向气候细胞API发出请求并处理响应。使用以下命令：npm install unirest此时，我们已经安装了必要的模块，项目已经准备好了。接下来，我们使用EXPRESS生成器工具生成一个天气应用程序。在命令行中键入以下内容：express--view=pug weweet-app-NodeJS您现在应该在命令行上有一个如下所示的视图：</p><p>要访问气候细胞API，您需要在他们的页面上注册一个帐户。</p><p>创建帐户后，登录到其Microweet API仪表板，如下所示：</p><p>在仪表板上，单击References以检查API端点。如您所见，Climate Cell API有许多端点，包括短期预测、每小时预测、实时数据等等。</p><p>值得一提的是，每个端点都有自己的代码片段。例如，下面是用于获取实时天气数据的Node.js代码片段。</p><p>要调用气候单元API，我们需要首先编辑一些文件。在这里，您可以使用记事本或在IDE中打开项目目录以便于编辑。它应该如下所示：</p><p>我们通过将bootstrap添加到layout.pug来开始修改我们的文件。打开Views目录并将此代码段插入到文件中。</p><p>请注意我们如何使用HTTP POST方法将数据发送到服务器。上面的代码还将动作参数设置为天气路线，并将文本输入添加为“City”。还添加了用于获取天气的输入按钮。现在，我们在表单下方创建一个HTML表，以显示获取的天气记录。</p><p>要向Climate aCell API发送请求，我们必须安装请求模块。npm I请求--保存下一步，我们将在index.js文件中添加Climate aCell API凭据。打开routes目录中的文件，并添加您在气候室仪表板上获得的API密钥：</p><p>添加API凭据后，我们更新索引路由。这是通过替换index.js文件中‘/’route中的代码部分来实现的。</p><p>此代码片段允许将输入表单中的数据发布到索引路由。一旦用户输入城市名称，就会使用Request对象将其赋给城市变量。然后，在URL后面附加城市名称和ID，并将请求发送到气候单元API。将Climate aCell API服务器响应作为JSON文件返回，然后解析该文件并将其提供给输出模板。例如，如果用户正在查找波士顿天气预报，应用程序将返回以下内容：</p><p>注-本例中的温度以开尔文表示，等于50°F或10°C。</p><p>您可以将交互式地图集成到您的预测应用程序中，以增强用户体验。这可以通过使用Web应用程序的第三方地图服务提供商来实现。Mapbox就是这样一种工具，它可以帮助开发人员为他们的应用程序创建令人惊叹的天气地图。它与任何天气应用程序无缝集成。要使用MapBox，请在他们的网站上注册并查看他们的API。它集成了Android、iOS、Web和Unity。在本例中，我们选择Web集成作为我们的工具。我们可以安装Mapbox CDN，也可以使用模块捆绑器。让我们使用模块捆绑器。第一步是安装软件包npm install mapbox-gl-save接下来，我们通过在&lt；head&gt；&lt；link href=&#39；https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css&#39；rel=&#39；样式表中包含此代码段，将GL JS css文件添加到HTML文件中。我们现在可以将地图添加到我们的应用程序中。为此，请使用下面的代码片段。</p><p>至此，大部分工作已经完成，您的应用程序可以使用气候细胞API获得任何城市的天气预报。</p><p>但是，您可以考虑向应用程序添加更多交互功能或扩展其功能。</p><p>如您所见，基本的应用程序构建过程非常简单明了。通过遵循上面的流程来利用天气API的强大功能，即使是初学者级别的开发人员也可以在几分钟内启动并运行他们的天气应用程序。</p><p>免费学习编码。FreeCodeCamp的开源课程已经帮助超过4万人找到了开发人员的工作。开始</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.freecodecamp.org/news/how-i-built-my-own-forecasting-tool-using-a-weather-api/">https://www.freecodecamp.org/news/how-i-built-my-own-forecasting-tool-using-a-weather-api/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/天气预报/">#天气预报</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/weather/">#weather</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/天气/">#天气</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>