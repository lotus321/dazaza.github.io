<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>停止生成客户端表单</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">停止生成客户端表单</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-25 23:33:13</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/5/d6eaca88f5a22abd6cec6ad8e4fdd4ee.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>客户端显示验证错误，或者成功地将用户移动到其旅程中的下一步。</p><p>不要那么快，首先，对于formik.js，您至少需要下载15KB；如果它基于redux-form，则需要下载26KB；如果表单包含单个与日期相关的验证，则可能需要下载70KB；对于包含可观察支持的rx.js，可能需要下载30KB，以及谁知道有多少多重填充。</p><p>该表单在此阶段可能无法在Safari中呈现，因为它不是Chrome，而且没有人在其中进行测试。</p><p>或者更糟的是，表单将呈现在服务器上，但JavaScript将无法运行，从而导致用户填写整个表单时，最后只会看到一个惰性的提交按钮，没有其他选择，只能刷新并丢失他们的工作。</p><p>客户端可能会执行一些实时或就地验证，这很烦人，通常被认为是糟糕的用户体验。</p><p>在进行实时验证时，当用户使用箭头键在任意位置插入文本时，表单可能会防止复制和粘贴，或者当用户使用箭头键在任意位置插入文本时，表单可能会扰乱用户的光标位置，或者通过根本不让用户键入某些字符来阻止用户写入这些字符。</p><p>在这种情况下，通常什么都不会发生，因为JavaScript初始化失败，或者API需要一段时间才能响应，并且没有加载微调器，或者表单中的某个地方有验证错误但看不到，或者用户提交表单的方式(键盘、Enter键、鼠标单击，自动通过密码管理器)是开发人员没有预料到的。</p><p>有时，用户在填写表单时失去了互联网连接，因为他们在火车上的Wi-Fi连接参差不齐，而现在您的提交按钮只会触发无限加载旋转器，或者更糟糕的是，它会通过关闭表单而不保留用户键入的内容来删除他们所做的所有工作</p><p>客户端可能会做一些更多的验证，这是没有价值的，因为服务器无论如何都需要重新验证所有内容，因为服务器不能信任客户端，并且客户端无法验证服务器可以验证的所有内容，例如电子邮件地址的唯一性；即使客户端急于验证电子邮件地址的唯一性，您仍然需要在提交时重新验证，因此这是没有意义的。</p><p>是的，您可以打赌这个Ajax调用是用redux-saga 5KB、async.js 7KB、同构获取3KB、swr.js 3KB、异步/等待Babel插件和PolyFill(花了某人1周的时间配置)和Promise PolyFill构建的。</p><p>如果请求没有返回，并且开发人员考虑过，用户可能会收到一条消息，但在此阶段通常出现的唯一消息是隐藏在开发控制台中的红色消息。</p><p>客户端显示验证错误，或者成功地将用户移动到其旅程中的下一步。</p><p>如果您不相信这是现实，可以使用Internet Explorer11或Safari和AdBlocker上网一周。保持您的开发控制台处于打开状态，并注意JavaScript错误。</p><p>服务器会将用户发送到带有验证错误的同一页面，或者发送到他们旅程中的下一步。</p><p>如果Web服务器宕机了，倒霉的是，我猜用户会做其他事情？</p><p>如果他们的连接不好，他们可能会从浏览器看到一条“您已脱机”的消息，但他们的所有工作仍在进行中；他们可以在恢复连接后刷新页面以继续提交，或者按下“上一步”按钮并保留他们的答案以便稍后再试，所有这些都不需要开发人员的任何额外工作</p><p>服务器会将用户发送到带有验证错误的同一页面，或者发送到他们旅程中的下一步。</p><p>香草形状更难打破。当只有1个请求且没有动态客户端代码乱运行时，发生的事情要少得多。</p><p>您宝贵的和定制的就地验证、状态管理、异步查询、离线后备在大多数情况下都不是必要的，也不会造成积极的危害。</p><p>普通表单已经实现了最重要的开箱即用特性：当用户失去连接或服务器宕机时，它们不会丢失用户状态。</p><p>但我怀疑您或您的用户在您的应用程序中的每个表单都需要它们。</p><p>几乎每个网站都有表单。其中只有很小一部分需要是客户端呈现的表单。</p><p>即使这样，在Soundcloud的情况下，他们仍然可以针对他们不经常访问的设置页面，并将这些页面呈现为一个带有普通表单的多页应用程序，同时音乐在主选项卡中继续不间断地播放。</p><p>下面是一些表单，谢天谢地，它们是以普通优先的方式实现的，并且可以选择逐步增强为更好的形式：</p><p>最后，我遇到过一些不适合在客户端使用的表单示例，这些示例为我呈现并破坏了这些表单：</p><p>为较老的Sky宽带路由器编写的管理面板，自豪地以角度1编写，在现代浏览器上，无论是否使用JavaScript，表单都不会执行任何操作。</p><p>Interactive Brokers上的注册表单要求我提供相当于2个屏幕的数据，但当我在Safari中提交时却什么也没做。</p><p>在Twitter上编辑您的个人资料信息，如果您在脱机状态下提交表单，Twitter会放弃您所做的编辑。</p><p>客户端框架可以为您节省大量时间，但是如果您将所有时间都花在重新构建Web平台的每个部分上，那么这是徒劳的。</p><p>每一个前端开发人员都应该选择一个服务器端框架，并学习如何构建普通的Web表单。它们为用户工作得更好，也更容易构建。</p><p>我推荐Ruby on rails。正如一位朋友所说，它“在刑事上被低估了”。</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.vararu.org/stop-building-client-side-forms">https://blog.vararu.org/stop-building-client-side-forms</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/生成/">#生成</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/building/">#building</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_406510.html"><img src="http://img.diglog.com/img/2011/4/thumb_7390f54e264e4e3fb52537ba6b83f1cf.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_406510.html">Gickr：能够将多个图片集合在一起，帮你生成一个Gif动画图片</a></div><span class="my_story_list_date">2011-4-6 19:26</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_123956.html"><img src="http://img.diglog.com/img/2009/2/thumb_0786085400cb44e2b938a3e279b26e3c.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_123956.html">有趣的Web2.0字母生成 - 鲜甜IT.Net</a></div><span class="my_story_list_date">2009-2-11 9:14</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_118423.html"><img src="http://img.diglog.com/img/2009/1/thumb_9d2b0eca212d4c8b9acb5fec2ea1ecba.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_118423.html">PhotoFunia-生成搞怪照片</a></div><span class="my_story_list_date">2009-1-11 10:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_99773.html"><img src="http://img.diglog.com/img/2008/10/thumb_ada381b936f7456d93197855ab4a5f2d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_99773.html">中文字体字库在线图片生成工具：youmade</a></div><span class="my_story_list_date">2008-10-30 15:17</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>