<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>为什么库伯内斯变得这么受欢迎？</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">为什么库伯内斯变得这么受欢迎？</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-30 03:57:16</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/5/b33a25f1b3f42b20e6582f5f7a0e0b49.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>在撰写本文时，Kubernetes大约6岁，在过去的两年中，它的受欢迎程度不断上升，一直是最受欢迎的平台之一。今年，它成为第三大最受欢迎的平台。如果您还没有听说过Kubernetes，那么它是一个允许您运行和编排容器工作负载的平台。</p><p>容器最初是一个Linux内核进程隔离构造，它包含2007年的cgroup和2002年的名称空间。当LXC在2008年可用时，容器变得更像是一种东西，Google开发了自己的内部“在容器中运行所有东西的机制”，名为Borg。快进到2013年，Docker发布，彻底普及了面向群众的货柜。当时，Mesos是编排容器的主要工具，然而，它并没有被广泛采用。Kubernetes于2015年发布，并迅速成为事实上的容器编排标准。</p><p>为了试图理解库伯内斯的受欢迎程度，让我们考虑一些问题。开发人员上一次就部署生产应用程序的方式达成一致是什么时候？您知道有多少开发人员按开箱即用方式运行工具？今天有多少云运营工程师不了解应用程序的工作原理？我们将在本文中探索答案。</p><p>来自木偶和厨师的世界，Kubernetes的一个重大转变是从作为代码的基础设施转向作为数据的基础设施-具体地说，就是YAML。Kubernetes中的所有资源，包括实例、配置、部署、卷等，都可以简单地表示为一个YAML文件。例如：</p><p>apiVersion：v1Kind：PODMEDATA：名称：站点和标签：Podadata应用程序：WebSpec：容器：-Name：前端端口：nginx：nginx端口：-ContainerPort：80%-ContainerPort：80-ContainerPort：-ContainerPort：80。</p><p>这种表示使DevOps或站点可靠性工程师更容易完全表达他们的工作负载，而不需要用Python、Ruby或Javascript等编程语言编写代码。</p><p>GitOps或Git Operations版本控制。使用这种方法，您可以将所有的Kubernetes YAML文件保存在git存储库中，这样您就可以准确地知道何时进行了更改、由谁进行了更改，以及具体更改了哪些内容。这提高了整个组织的透明度，避免了成员需要去哪里查找他们需要的东西的模棱两可，从而提高了效率。同时，只需合并一个拉流请求，就可以更轻松地自动更改Kubernetes资源。</p><p>可扩展性。通过将资源定义为YAML，集群运营商可以非常轻松地更改Kubernetes资源中的一两个数字来改变伸缩行为。Kubernetes具有水平Pod Autoscaler，可帮助您确定特定部署必须能够处理低流量和高流量所需的最小和最大Pod数量。例如，如果您运行的展开可能需要更多容量，因为流量突然增加，则可以将maxReplicas从10更改为20：</p><p>apiVersion：autoscaling/v2beta2ind：HorizontalPodAutoscaler元数据：名称：myapp配置名称空间：defaultspec：配置比例TargetRef：配置配置apiVersion：app/v1配置配置类型：部署配置配置名称：myapp-Deployment：minReplicas：1配置maxReplicas：20配置规格：配置类型：配置类型：配置资源配置类型。</p><p>安全和控制。YAML是验证在Kubernetes中部署了什么以及如何部署内容的好方法。例如，当涉及到安全性时，一个重要的问题是您的工作负载是否以非root用户身份运行。我们可以使用像conftest这样的工具(一个YAML/JSON验证器)和Open Policy Agent(一个策略验证器)来检查您的工作负载的SecurityContext是否允许容器作为根运行。为此，用户可以使用简单的Open Policy Agent rego策略，如下所示：</p><p>软件包mainden[msg]{*input.ind=&#34；Deployment&#34；不是input.spec.template.spec.securityContext.runAsNonRoot=true。容器不能以根用户身份运行。}。</p><p>云提供商集成。科技行业的一个主要趋势是在公共云提供商中运行工作负载。在云提供商组件的帮助下，Kubernetes允许每个集群与其运行的云提供商集成。例如，如果用户在AWS的Kubernetes中运行应用程序，并希望可以通过服务访问该应用程序，云提供商将帮助自动创建LoadBalancer服务，该服务将自动调配Amazon Elastic Load Balizer以将流量转发到应用程序Pod。</p><p>Kubernetes具有很强的可扩展性，开发人员非常喜欢这一点。现有的资源有Pod、Deployment、StatefulSet、Secrets、ConfigMaps等，但用户和开发人员可以通过自定义资源定义的形式添加更多资源。例如，如果我们想定义一个CronTab资源，我们可以使用如下内容来实现：</p><p>apiVersion：apitensions.k8s.io/v1Kind：CustomResourceDefinitionMetadata：名称：crontdis.my.orgspec：ngroup：my.org；版本：apiversion1-name：v1；apiversions.k8s.io服务的类型：true；存储：true：crontab.my.orgspea：cstomResourceDefinitionMetadata：crontdis.my.orgspec：组：my.org；版本：-name：v1；类型：Object：True；存储：True；：Schema：；打开APIV3Schema：；类型：Object：：Object：Object_。*类型：对象*属性：*；^(\d+|\*)(/\d+)？(\s+(\d+|\*)(/\d+)？){4}$&#39；*副本：*类型：整数*范围：命名空间名称：*复数：crontab：单数：crontab*。</p><p>apiVersion：&#34；my.org/v1&#34；Kind：CronTabMetadata：名称：my-cron-objectspec：cronSpec：&#34；*/5&#34；cronSpec：&#34；*/5&#34；图片：my-cron-image和副本：5。</p><p>Kubernetes可扩展性的另一种形式是开发人员能够编写自己的运算符，该运算符是在遵循控制循环模式的Kubernetes集群中运行的特定进程。运营商允许用户通过与Kubernetes API对话来自动化CRD(自定义资源定义)的管理。</p><p>社区有几个工具，允许开发人员创建自己的运算符。其中一个工具是Operator Framework及其Operator SDK。SDK为开发人员快速开始创建操作符提供了一个框架。例如，您可以从它的命令行开始，如下所示：</p><p>.|_cmd||_Manager|_main.go|_go.mod|_Deploy||_role.yaml||_角色_binding.yaml||_服务帐户.yaml||_operator.yaml|_tools.go|_go.sum|_.gitignore|_version||_version.go|_Build||_bin|_。USER_SETUP|_入口点||_Dockerfile|_pkg||_API|_apis.go||_Controller|_Controler.go。</p><p>如果开发人员需要更多的控制，他们可以修改Golang文件中的样板代码。例如，要修改控制器的详细信息，他们可以对Controler.go文件进行更改。</p><p>另一个项目Kudo允许您只使用声明性YAML文件来创建操作符。例如，Apache Kafka操作员的定义如下所示，它允许用户使用以下几个命令在Kubernetes之上安装Kafka集群：</p><p>$kubectl kudo安装Kafka--instance=my-kafka-name\bnb_cpu_cpu=3000m\r nbc_cpu=zk-p zooKeeper_uri=zk-zooKeeper-0.zk-hs：2181\f25$kubectl kudo安装kafka--instance=my-kafka-name\cpu=3000m\p broker_cpu=3000m\**p broker_count=5-p broker*-p broker_count=5-p broker*。*-p NUM_NETWORK_THREADS=10-p NUM_IO_THREADS=20。</p><p>在过去的几年里，Kubernetes每隔三四个月就会有一次重大发布，这意味着每年都会有三到四个主要发布。新功能的引入数量并没有减慢，上一次发布的版本中有30多个不同的添加和更改就是明证。此外，就像Kubernetes项目Github活动所表明的那样，即使在这些困难的时期，捐款也没有显示出放缓的迹象。</p><p>新功能使群集操作员在运行各种不同的工作负载时更加灵活。软件工程师也喜欢有更多的控件来将他们的应用程序直接部署到生产环境中。</p><p>Kubernetes受欢迎的另一个重要方面是它强大的社区。首先，Kubernetes在2015年被捐赠给一个供应商中立的家庭，当时它发布了1.0版：云本地计算基金会(Cloud Native Computing Foundation)。</p><p>随着项目的推进，也有范围广泛的社区SIG(特殊利益集团)瞄准Kubernetes的不同区域。他们不断添加新功能，使其更加用户友好。</p><p>Cloud Native Foundation还组织了CloudNativeCon/KubeCon，在撰写本文时，这是世界上有史以来最大的开源活动。该活动通常每年举行三次，聚集了数千名技术专家和专业人士，他们希望改善Kubernetes及其生态系统，并利用每三个月发布的一些新功能。</p><p>此外，Cloud Native Foundation有一个技术监督委员会，该委员会与其SIG一起研究基金会在云本地生态系统中的新项目和现有项目。大多数项目都有助于提升Kubernetes的价值主张。</p><p>最后，我相信如果没有社会人士有意识地互相包容，欢迎任何新来者，库伯内斯便不会取得今天的成功。</p><p>开发人员未来面临的主要挑战之一是如何更多地关注代码的细节，而不是代码运行所在的基础设施。为此，无服务器正在成为解决这一挑战的领先架构范例之一。已经有非常先进的框架，比如Kative和OpenFaas，它们使用Kubernetes从开发人员那里抽象出基础设施。</p><p>我们在本文中简要介绍了Kubernetes，但这只是冰山一角。用户可以利用更多的资源、功能和配置。我们将继续看到新的开源项目和技术来增强或发展Kubernetes，正如我们所提到的，贡献和社区不会有任何进展。</p><p>标签：公告、容器、Kubernetes、无服务器、堆栈溢出</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://stackoverflow.blog/2020/05/29/why-kubernetes-getting-so-popular/">https://stackoverflow.blog/2020/05/29/why-kubernetes-getting-so-popular/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/内斯/">#内斯</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1004168.html"><img src="http://img.diglog.com/img/2020/5/thumb_cacf6543cde105abb7823d176d46d391.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1004168.html">库伯内斯部署策略解释</a></div><span class="my_story_list_date">2020-5-29 7:49</span></div><div class="col-sm"><div><a target="_blank" href="/story/1002455.html"><img src="http://img.diglog.com/img/2020/5/thumb_9eee82cd44609f8fe1a1cb4cc57ca40c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002455.html">库伯内斯解决了哪些问题？</a></div><span class="my_story_list_date">2020-5-17 6:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1002106.html"><img src="http://img.diglog.com/img/2020/5/thumb_d4e2815d580a6d47632a65c510949135.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002106.html">库伯内斯的CDK</a></div><span class="my_story_list_date">2020-5-15 0:4</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000427.html"><img src="http://img.diglog.com/img/2020/5/thumb_c95c6640c04b0b64f58812e5c40b98fc.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000427.html">安全之舟：库伯内斯与铁锈</a></div><span class="my_story_list_date">2020-5-3 6:55</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>