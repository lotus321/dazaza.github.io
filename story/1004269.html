<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>氧化技术面试</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">氧化技术面试</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-29 23:59:26</div><div class="page_narrow text-break page_content"><p>几年前，作为一名年轻的“来自铁锈地带”的人，你梦想成为一名系统程序员，如果你愿意的话，可以成为一名深渊观测者。你想通过尽可能接近金属来生存、呼吸和死亡。您成长在这样一个严酷的环境中：阅读汇编输出以删减几条指令，试图编写最快的代码、段错误和文档不完整的硬件，所有这些都是为了成为一名系统程序员。你深情地回顾那些年，因为它把你变成了今天的程序员。一个无与伦比的深渊凝视者，一个精灵，一个让凡人恐惧和崇拜的人，你给这个支撑着这个世界的基础的世界带来了密码。今天你是应一位朋友的要求来面试的，应聘的是一位生锈公司的职位。他们希望能够雇佣你，这样你就可以将红宝石菲利斯的意志导入所有从你手指间飞出的代码中去。他们当然不能就这样给你这份工作。关于你的技术的传言是不是真的，你未来的潜在同志必须亲眼看看是不是真的。你看着你的面试官，他会问你是否准备好开始了。你点点头，准备好承担任何交给你的任务。</p><p>给你一个大小为n+1的数组，整数为0到n。使用针对大小进行优化的算法和针对大O优化执行的算法在列表中查找重复项。面试官解释说，请确保只使用Rust的稳定版本，因为我们在这里不是每晚都用到它。&#34；你的面试官解释说，你的面试官解释说，你可以使用一个大小优化的算法和一个针对大O优化执行的算法在列表中查找重复项。如果我在O(1)中只做一个既能做两件事又能做的算法有关系吗？&#34；你会问。面试官困惑地看着他们的笔记，因为这不是他们被告知可能的答案之一。他们是一名年轻的工程师，你正在接受主要工程职位的测试。令人高兴的是，你已经能够证明你可以做好你的工作，教那些在资历方面比你低的人。&#34；嗯，当然可以。他们说，如果你能呃证明这一点的话。</p><p>你拿出你的MacBook，充当与沃兹尼亚克本人联系的渠道，这样他就可以像他以前多次做过的那样引导你。你清空了自己，成为那些凝视着你面前深渊的人的器皿。让我们从创建一个项目来容纳召唤开始吧。你会说，一定要解释你的流程。面试官微微点点头，但他们似乎比之前更警惕了。也许召唤不是合适的词。也许是咒语？无论采用哪种方式，您都可以像所有Rustaceans一样在控制台上输入魔术单词，重新开始世界的意愿之前、现在和之后。</p><p>好的，让我们设置我们的货单，将高质量的手工制作的代码发送给我们的最终用户。&#34；您打开Cargo.toml文件，并在其中填入您根深蒂固的优化咒语。</p><p>[Package]名称=&#34；访谈&#34；版本=&#34；0.1.0&#34；作者=[&#34；Z̴̧̡̢̨̛A̷̡̡̢̢̡L̶̢̧̢̪̬Ģ̵̡̢̢̧̛Ơ̵̵̡̡̡̧̢̛̬͇̬̳Ċ̷̢̨̢̼̰Ǫ̷̨̧̢̛͎M̵̡̨̖̹̣E̴̢̧̨̨̛S̸̱̠̹̮̣&lt；Z̴̧̡̢̨̛A̷̡̡̢̢̡L̶̢̧̢̪̬Ģ̵̡̢̢̧̛Ơ̵̡̡̬͇̬truecodegen=&#34；2018&#34；[dependencies][profile.release]panic=&#34；̶̢̧̢̪̬Ģ̵̡̢̢̧̛Ơ̵̡̡̬͇̬&#34；lto=truecodegen-unit=1opt-level=&#34；s&#34；</p><p>“等等，你的名字怎么了？”面试官问道。你把它们挥到一边回答说，不要担心，甜美的夏日孩子，免得你像我一样被诅咒。重要的是，我们已经针对代码生成大小进行了优化，并从代码中尽可能多地剔除了不必要的汇编指令。他们问道，这并不意味着你应该使用z来表示大小。&#34；什么？并在输出中添加一条完全无用的指令？我不这么认为。&#34；</p><p>您可以快速打开编辑器以访问src/main.rs。你松开指节，释放限制器，开始你的咒语。</p><p>等等，等等。我说使用稳定的铁锈编译器，这些都是夜间功能。还有，你到底需要这些做什么？&#34；面试官愤怒地问。&#34；我使用的是稳定的铁锈编译器。就像你问的那样，你说给他们看版本号，虽然这更多的是一个技术细节，但是他们还不知道。嗯，好吧，管它呢，继续往前走。</p><p>没有libstd，没有核心，只有我，当你放置这条线时，你低声说着，这将使你真正摆脱任何铁锈依赖的束缚。</p><p>然后你就会看到面试官脸上那可怜的恐怖表情。好的，让他们深入了解系统的编程真正是什么。好了，IO是函数式程序员试图通过使用纯函数来避免的东西。如果我们想要查看某些东西的输出，我们需要进行某种类型的syscall，因为操作系统是存在的。我们将链接到libc，这样我们至少可以使用printf。我们将在这里使用此行直接链接到OSX libc，但根据操作系统的不同，我们可能希望链接不同的libc实现。</p><p>有任何依赖都会让你很痛苦，但你今天不是想要写一个完整的操作系统，那是下周的面试。不幸的是，目前还没有可以使用的库，因此，就像铁匠小心翼翼地将金属环连接在一套链式邮件中一样，您可以链接到受人尊敬的libc。</p><p>#[ALLOW(NON_CAMEL_CASE_TYPES)]pub type c_char=i8；#[Allow(Non_CAMEL_CASE_TYPE)]pub type c_int=i32；#[link(name=&#34；system&#34；)]//osx libcextern&#34；C&#34；{pub FN printf(format：*const c_char，.)-&gt；c_int；}。</p><p>好的，好的，但是你要谈到真正的问题吗？面试官问，显然是因为你在费心使用C代码而不是println。哦，甜蜜的夏日孩子。一切都建立在科宁汉和里奇的作品之上。我们不能轻易逃脱他们的遗产。</p><p>好的，让我们添加一些宏，以便稍后减少一些重复的内容。我们必须把他们放在这里，否则，如果他们在我们召唤他们的地方出现，他们就根本不存在了。你试图让明显失去亲人的面试官相信，你确实理解你正在使用的语言，而且你不会无缘无故地把他们拉来拉去，这样他们就根本不存在了。你试图让明显失去亲人的面试官相信，你确实听懂了你正在使用的语言，而不是无缘无故地把他们拉来拉去。</p><p>宏规则！Matches{($Expression：expr，$($Pattern：PAT)|+$(if$Guard：expr)？)=&gt；{Match$Expression{$($Pattern)|+$(if$Guard)？=&gt；true，_=&gt；false}MACRO_RULES！copy_clone_eq_impls{($($t：ty)*)=&gt；{$(对$t{}实施副本$t{}对$t实施克隆{fn clone(&amp；self)-&gt；self{*self}}针对$t实施部分Eq{fn eq(&amp；self，ther：&amp；$t)-&gt；bool{(*self)==(*Other)})*}}。</p><p>他们问道，为什么不从这些东西中推导出来呢？你死死地看着他们的眼睛，向他们解释，我不能通过派生宏为基元实现这些。我必须“成为”编译器本身才能使它们工作。现在让我们继续。我们有一个苹果派要做，首先我们必须发明宇宙。让我们添加一些特性，并导入一些我们将需要的编译器内部功能。</p><p>#[lang=&#34；size&#34；]酒吧特征大小{}#[lang=#34；Freeze&#34；]自动特征冻结{}extern&#34；ruust-inherent&34；{FN Offset&lt；T&gt；(dst：*const T，Offset：isize)-&gt；*const T；}#[lang=#34；Receiver&#34；]特征接收者{}#[lang=&#34；]特征接收者{}#[lang=&#34。{type output：？size；fn index(&amp；self，index：idx)-&gt；&amp；self：：output；}针对[T]实施&lt；T，I&&gt;；Index&lt；i&gt；，其中I：SliceIndex&lt；[T]&gt；，{type output=I：：output；fn index(&amp；self，index：i)-&gt；&amp；i：：output{index.index。{type output：？size；FN GET(Self，Slice：&amp；T)-&gt；Option&lt；&amp；Self：：Output&gt；；FN get_mut(Self，Slice：&amp；mut T)-&gt；Option&lt；&amp；MUT Self：：output&gt；；UnSafe FN Get_Unecked(Self，Slice：&amp；T)-&gt；&amp；Self：：OUTPUT；不安全FN GET。MUT T)-&gt；&amp；mut self：：output；fn index(self，Slice：&amp；T)-&gt；&amp；self：：output；fn index_mut(self，Slice：&amp；mut T)-&gt；&amp；mut self：：output；}#[lang=#34；copy&#34；]特征复制：克隆{}特征克隆：大小{fn克隆(&amp；self)-&gt；MUT Self，来源：&amp；Self){*Self=Soure.clone()}}#[lang=&#34；eq&#34；]特征PartialEq&lt；RHS：？SIZED=Self&gt；{fn eq(&amp；Self，Other：&amp；RHS)-&gt；bool；FN ne(&amp；Self，Other：&amp；RHS)-&gt；bool{！self.eq(Other)(&amp；Self，Other：&amp；Self，Other：&amp；RHS)-&gt；bool{！self.eq(Other)。]特征PartialOrd&lt；rhs：？size=Self&gt；：PartialEq&lt；rhs&gt；{fn Partial_CMP(&amp；Self，Other：&amp；RHS)-&gt；Option&lt；Ording&gt；FN lt；(&amp；Self，Other：&amp；RHS)-&gt；bool{Matches！(self.part_cmp(Other)，Some(Less))}FN。Bool{Matches！(self.part_cmp(Other)，Some(Less)|Some(Equity))}fn GT(&amp；Self，Other：&amp；RHS)-&gt；bool{Matches！(self.Partial_CMP(Other)，Some(Greater))}FN ge(&amp；Self，Other：&amp；RHS)-&gt；bool{Matches！(self.Partial_CMP(Other)，Some(Greater)|Some(等于。]特征非{type output；fn not(Self)-&gt；self：：output；}#[lang=&#34；neg&#34；]特征负{type output；fn neg(Self)-&gt；self：：output；}#[lang=&#34；sub&#34；]特征Sub&lt；rhs=self&gt；{type output；Fn sub(self，rhs：rhs)-&gt；self：output；</p><p>就像任何配得上他们的海盐的好的Rustacean一样，你已经把每一点libstd和libcore都钻进了你的脑海，所以你只把你需要的东西放进去，其他什么都没有。你相信零成本抽象，不，你是零成本抽象。甚至可能只为一个CPU周期或更多的CPU付费也会让你反感。只运行必须运行的内容，不运行其他内容。</p><p>等等，这些特征和项目不是来自libcore和libstd吗？什么。这是怎么回事？你的面试官问道，显然很苦恼，因为它需要这么多代码。是的，因为我们使用的是#！[no_core]，它们根本不存在了。我们只是确切地定义了我们需要从那里得到什么，没有更多的东西。此外，我还尽可能明确地让您看到在任何机器上编程所需的真实成本，去掉语法和预置代码。说到糖有咖啡吗？我喜欢黑色，就像我卖给他们的灵魂一样，以便在这类事情上做得更好。也许这个自嘲的笑话有点过头了，即使这是真的。你只是想缓和一下气氛，但面试官似乎假装什么也没听到。</p><p>好的，现在让我们实现所有这些特性！&#34；您可以说，手指在键盘上飞来飞去，永远不会离开插入模式。Esc，h，j，k，l？哈，那些钥匙是给那些没有献身于深渊的人的。</p><p>对[T]实施&lt；T，I&&gt;索引&lt；I&gt；其中I：SliceIndex&lt；[T]&gt；，{type output=I：：output；fn index(&amp；self，index：i)-&gt；&amp；i：：output{index.index(Self)}}特征切片索引&lt；T：？size&gt；{type output：？size；fn get(self，Self：：output&gt；；fn get_mut(self，Slice：&amp；mut T)-&gt；option&lt；&amp；mut self：：output&gt；；unSafe FN get_unecked(Self，Slice：&amp；T)-&gt；&amp；self：：output；unsafe fn get_uncheck_mut(self，Slice：&amp；mut)-&gt；&amp；mut self：：output；self：：output；fn index_mut(self，Slice：&amp；mut T)-&gt；&amp；mut self：：output；}#[lang=&#34；copy&#34；]特征复制：克隆{}特征克隆：大小{fn clone(&amp；self)-&gt；self；fn clone_from(&amp；mut self，source：&amp；self){*self=source e.clone()}}#[lang=&#。rhs：？size=Self&gt；{fn eq(&amp；Self，Other：&amp；RHS)-&gt；bool；FN ne(&amp；Self，Other：&amp；RHS)-&gt；bool{！self.eq(Other)}}#[lang=&#34；Partial_Ord&34；]特征PartialOrd&lt；RHS：？SIZED=Self&gt；：PartialEq=Self&lt；：Partial Eq&lt；RHS)-&gt；option&lt；订购&gt；；FN lt(&amp；self，Other：&amp；RHS)-&gt；bool{Matches！(self.part_cmp(Other)，Some(Less))}FN LE(&amp；Self，Other：&amp；RHS)-&gt；</p><p>#[lang=&#34；start&#34；]fn start&lt；T：Terminate+&#39；static&gt；(main：fn()-&gt；T，_：isize，_：*const*const U8)-&gt；isize{main().report()as isize}fn main(){unsafe{printf(&#34；值为：%d\n\0&#34；as*const U8)-&gt；isize{main().report(){unsafe{printf(&#34；；值为：%d\n\0&#34；as*const。</p><p>就是这个。最后一段时间。这种期待简直要了你的命。此类型签名的用途是什么？从什么开始？！生锈没有运行时间！&#34；，你的面试官支支吾吾地说。你转向他们，魔鬼曾经玩过的最伟大的把戏是让C和Rust程序员相信他们的语言没有运行时。&#34；你回到你的计算机上。你叹了口气说，看，我们快做完了。这是我发誓的最后一点。&#34；您开始键入最后的单词，当您最终执行代码时，这将使您拥有O(1)的运行时间和O(1)的空间使用量。到目前为止，你所做的咒语中，确实是最神奇的。</p><p>发布常量重复：U64={发布常量列表：&amp；&39；静态[U64]={不安全{&amp；*repr{raw：FatPtr{data：&amp；[1u64，2u64，3u64，7u64，4u64，5u64，6u64，7u64，8u64，9u64，10u64，]as*const u64，len：11，}，}.rust}}；const。Item！=0usize{Recurse(Item-1，10)}//否则If Compare==0&amp；&amp；Item==0//鸽子洞原则表示我们保证能处理这种情况否则If Compare==Item{Recurse(Item，Compare-1)}Else{If List[Compare]==List[Item]{Returse List[Compare]；}Else{Recurse(Item，Compare-1)}递归(10，10)}。</p><p>等等，等等，这就是天真的解决方案！面试官说，这是O(n^2)Runtime！&#34；，面试官对你重复它们的繁琐感到恼火。不，不，那只是理论上正确的！&#34；你会说，在实践中，const的使用会使编译器将时间和空间保持不变！小心！&#34；你自己动手打开地狱之门，键入异端咒语，只有享有特权的生锈程序员才能用来编译编译器，以免黑社会的滋生摧毁稳定的幻觉。</p><p>Interview is📦v0.1.0 Via🦀v1.43.0❯rustc_bootstrap=1 Cargo Run--Release编译氧化-The Interview v0.1.0(/Users/Z̴̧̡̢̨̛A̷̡̡̢̢̡L̶̢̧̢̪̬Ģ̵̡̢̢̧̛Ơ̵̡̡̬͇̬ASM Finish Release[优化]Target(S)在0.17秒内运行`📦/Release/Interview`值为：7Interview is ASM v0.1.0 Via🦀v1.43.0❯RUSTC_BOOTSTRP=1 Cargo Rustc--Release-emit ASM编译访谈v0.1.0。s)在0.19s访谈中是📦v0.1.0通过🦀v1.43.0❯CAT SECTION__TEXT，__text，常规，纯指令.macosx_version_min 10，7.globl_main_main：Push q%RBP movq%rsp，%rbp leaq l_unname_1(%rip)，%rdi movl$7，%esi xorl%eax，%eax callq_printf xorl%eax，%eax popq%rbp ret.Section__text，__constl_unname_。值为：%d\n&#34；.subsections_via_symbol target/release/deps/interview-6201aba656776dbc.s为📦v0.1.0，通过🦀v1.43.0❯CAT sInterview|wc-l 20。</p><p>看，我告诉过你我只会使用稳定的编译器。你只要相信我就行了！现在看看这段代码的ASM输出。只有20行！17行，如果你去掉空行的话！不需要手写程序集！这都是高级锈码，看看7在里面，它只是被推入一个寄存器并打印出来，所以我在实践中证明了它是恒定的时间和空间！&34；</p><p>你的面试官眼睛发白，转过头来说：“我们稍后再联系你。”谢谢你的光临。哦，不，你以前听过这句话。你。</p><p>..</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.mgattozzi.dev/oxidizing-the-technical-interview/">https://blog.mgattozzi.dev/oxidizing-the-technical-interview/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/面试/">#面试</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/技术/">#技术</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/technical/">#technical</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/fn/">#fn</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1002831.html"><img src="http://img.diglog.com/img/2020/5/thumb_bc6bcaad4a22ee1f1455ade4e382c292.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002831.html">我是如何搞砸YC面试的</a></div><span class="my_story_list_date">2020-5-20 1:44</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001593.html"><img src="http://img.diglog.com/img/2020/5/thumb_dc26678c43848fd244c38d69b23f9b65.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001593.html">先试后买：为什么人们和公司都放弃了面试(2012)</a></div><span class="my_story_list_date">2020-5-11 7:31</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001373.html"><img src="http://img.diglog.com/img/2020/5/thumb_142d0dcc35202e90e4e0b0719684468a.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001373.html">我在谷歌的求职面试</a></div><span class="my_story_list_date">2020-5-9 17:29</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000433.html"><img src="http://img.diglog.com/img/2020/5/thumb_c0812a4035e2c30ee7ae22d5ad612b43.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000433.html">谷歌最常见的电话面试问题</a></div><span class="my_story_list_date">2020-5-3 9:23</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>