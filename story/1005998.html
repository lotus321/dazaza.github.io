<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>开源MSVC的STL(2019)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">开源MSVC的STL(2019)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-10 19:00:40</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/6/397c3af5ab8a50dffe568f3fb6acbc45.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>今天在CppCon 2019上，我们(MSVC团队)宣布我们将以开源的形式发布C++标准库(也称为STL)的实现。</p><p>https://github.com/microsoft/STL是我们的新存储库，包含我们所有的产品源代码、一个新的Cmake构建系统和一个包含更多信息的自述文件。正如它解释的那样，我们仍在努力迁移到GitHub。虽然您现在就可以克隆和构建代码，但是在开始审查Pull请求之前，我们需要做几件事(比如添加我们的测试套件)。</p><p>答：有几个原因。在GitHub中处理STL将允许我们的客户跟踪我们的发展，尝试我们的最新更改，并通过审核来帮助改进我们的Pull请求。随着C++标准化的加速，每年都有更多的大型特性被投票选出，我们相信接受主要特性作为开放源码贡献将是重要的。(例如，C++20的计时库和格式库是潜在的候选。)。我们还希望通过实现我们的主要功能来回馈C++社区。(例如，C++17的charconv。)。</p><p>问：您使用的是什么许可证，这是否会直接影响Visual Studio的客户？</p><p>答：MSVC的STL是在Apache License v2.0下分发的，但有LLVM例外，这是最近由Clang/LLVM/libc++项目创建的。我们之所以选择这个开放源码许可，是因为拥有与libc++相同的许可将使我们的库之间更容易共享代码。需要明确的是，MSVC的STL没有与libc++合并；它们仍然是不同的库，使用不同的数据结构表示支持不同的平台。然而，如果libc++的维护人员有兴趣从MSVC的STL中获取特性实现(例如浮点charconv)，或者希望在两个库中同时协作开发新特性，我们将能够提供帮助，而不必担心许可问题。</p><p>作为MSVC的STL的客户，您可能想知道这个新的许可证是否会给您带来新的义务。微软的立场是，带有LLVM例外的Apache License v2.0的文本(具体地说，LLVM例外的措辞)清楚地指出，当您使用MSVC的STL编译自己的源代码以生成目标代码或类似的输出(例如，静态库、动态库和可执行文件)时，在将编译后的产品交付给最终用户时不需要提供属性。这是我们选择这个许可证的另一个原因：为了避免扰乱我们客户的业务。</p><p>(出于完整性考虑，请另外注意：MSVC的STL包含派生自Boost.Math和Ryu的源代码，这些源代码是根据Boost软件许可证v1.0的条款使用的。这是另一个允许的开放源码许可证，也包含目标代码的显式例外。我们的派生源代码是在Apache License v2.0下分发的，但LLVM除外。)。</p><p>答：我们没有这样的计划。我们选择STL是因为它不同于其他MSVC库和编译器。具体地说，与其他MSVC库不同，STL是由C++标准化委员会快速发展和设计的。(由委员会设计是开源的一个优势！这意味着我们不需要在功能设计审查上花费任何时间和精力。实施战略和战术的约束要大得多，因此更容易审查。)。与编译器(通常情况下，一切都与其他一切交互)不同，STL也相对容易实现，并且有些松散耦合。</p><p>(有一个例外：我们将来可能会开放STL的支持库，但目前我们没有什么要宣布的。)。</p><p>答：一个相当小的问题：我们将花费一些时间检查我们的构建系统、测试基础设施和问题跟踪，这将推迟一些关于C++20库特性的工作。(我们刚刚完成了所有C++17库功能的实现，所以这应该不会有太大问题。)。这将允许我们更有效地处理STL，并最终更快地达到C++20的完备性。</p><p>MSVC团队要感谢Dinkumware和P.J.Plauger使这成为可能。</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://devblogs.microsoft.com/cppblog/open-sourcing-msvcs-stl/">https://devblogs.microsoft.com/cppblog/open-sourcing-msvcs-stl/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/开源/">#开源</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/msvc/">#msvc</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/sourcing/">#sourcing</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/stl/">#stl</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1005990.html"><img src="http://img.diglog.com/img/2020/6/thumb_eddd311956ecc4304f3dd5a97e2b799e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005990.html">勇敢的开源浏览器发现向键入的URL添加引用代码</a></div><span class="my_story_list_date">2020-6-10 16:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005698.html"><img src="http://img.diglog.com/img/2020/6/thumb_83e1ae36389b1bd9e8b0b4f4e7c2711b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005698.html">广受欢迎的开源项目中的漏洞在2019年翻了一番</a></div><span class="my_story_list_date">2020-6-8 22:29</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005665.html"><img src="http://img.diglog.com/img/2020/6/thumb_3ac0736af7dfbce8636ca1c89ce3dbe8.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005665.html">Strapi-开源Node.js无头CMS</a></div><span class="my_story_list_date">2020-6-8 14:24</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005511.html"><img src="http://img.diglog.com/img/2020/6/thumb_29f7802725a77f3ec5349cd059cd94e4.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005511.html">SpaceX如何使用Linux、Chromium、C++和开源库</a></div><span class="my_story_list_date">2020-6-7 7:47</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>