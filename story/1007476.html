<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>两款Game Boy音频放大器芯片的逆向工程与比较</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">两款Game Boy音频放大器芯片的逆向工程与比较</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-21 06:27:56</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/6/70ab386d0e3f93d8c25534c61920dbfc.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>任天堂游戏男孩包含一个音频放大器芯片，可以通过扬声器或耳机发出声音。在这篇文章中，我对这个芯片进行了反向工程，并将其与后来的游戏男孩颜色芯片(之前进行了反向工程)进行了比较。出乎意料的是，游戏男孩颜色使用了与最初的游戏男孩完全不同的放大器设计，这可能解释了为什么这两个系统听起来不同。</p><p>下图显示了游戏机放大器的硅晶片，标有主要功能部件。1芯片左上方有两个用于扬声器输出的大型驱动晶体管(一个用于将信号拉低，另一个用于将信号拉高)。耳机放大器由两个几乎相同的模块组成：一个用于左声道，一个用于右声道。电流源和电流镜的电路由两个耳机通道共享。芯片左下角包含数字逻辑，可在插入耳机时启用扬声器放大器或耳机放大器。</p><p>芯片上标有引脚和关键功能块。高分辨率芯片照片由约翰·麦克马斯特提供。</p><p>通过仔细检查芯片，可以识别晶体管和电阻器等元件。从这里可以确定完整的电路。在上面的照片中，白线是芯片的金属层，连接元件。硅本身看起来是绿色的，在金属下面。外面的绿色方块是焊盘，将硅芯片连接到芯片的18个引脚上。芯片的各个区域被处理(掺杂)以改变硅的电学特性。下一节解释如何从这些不同类型的硅制造元件。</p><p>放大器芯片是由被称为NPN和PNP双极型晶体管的晶体管制成的，与处理器中使用的低功耗MOS晶体管不同。这些晶体管有三个连接：发射极、基极和集电极。下面放大的照片显示了上方的NPN晶体管。硅中略有不同的色调表示已经掺杂形成N和P区的区域，区域之间有黑线分隔。气泡状的银色区域是芯片上的金属层-这些区域就是硅片上的金属层。</p><p>游戏男孩彩色放大芯片中的NPN晶体管。集电极(C)、发射极(E)和基极(B)连同N和P掺杂的硅一起标记。</p><p>照片下面是一个垂直的横截面，显示了晶体管是如何构造的，发射极(E)线连接到N+硅。其下方是连接到基触点(B)的P层。下面是(间接地)连接到集电极(C)的N+层。如果你看一下下面的垂直横截面，你可以找到形成晶体管的N-P-N层。</p><p>驱动扬声器的高电流输出晶体管使用了不同的结构(下图)。这些晶体管要大得多，并且在发射极和基座之间有多个互锁手指，周围环绕着大型收集器。如果你回头看芯片照片，你会发现其中两个晶体管填满了芯片的左上角。</p><p>游戏男孩彩色音频放大器芯片中的大电流NPN输出晶体管。标记收集器(C)、基座(B)和发射器(E)。</p><p>该芯片还使用了PnP晶体管，其结构完全不同，如下图所示，最明显的区别是PnP晶体管是圆形的。2A PNP晶体管有一个小的圆形发射极(P-硅)，由环形基区(N-硅)包围，该基区又被集电极(P-硅)包围。(发射极金属覆盖发射极和基极，但只连接到发射极。)与NPN晶体管的垂直结构不同，这些区域水平(横向)形成P-N-P夹层。请注意，虽然基区物理上围绕着发射极，但到基区的金属连接更远；基区信号通过集电极下面的N区到达基区。</p><p>游戏机音频放大器芯片中的PnP晶体管。集电极(C)、发射极(E)和基极(B)的连接以及N和P掺杂的硅都标有标签。基座围绕发射极形成环，集电极围绕基座形成环。</p><p>电阻器是模拟芯片的重要组成部分。下图显示了一些由P硅条组成的锯齿形长电阻器，在照片中呈米色。它的电阻与电阻器的长度成正比，因此大值电阻器的形状为之字形，以适应可用空间。由于电阻器相对较大且不精确，芯片设计试图将所需的电阻器数量降至最低。即便如此，像这样的模拟芯片需要大量的电阻器。</p><p>游戏男孩音频放大器芯片中的一些电阻。在中心，两个并联的电阻器提供低电阻。长而曲折的电阻器提供高电阻。</p><p>下面的照片显示了七个小电阻，但只有中间的两个连接(并联)到电路。这些额外的电阻允许通过修改金属层来修改电阻，这比改变硅容易得多。(这些电阻偏置输出晶体管，似乎这是一个需要调整的关键电阻。)。</p><p>这个芯片有三个大电容，每个放大器一个。下面的照片显示了其中一个电容器。电容器只是在底层硅上覆盖了一层很大的金属层，由一层薄的绝缘氧化层隔开。在照片的顶部和右边，你可以看到金属布线和下面的硅之间的连接。在这个芯片中，电容器是用来确保放大器的稳定性的。因为它们很大，所以这三个电容器很容易在芯片芯片照片中被发现。</p><p>Game Boy放大器芯片的设计与流行的LM380功率音频放大器芯片(1972)非常相似，因此我将从概述LM380的工作原理开始。(详细信息请参见脚注5。)LM380有正负输入，输出将输入之间的差值放大50倍。这听起来可能像是运算放大器，但LM380的目的是作为音频放大器，并且在几个方面与运算放大器不同：它有一个很小的固定增益。在以下几个方面，LM380与运算放大器不同：它有一个很小的、固定增益的输出。这听起来可能像是一个运算放大器，但LM380的目的是作为一个音频放大器，它在几个方面与运算放大器不同：它有一个小的、固定的增益</p><p>下面的示意图显示了LM380的主要功能模块。输入进入差动对电路(蓝色)3.差动对(绿色)的输出进入单管放大级，提供更多增益。放大级上的电容稳定放大器以防止振荡。最后，输出级(紫色)产生大电流输出：功率晶体管Q7拉高输出，Q8和Q9 4拉低输出。反馈网络控制LM380的增益，将增益固定在某一倍的范围内。最后，输出级(紫色)产生大电流输出：功率晶体管Q7拉高输出，Q8和Q9 4拉低输出。反馈网络控制LM380的增益，将增益固定在一个因子。S反馈网络连接到放大器的内点，而不是输入。</p><p>游戏机电路板。音频放大器芯片在右手边的中间。©Raimond Spekking/CC BY-SA 4.0(通过Wikimedia Commons)</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://www.righto.com/2020/06/reverse-engineering-and-comparing-two.html">http://www.righto.com/2020/06/reverse-engineering-and-comparing-two.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/逆向工程/">#逆向工程</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/芯片/">#芯片</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/boy/">#boy</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1006954.html"><img src="http://img.diglog.com/img/2020/6/thumb_c0678717f3a086b77f51503c5326fb9e.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006954.html">天气控件逆向工程和自动化</a></div><span class="my_story_list_date">2020-6-17 23:21</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005820.html"><img src="http://img.diglog.com/img/2020/6/thumb_c0daa6466c8fc56511aad0fc28dea291.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005820.html">如何对卫视智能卡进行逆向工程(2008)</a></div><span class="my_story_list_date">2020-6-9 15:30</span></div><div class="col-sm"><div><a target="_blank" href="/story/1003065.html"><img src="http://img.diglog.com/img/2020/5/thumb_3335d7569ea15a677831fb162fd1eb78.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1003065.html">逆向工程任天堂Switch App REST API</a></div><span class="my_story_list_date">2020-5-21 9:36</span></div><div class="col-sm"><div><a target="_blank" href="/story/1002146.html"><img src="http://img.diglog.com/img/2020/5/thumb_f714f4a9c5f4f6f8b26864e2b8180931.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002146.html">从模具照片逆向工程76477个“太空入侵者”声音芯片(2017年)</a></div><span class="my_story_list_date">2020-5-15 4:57</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>