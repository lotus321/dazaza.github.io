<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>HSBC从65个关系数据库迁移到一个全球MongoDB数据库</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">HSBC从65个关系数据库迁移到一个全球MongoDB数据库</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-13 15:06:16</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/6/5d6fc0a258737ebf68627172090f49c3.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>汇丰银行是世界上最知名的银行和金融服务机构之一，业务遍及60多个国家，为4000多万客户提供服务。然而，这种规模带来了相当大的运营复杂性-尤其是在银行如何交付其应用程序和数据模型方面。</p><p>汇丰商业银行数据设计师Narasimha Reddy本周在MongoDB.Live上发表讲话，解释了该组织如何寻求通过将65个关系数据库迁移到一个全球MongoDB实例来简化其应用交付方法。</p><p>在实践中，这意味着每个国家将能够维护其各自的应用程序要求，但不必操作唯一的国家数据库。一个单一的数据模型正在创建中，这不仅为汇丰银行节省了成本和资源，而且使其能够自由地推进自己的数据模型设计。</p><p>Reddy解释了下图如何为全球应用程序创建复杂的全局数据模型，该模型在软件开发周期的每个步骤都创建了高成本模型，降低了更改的灵活性，并导致业务照常运营的成本上升。他说：</p><p>全球实体在其世界上大多数运营国家/地区都运行相同的应用程序。但是，不可能只有一个版本的应用程序在所有国家运行。每个国家都将有自己的定制，以履行其当地或地区的职能和业务。当然还有监管要求。</p><p>这使得在关系数据库世界中不可能维护一个版本的应用程序和一个数据模型。</p><p>因此，我们最终拥有不同的代码库。我们都知道数据模型驱动了大部分系统设计。因此，我们在使用关系数据库时最终得到的是-每个国家/地区一个数据模型，这使得维护应用程序的一个版本变得不可能。</p><p>雷迪说，汇丰银行一直在寻求实现一个全球数据模型，从而建立一个全球数据库，这样它就可以得到一个更真实的“全球应用程序”版本。</p><p>这样做的好处包括降低了成本、灵活性，以及能够更轻松地运行全球分析和报告(每个国家都运行在单一数据模型上)。</p><p>从历史上看，如上图所示，HSBC确实拥有应用程序核心程序环境，该环境拥有应用程序的大部分核心功能。但由于数据模型和数据库的不同，它不可能有一个适用于所有国家的单一方案环境。</p><p>因此，它必须将特定于国家的程序环境放在应用程序的核心环境之上，以满足每个国家的特定应用程序需求。因此，当任何国家/地区的用户访问该应用程序时，它最终都会有自己的执行路径。然后，特定于国家的程序环境和核心程序环境将一起访问该国家的特定数据库并处理应用程序。</p><p>这是因为每个国家都有自己的功能、字段、业务逻辑接口、数据规则、数据生命周期和数据访问控制。因此，如果对数据模型进行调整，则程序环境变得与改变后的数据模型不兼容，并且必须建立新的程序环境。</p><p>汇丰银行的大部分应用程序已经在iSeries、大型机系统和DB2上运行了几十年。雷迪说：</p><p>由于所有这些概念，将应用程序设计为使用多个国家/地区的单个实例和单个数据库运行变得非常复杂。</p><p>这种模式带来了额外的后果。我们将不得不开发和应用另一个数据模型和数据库来运行全球数据的数据分析和报告。当然，这会消耗额外的资源。它肯定是以多种不同的方式计入成本。</p><p>然而，根据下图，汇丰银行现在有了一个新的架构。现在，它在全球各地都有运营国家使用相同的应用程序，但对资源的使用已经减少。它现在是一个适用于所有国家的一个服务环境、一个数据库和一条执行路径。这是因为MongoDB的文档模型，并且能够使用子文档将每个国家的所有不同表要求映射到单个集合中。使用国家/地区特定的标识符将所有内容简化为一个集合。</p><p>每个国家/地区的本地要求将内置到应用程序中，但不再需要维护单独的数据模型或单独的数据库。我们可以使用MongoDB JSON模式模型轻松地设计全局数据模型和数据库。这会将来自所有运营国家的数据放入一个数据库，并且应用程序只能在一个数据库上运行。这大大降低了资源和维护成本。</p><p>另一个好处是使用相同的数据库进行全球数据分析和报告。我们不需要转换为另一个数据模型或另一个数据库来从该特定数据运行分析和报告。所有这些都带来了巨大的资源和成本节约。</p><p>我在使用MongoDB时了解到，当数据库没有模式并提供强大的查询和索引时，我驱动我的数据模型设计，而不是数据库。</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://diginomica.com/hsbc-moves-65-relational-databases-one-global-mongodb-database">https://diginomica.com/hsbc-moves-65-relational-databases-one-global-mongodb-database</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/数据库/">#数据库</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/mongodb/">#mongodb</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/database/">#database</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/databases/">#databases</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/应用程序/">#应用程序</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1006221.html"><img src="http://img.diglog.com/img/2020/6/thumb_a584cd97520009d8398ea9dac0555c10.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006221.html">种族主义魔术：出版商禁止收集卡片，并将其从数据库中删除</a></div><span class="my_story_list_date">2020-6-12 6:36</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005854.html"><img src="http://img.diglog.com/img/2020/6/thumb_d20f3562dccf21a6d1fc97ba23016042.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005854.html">Prisma 2.0：让您的数据库充满信心，提高工作效率</a></div><span class="my_story_list_date">2020-6-9 22:51</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005825.html"><img src="http://img.diglog.com/img/2020/6/thumb_fccf902dc5dcd5d37539b962a2ea371d.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005825.html">RecallGraph-一个开放源码的图形数据库，用于版本控制的图形数据</a></div><span class="my_story_list_date">2020-6-9 16:37</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005700.html"><img src="http://img.diglog.com/img/2020/6/thumb_30c0609340e60cb418e40054d8c080af.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005700.html">数据库“分片”来自UO？(2009)</a></div><span class="my_story_list_date">2020-6-8 22:46</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>