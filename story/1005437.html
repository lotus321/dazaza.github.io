<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>1998年授予IBM的以HTML格式显示SQL数据的专利</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">1998年授予IBM的以HTML格式显示SQL数据的专利</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-06 20:34:08</div><div class="page_narrow text-break page_content"><p>使用宏语言文件通过互联网访问关系数据库下载PDF US5737592AUS08/491,742 US49174295A US5737592A US 5737592 A US57375992A US 5737592A US 49174295 A US49174295A US 49174295A US 5737592 A US57375992 US 5737592A法律地位(法律地位是一种假设，不是法律结论。谷歌没有进行法律分析，也没有就所列状态的准确性发表任何声明。)。</p><p>当前受理人(列出的受理人可能不准确。谷歌没有进行法律分析，也不对名单的准确性做出任何陈述或保证。)。</p><p>优先日期(优先日期是假设，不是法律结论。谷歌没有进行法律分析，也没有就列出的日期的准确性发表任何声明。)。</p><p>转让给国际商业机器公司重新转让国际商业机器公司转让ASSIGNORS权益(详见文件)。转让人：Nguyen，Tam Minh，Srinivasan，VENKATACHARY。</p><p>分配给思科系统公司。重新分配Cisco Systems，Inc.。转让ASSIGNORS权益(详见文件)。委托人：国际商业机器公司。</p><p>分配给思科技术公司。重新分配思科技术公司。转让ASSIGNORS权益(详见文件)。委托人：思科系统公司。</p><p>G06F16/958-网站内容的组织或管理，例如发布、维护页面或自动链接。</p><p>G06F16/972-访问其他存储库系统中的数据，例如遗留数据或动态网页生成</p><p>G06F16/20-信息检索；其数据库结构；其结构化数据(例如关系数据)的文件系统结构。</p><p>y-新技术发展的一般标记；跨IPC几个部分的横截面技术的一般标记；前USPC交叉参考艺术收藏[XRAC]和文摘所涵盖的技术主题。</p><p>y-新技术发展的一般标记；跨IPC几个部分的横截面技术的一般标记；前USPC交叉参考艺术收藏[XRAC]和文摘所涵盖的技术主题。</p><p>本发明公开了一种用于通过因特网的万维网在关系数据库管理系统中执行SQL查询的方法和装置。根据本发明，Web用户可以通过HTML输入表单从RDBMS软件请求信息，然后使用该请求来创建由RDBMS软件执行的SQL语句。RDBMS软件输出的结果本身会转换为HTML格式，以便呈现给Web用户。</p><p>发明背景本发明总体上涉及由计算机执行的数据库管理系统，尤其涉及一种使用宏语言文件通过因特网访问关系数据库的方法和设备。</p><p>随着Internet和万维网(也称为WWW或Web)的迅速普及，对Web访问数据库的需求也在快速增长。然而，在Web上使用关系数据库管理系统(RDBMS)软件尤其困难。在Web上使用RDBMS软件的问题之一是用于在Web中通信的协议与用于与RDBMS软件通信的协议之间缺乏对应。</p><p>例如，Web使用超文本传输协议(HTTP)和超文本标记语言(HTML)进行操作。该协议和语言导致包含超链接的图形信息的通信和显示。超链接是嵌入在单词、短语、图标或图片中的网络地址，当用户选择图形信息中显示的突出显示的项目时激活这些网络地址。HTTP是Web客户端和Web服务器使用这些超链接在它们之间通信时使用的协议。HTML是Web服务器用来创建包含这些超链接的文档并将其连接在一起的语言。</p><p>相比之下，大多数RDBMS软件使用结构化查询语言(SQL)接口。SQL接口已发展成为RDBMS软件的标准语言，并已被美国国家标准组织(ANSI)和国际标准组织(ISO)采用。</p><p>因此，在本领域中需要通过互联网访问RDBMS软件的方法，特别是通过万维网访问RDBMS软件的方法。此外，需要为这样的系统简化开发环境。</p><p>发明内容为了克服上述现有技术中的限制，并克服在阅读和理解本说明书后将变得明显的其他限制，本发明公开了一种用于通过因特网在关系数据库管理系统中执行SQL查询的方法和设备。根据本发明，Web用户可以通过HTML输入表单从RDBMS软件请求信息，然后使用该请求来创建由RDBMS软件执行的SQL语句。RDBMS软件输出的结果本身会转换为HTML格式，以便呈现给Web用户。</p><p>附图简介图1示意性地示出了本发明优选实施例的硬件环境；</p><p>图2示意性地示出了本发明的优选实施例的概述，并且具体地示出了本发明中的组件之间的交互；</p><p>图3示意性地示出了本发明的优选实施例的概述，具体地，示出了本发明的用户运行时环境和应用开发环境之间的关系；</p><p>图4是说明根据本发明创建宏语言文件所涉及的步骤的流程图；</p><p>图5是说明根据本发明使用宏语言文件来提供对关系数据库的访问所涉及的步骤的流程图；以及。</p><p>图6是说明使用宏语言文件生成动态SQL查询，然后将该查询的结果合并到HTML报告表单中所涉及的步骤的流程图。</p><p>优选实施例的详细描述在优选实施例的以下描述中，参考形成其一部分的附图，并且作为说明，附图中示出了其中可以实施本发明的特定实施例。应当理解，可以利用其他实施例，并且可以在不脱离本发明范围的情况下进行结构和功能改变。</p><p>概述随着Internet和万维网(也称为WWW&34；或Web)的迅速普及，对Web访问关系数据库的需求也在不断增加。本发明是促进Web客户端、Web服务器和执行诸如IBM的DB2系列产品的RDBMS软件的服务器之间的通信的DB2WWW网关。DB2WWW网关使应用程序开发人员能够使用HTML表单和动态SQL为RDBMS软件构建Web应用程序。</p><p>这些应用程序的最终用户只能看到他/她的请求的输入表单和结果报告。用户填写输入的表单，点击导航表单，访问RDBMS软件和关系数据库。DB2WWW网关使用用户输入动态构建完整的SQL命令，并将其发送到执行RDBMS软件的服务器。SQL命令由RDBMS软件执行，结果输出由DB2WWW网关合并到HTML表单中，以呈现给用户。</p><p>应用程序开发人员创建HTML表单和SQL查询，并将它们存储在执行DB2WWW网关的计算机上的宏语言文件中。宏语言提供跨语言变量替换，从而使应用程序开发人员能够充分利用以下功能：(A)HTML用于创建查询或输入表单和报表，以及(B)SQL用于查询和更新。由于DB2WWW网关使用原生HTML和SQL语言，而不是某种新的或混合的语言，因此可以使用各种现成的工具来创建HTML表单和生成SQL查询。</p><p>硬件环境图1示意性地示出了本发明优选实施例的硬件环境，更具体地说，示出了使用因特网10将执行Web浏览器的客户端系统12连接到执行Web守护程序的服务器系统14、将执行Web守护程序的服务器系统14连接到执行DB2WWW网关的服务器系统16、以及将执行DB2WWW网关的服务器系统16连接到执行RDBMS软件的服务器系统18的典型分布式计算机系统。资源的典型组合可以包括作为个人计算机或工作站的客户端12，以及作为个人计算机、工作站、小型机或大型机的服务器14、16和18。这些系统通过各种网络相互耦合，包括LAN、WAN、SNA网络和Internet。</p><p>客户端系统12通常执行Web浏览器，并且耦合到执行Web服务器的服务器计算机14。Web浏览器通常是一个程序，如IBM的Web Explorer或Netscape或Mosaic。Web服务器14通常是诸如IBM的HTTP守护程序或其他WWW守护程序的程序。客户计算机12通过线路或通过无线系统与服务器计算机14双向耦合。接着，服务器计算机14通过线路或通过无线系统与DB2WWW服务器16双向耦合。另外，DB2WWW服务器16通过线路或通过无线系统与RDBMS服务器18双向耦合。</p><p>DB2WWW网关16支持对执行RDBMS软件的服务器18的访问。DB2WWW网关16和RDBMS服务器18可以位于与Web服务器14相同的服务器上，或者它们可以位于不同的机器上。执行RDBMS软件的服务器18可以是地理上分布的，并且可以包括不同的供应商系统，例如DB2、Oracle、Sybase等。</p><p>本领域技术人员将认识到，在不脱离本发明的范围的情况下，可以对该配置进行许多修改。例如，在两层结构中，执行DB2WWW网关16的功能的服务器系统也可以执行Web服务器14和/或RDBMS服务器18的功能，或者，在三层结构中，Web服务器14、DB2WWW网关16和RDBMS服务器18都可以由不同的服务器来执行。</p><p>DB2WWW网关DB2WWW网关16被设计为足够灵活和强大，但仍可在多个平台上使用，例如OS/2、AIX、MVS等。此外，DB2WWW网关16被设计为与现有的Web和数据库应用程序开发工具一起工作，只需对这些工具进行最少的修改。</p><p>这些目标还导致了本发明的宏语言的发展。宏语言是HTML和SQL的组合，并结合了跨语言变量替换机制，该机制允许将来自HTML格式输入表单的输入数据插入到RDBMS软件的SQL格式查询中。跨语言变量替换机制还允许将SQL查询结果合并到HTML报表中。</p><p>DB2WWW网关16的运行时引擎读取宏语言文件以生成适当的查询或输入表单、SQL查询和报告表单。使用原生HTML和SQL，而不是使用新的或混合的语言，可以充分发挥这些语言的表达能力，而不受人为限制。查询表单和报告表单都可以以任何方式布局。</p><p>此外，可以使用现有工具来生成宏语言文件。例如，来自不同供应商的HTML编辑器可用于生成HTML表单组件，而SQL查询接口(如IBM的Visualizer查询)可用于生成SQL查询组件。</p><p>组件之间的交互图2示意性地示出了本发明的优选实施例的概览，并且具体地示出了本发明中的组件之间的交互。用户与在远离Web服务器14的客户计算机12上执行的Web浏览器交互。在某一时刻，用户通过Web浏览器12执行HTTP命令，该HTTP命令导致与在Web服务器14上执行的HTTP守护程序通信。然后，Web服务器14将HTML格式的初始或主页发送到Web浏览器12以呈现给用户。DB2WWW网关16将由用户从主页选择超链接项来调用。可以预见，DB2WWW网关16符合为Web服务器14定义的公共网关接口(CGI)，因此可以通过以下两种方式之一从HTML页面调用：通过HTTP锚引用或通过HTTP表单动作。</p><p>HTTP锚引用的格式通常如下：&#34；&lt；A HREF=http://{web-server}/{cgi-name}/{db2-www-gateway}/{macro-language-file}/{command}？Variable-Name=Variable-Value&amp；。。。！&gt；&#34；。</p><p>HTTP form操作的格式通常如下所示：&#34；&lt；Form METHOD={method}ACTION=http://{web-server}/{cgi-name}/{db2-www-gateway}/{macro-language-file}/{command}？Variable-Name=Variable-Value&amp；。。。！&gt；&#34；。</p><p>&#34；{COMMAND}&#34；通常是&#34；输入&#34；或&#34；报告&#34；。如果&#34；输入&#34；，则为最终用户显示HTML输入表单。如果&#34；REPORT&#34；，则执行{宏语言文件}中的SQL命令，并为最终用户显示HTML报告表单。</p><p>&#34；？Variable-Name=Variable-Value&amp；。。。！&#34；是可以传递给DB2WWW网关执行的宏语言文件的可选参数。</p><p>在Web浏览器12、Web服务器14和DB2WWW网关16之间交互的某个时刻，用户将从由RDBMS服务器18管理的关系数据库请求数据。DB2WWW网关16将检索宏语言文件20，从宏语言文件20提取HTML输入表格，并将HTML输入表格发送到Web服务器14。Web服务器14将HTML输入表格发送到Web浏览器12以显示给用户。</p><p>用户通过选择功能和/或将数据输入到输入框，经由Web浏览器12操纵HTML输入表单。当用户调用提交或发布命令时，来自HTML输入表单的数据连同该命令一起从Web浏览器12传输到Web服务器14。该命令将包括调用Web服务器14和DB2WWW网关16之间的通信的统一资源定位符(URL)。</p><p>DB2WWW网关16从HTML输入表单中提取用户输入，检索相关的宏语言文件20，并将这些输入替换为来自宏语言文件20的SQL查询。然后，DB2WWW网关16将SQL查询发送到RDBMS服务器18以供执行。在执行SQL查询之后，RDBMS服务器18将SQL查询的结果，即输出表返回给DB2WWW网关16，DB2WWW网关16从输出表中提取数据，并使用公共名称空间将其替换为来自宏语言文件20的HTML报告形式。公共名称空间源于宏语言文件中HTML和SQL语句中公共变量的使用，以及本发明的跨语言变量替换机制。所得到的HTML报告表格由DB2WWW网关16发送到Web服务器14，Web服务器14将HTML报告表格发送到Web浏览器12以呈现给用户。Web浏览器12、Web服务器14、DB2WWW网关16和RDBMS服务器18之间的这种交互可以根据用户的方向以类似的方式继续。</p><p>开发环境图3示意性地示出了本发明的优选实施例的概览，具体地，示出了本发明的用户运行时环境和应用开发环境之间的关系。</p><p>如前所述，运行时环境包括执行Web浏览器和Web服务器14的客户端12、DB2WWW网关16和RDBMS服务器18之间的交互。通过DB2WWW网关16对RDBMS服务器18和相关关系数据库的访问由存储在宏语言文件20中的编程控制。</p><p>根据本发明，用于访问关系数据库的Web应用的开发通常涉及以下步骤：</p><p>2.从HTML输入表单中提取用户输入，并使用变量替换机制通过通用名称空间生成合适的SQL查询；</p><p>4.允许其他查询和HTML表单，可能来自HTML报告表单中嵌入的超链接。</p><p>为DB2WWW网关编写应用程序的关键挑战是理解HTML和SQL语言，因为这些语言嵌入在宏语言文件中。以其最简单的形式，可以很容易地获得SQL和HTML的基本知识。但是，为了利用它们的高级功能，这些语言编写起来可能相当复杂和乏味。幸运的是，现有的HTML编辑器22和SQL查询工具24可以帮助极大地降低写宏语言文件的复杂性。使用HTML编辑器22和SQL查询工具24，应用开发者创建宏语言文件20，其中每个宏语言文件20包含HTML格式的SQL命令和相关联的查询和报告表格。</p><p>宏语言定义根据本发明的优选实施例，每个宏语言文件通常包含三个部分：</p><p>2.标识如下的HTML输入表单部分：%HTML--input{html输入表单部分%}。</p><p>3.标识如下的HTML报表表格节：%HTML--Report{html报表表格节%}。</p><p>宏语言包含指令，这些指令是带有前缀符号&#34；%&#34；(例如，%sql)的保留关键字。许多指令既有单行形式，也有支持多行文本的块形式。这些块指令以&#34；%}&#34；结尾，可以在一行的任何位置。在优选实施例中，除了下面描述的报表的%EXECSQL块之外，不允许块的嵌套。</p><p>SQL指令标识要由RDBMS软件执行的一个或多个SQL命令。这些SQL命令按顺序执行，并且将来自SQL命令的查询结果(如果有的话)返回给用户以供显示。</p><p>HTML输入表单指令包含HTML命令，其中包含用于在生成SQL查询之前接受来自用户的输入数据的输入表单。仅当需要用户输入才能完成SQL查询时，才需要HTML输入表单部分。</p><p>HTML报告表单指令包含HTML命令，该HTML命令包括用于格式化查询结果以显示给用户的报告表单。%EXECSQL子指令包含要执行的SQL命令，以及查询结果变量及其在报告中的格式。%EXECSQL块前后的任何HTML命令都可能包含指向其他HT的超链接。</p><p>..</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://patents.google.com/patent/US5737592A/">https://patents.google.com/patent/US5737592A/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ibm/">#ibm</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/html/">#html</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>