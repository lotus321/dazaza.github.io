<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Stowaway-用于戊酯的多跳代理工具</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Stowaway-用于戊酯的多跳代理工具</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-16 20:26:34</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/6/3560810c6fcb541eb13cd3024bba937e.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>PermalLink GitHub是5000多万开发人员的家园，他们一起工作，共同托管和审查代码、管理项目和构建软件。</p><p>报名。</p><p>用户可以很容易地将其网络流量代理到Intranet节点(多层)，打破限制并操作您控制的所有节点XD。</p><p>PS：感谢大家的明星，我只是个业余爱好者，代码还需要优化，所以如果你发现任何错误或错误，请随时告诉我，PRS和问题都欢迎😘。</p><p>本工具仅限于安全研究和教学，因使用本工具而造成的一切法律责任及相关责任由用户承担！作者不承担任何法律责任和相关责任！</p><p>检查版本以获取一个。如果您想要未压缩的集合，请选中未压缩，或者您可以选择压缩的集合(更容易将代理上载到目标服务器)，请选中压缩。</p><p>Startnode和Simple节点可以命名为agent模式，除了有一些细微的不同之外，它们几乎是相同的(您可以在以下内容中看到不同之处)。</p><p>含义：-l表示Stowaway正在侦听端口9999并等待传入连接-s表示Stowaway在通信期间使用123作为加密密钥请注意！-s选项的值在启动每个节点时必须相同</p><p>含义：-c表示Stowaway的监视器节点的侦听地址-l表示Stowaway正在侦听端口10000并等待传入连接(可选，您也可以通过命令打开侦听端口)-s表示Stowaway在通信过程中使用123aes加密密钥--startnode它表示Stowaway作为起始节点启动(如果该节点是连接到管理员的第一个节点，则必须添加此选项！否则，只需删除此选项)--reconnect它意味着startnode将每隔5秒自动尝试重新连接到管理节点(在本例中)。PS：如果您想启动重新连接功能，请在启动STARTNODE时添加--RECONNECT，在启动其他简单节点时不需要添加此选项。</p><p>含义：-r表示要以被动模式启动节点-l表示Stowaway正在侦听端口10000并等待传入连接。</p><p>现在，您可以使用ADMIN，键入use 1-&gt；connect127.0.0.1：10001将这个简单的节点添加到网络中。</p><p>含义：-l，-s，--startnode与示例1-r相同，表示startnode被动启动。</p><p>下次要重新连接到startnode并重建整个网络时，只需启动管理节点，如./stowaway_admin-s 123-c 127.0.0.1：9999，然后整个网络将重建。</p><p>现在，Stowaway提供了基于SO_REUSEPORT和SO_REUSEADDR特性和iptable规则的端口重用功能(StartNode和Simple Node都可以使用此功能)。</p><p>主要支持WINDOWS、mac操作系统，也可以在linux上使用，但在linux平台上有一定的限制。</p><p>含义：-c/-s与我前面提到的一样--runstreuse它表示您要连接的节点处于端口重用模式(如果您要连接的节点正在重用端口，则必须设置此选项)</p><p>含义：-s/--startnode如前所述--report表示要重用的端口--rehost表示要监听的IP地址(不要设置0.0.0.0，会使重用功能失效)。</p><p>现在，如果有一个后跟startnode的简单节点，并且希望连接到startnode，则命令可以如下所示：./stowaway_agent-s123-c 192.168.0.105：80--runstreuse。</p><p>这种重用方法依赖于在流量到达重用端口(--report选项)之前，使用iptables规则将流量重定向到端口(-l选项)。</p><p>含义：--startnode/-s与我之前提到的相同--report它表示您要重用的端口-l它表示将接受所有重定向流量的端口(节点将侦听它)。</p><p>设置SECRET的值(SECRET的值是启动节点时-s选项的值)。</p><p>使用该脚本后，admin可以连接到startnode：./stowaway_admin-c 192.168.0.105：22-s 123--runstreuse。</p><p>现在，如果有一个后跟startnode的简单节点，并且希望连接到startnode，则命令可以如下所示：./stowaway_agent-s123-c 192.168.0.105：22--runstreuse。</p><p>如果节点被ctrl-c或命令kill终止，它将自动清除iptables规则，但如果它被命令kill-9终止，则它无法执行此操作，这将导致无法访问最初在重用端口上运行的服务，因此，为了避免这种情况，reuse.py提供了可以停止端口重用功能的函数。</p><p>如果要停止端口重用，只需运行reuse.py，如下所示：Python reuse.py--stop--rhost 192.168.0.105--rport 22。</p><p>然后将关闭重新使用的&#34；端口，并且可以再次访问原来在重新使用的端口上运行的服务。</p><p>每个节点(除管理节点外)都可以由多个节点连接以构建网络树。</p><p>当一个节点离线时，它将强制与该节点相关的所有SOCKS、反射、转发服务关闭。</p><p>如果其中一个分支因网络波动或中间节点断开而断开(例如，admin之后是startnode，并且startnode的分支分为两个分支，一个是startnode-&gt;节点2-节点3-节点4，另一个是startnode-节点5-节点6)。</p><p>此时，如果用户想要将节点3和节点4重新加入网络，则用户有两个选择。一种是，如果startnode可以直接访问node3，那么用户可以随时在startnode使用connect或sshnel命令重新连接node3(请记住，即使startnode也可以同时访问node4，请不要直接连接到node4，请将整个缺失链(node3-&gt；node4)的头节点node3连接到网络中，这样就可以将node3和node4重新连接到网络中。</p><p>另一种选择是，当starnode无法直接访问node3(即必须通过node2)时，请先重启node2并加入网络，然后在node2上使用connect或sshnel命令连接到node3，使node3和node4重新入网(如前所述，即使node2可以直接访问node4，也请不要连接node4，只连接node3)。</p><p>现在，使用管理节点并键入&#34；use 1&#34；-&&gt;&34；connect 127.0.0.1：10001&#34；，然后就可以将节点1添加到网络中</p><p>一旦设置了节点的便笺，除非节点关闭，否则即使在管理员脱机后重新连接到整个网络，也可以恢复便笺。因此，您不必担心丢失便笺。</p><p>它可以将您的流量代理到第二个简单节点，第二个简单节点将像socks5服务器一样执行其工作。</p><p>如果您想为socks5服务设置用户名/密码(火狐支持此功能，Chrome不支持此功能)，例如，如果您想要将用户名设置为ph4ntom，将密码设置为11235，只需将命令更改为socks7777 ph4ntom 11235(请注意，用户名和密码中都不要使用冒号(：))。</p><p>它可以让第二个简单节点作为ssh客户端启动到127.0.0.1：22的ssh连接(ARM和MIPSEL代理不支持此功能)。</p><p>现在，如果您想将另一个节点添加到网络中，您可以选择sshnel命令：</p><p>我建议在防火墙限制了除SSH之外的所有流量后，使用命令将节点添加到网络中。通常，您只需使用命令即可，它也可以工作(ARM和Mipsel代理不支持此功能)。</p><p>如果您要上传/下载任何文件，请使用Upload/Download+(Filepath)，然后可以将特定文件上传到选定节点/从选定节点XD下载特定文件(请注意！您一次只能传输一个文件，如果您想传输更多文件，请等待上一个文件传输完成。)。</p><p>现在您可以像真正连接到127.0.0.1：22一样连接到127.0.0.1：8888(将本地端口转发到远程端口)</p><p>现在，任何连接到127.0.0.1：80的人实际上都将连接到127.0.0.1：22(将远程端口转发到本地端口)。</p><p>如果要在节点3上打开新监听器以接受以下节点连接，可以使用&#34；listen&#34；命令。</p><p>这个项目编码只是为了好玩，逻辑结构和代码结构不够严格，请不要那么认真。</p><p>这个程序编译后会比平时稍微大一点，但实际上通过我的测试，它只比平时多了1MB，在物联网平台上可能会稍微大一点(1MB可能不是什么大不了的事情)，所以如果你在物联网平台上使用时有什么问题，尽管告诉我，我会尽我最大的努力减小它的大小。</p><p>UPX压缩后的可执行文件看起来比原来的要小很多，确实让偷渡客上传到目标服务器变得很容易，但实际上，虽然它可以让上传东西变得更容易，但它会比原来的稍微占用更多的内存，所以根据你想要使用偷渡者的目标来选择合适的版本(UPX或非UPX)。</p><p>如果要从源代码编译此项目，可以运行build_admin.sh/build_agent.sh(请注意！默认编译结果为代理模式，请运行build_agent.sh。但是如果您想编译管理模式，请查看main.go文件并按照说明进行操作，接下来您可以运行build_admin.sh来获取管理模式程序。)</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/ph4ntonn/Stowaway/blob/master/README_EN.md">https://github.com/ph4ntonn/Stowaway/blob/master/README_EN.md</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/用于/">#用于</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/multi/">#multi</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/节点/">#节点</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1006608.html"><img src="http://img.diglog.com/img/2020/6/thumb_2eac011074c2a00544dcb03082abe549.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006608.html">用于Java的异步探查器-采样CPU和堆探查器</a></div><span class="my_story_list_date">2020-6-15 9:58</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005942.html"><img src="http://img.diglog.com/img/2020/6/thumb_d86091bb1822ecf011903440ffddb201.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005942.html">Windows隐私仪表板：用于Windows 10隐私设置的GUI</a></div><span class="my_story_list_date">2020-6-10 9:15</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005539.html"><img src="http://img.diglog.com/img/2020/6/thumb_da9d5ed7acae945b4a67a9dc0b7bada3.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005539.html">SQLancer，用于自动测试DBMS以查找逻辑错误的工具</a></div><span class="my_story_list_date">2020-6-7 15:21</span></div><div class="col-sm"><div><a target="_blank" href="/story/1004698.html"><img src="http://img.diglog.com/img/2020/6/thumb_0a06d715e16bbcc483db91407d2f4bd3.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1004698.html">Userinterface.js-用于构建前端JavaScript应用程序的小型库</a></div><span class="my_story_list_date">2020-6-2 1:46</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>