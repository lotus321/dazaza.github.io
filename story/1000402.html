<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>关于编写编程语言的赤裸裸的真相</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1>关于编写编程语言的赤裸裸的真相</h1><div class="row"><div class="col-lg-8 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time">2020-05-03 03:57:09</div><p>我的职业生涯一直是关于设计编程语言和为它们编写编译器。这对我来说是一种巨大的快乐和满足感，如果您决定设计和实现一种专业的编程语言，也许我可以帮助其他人观察一下您的需求。当然，这是一个全书篇幅的主题，所以我在这里只会顺其自然地谈几个要点，而避开在其他地方已经很好地讨论过的话题。</p><p>首先，你有很多工作要做。多年的工作，其中大部分将在沙漠中游荡。成功的机会对你不利。如果你没有强烈的自我激励去做这件事，它是不会发生的。如果你需要别人的认可和鼓励，这是不会发生的。</p><p>幸运的是，做这样一个项目不是一大笔钱的投资，即使你失败了，它也不会让你崩溃。即使你真的失败了，取决于项目进展到什么程度，它在你的简历上看起来也会相当不错，对你的职业生涯也有好处。</p><p>有一件事非常清楚，那就是语法很重要。这非常重要。这就像汽车上的造型-如果造型不吸引人，那么表演再火爆也无关紧要。语法必须是您的目标受众喜欢的内容。</p><p>尝试使用他们以前从未见过的东西，将使语言采用变得更难推销。</p><p>我喜欢把熟悉的句法和美感结合在一起。它必须在屏幕上看起来很好看。毕竟，您将花费大量时间来研究它。如果它看起来笨拙、笨拙或难看，那么它就会玷污语言。</p><p>也许令人惊讶的是，我建议的几件事不应该是考虑因素。这些都是虚假的神：</p><p>最大限度地减少击键。当程序员使用纸带时，这可能很重要，而且对于bash或awk这样的小型语言也很重要。对于较大的应用程序，编程时间花在读写上的时间要比写多得多，因此减少击键本身不应该是一个目标。当然，我并不是说大量的样板文件是个好主意。</p><p>易于解析。编写具有任意先行功能的解析器并不难。不应该为了在解析器中节省几行代码而影响语言的外观。请记住，您将花费大量时间盯着代码。这是第一位的。如下所述，它仍然应该是上下文无关文法。</p><p>最大限度地减少关键字的数量。这个指标很愚蠢，但我看到它反复出现。英语有一百万个单词，我不认为有任何迫在眉睫的短缺。只要用你正确的判断力就行了。</p><p>上下文无关文法。这实际上意味着代码应该是可解析的，而不必在符号表中查找。众所周知，C++不是上下文无关的语法。上下文无关的语法，除了使事情变得简单之外，还意味着IDE可以在不集成到大多数编译器前端的情况下进行语法突出显示，也就是说，第三方工具变得更有可能存在。</p><p>冗余。是的，语法应该是多余的。你们都听人说过，语句终止是不必要的，因为编译器可以解决这个问题。这是真的-但这种非冗余会导致无法理解的错误消息。考虑一种没有冗余的语法。然后，任何随机的字符序列都将是有效的程序。甚至不可能出现错误消息。良好的语法需要冗余，以便诊断错误并提供正确的错误消息。</p><p>久经考验，千真万确。如果没有非常有力的理由，对于熟悉的结构，最好坚持使用久经考验的真实语法形式。它确实缩短了该语言的学习曲线，并将提高采用率。想想看，如果这种语言交换了+和*的运算符优先级，人们会多么讨厌它。将分歧3保存为以前未见的特征，这也向用户发出这是新的信号。</p><p>一如既往，这些原则不应被视为口头禅。要有正确的判断力。任何盲目遵循的语言设计原则都会导致灾难。这些原则很少是正交的，而且经常发生冲突。这很像设计一座房子--把主衣橱做得更大，意味着主卧室会变小。这一切都是为了找到合适的平衡。</p><p>抛开语法不谈，语言的核心将是语义处理，也就是将意义赋予句法结构。这是您将花费大量设计和实现的地方。这很像你体内的器官--它们是看不见的，除非它们出了问题，否则我们不会去想它们。语义工作不会有太多荣耀，但它将是语言的全部意义所在。</p><p>一旦通过语义阶段，编译器就会进行优化，然后生成代码，统称为后端。这两个关都很有挑战性，也很复杂。我，我喜欢和这些东西打交道，抱怨说我不得不把时间花在其他问题上。但除非你真的喜欢它，而且它需要一个相当精神错乱的人</p><div class="sotry_link"><a target="_blank" href="https://www.digitalmars.com/articles/b90.html">https://www.digitalmars.com/articles/b90.html</a></div><div class="story_tags"><button type="button" class="btn btn-light my_tag"><a href="/tag/语言/">#语言</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/不会/">#不会</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/language/">#language</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/compiler/">#compiler</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/编程/">#编程</a></button></div></div></div><div class="col-lg-4 col-0"><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/百度/">#百度</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/搜索/">#搜索</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/科学/">#科学</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/flash/">#flash</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/人像/">#人像</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/动物/">#动物</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/互联网/">#互联网</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/logo/">#logo</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/在线/">#在线</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/twitter/">#twitter</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/浏览器/">#浏览器</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/电影/">#电影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/搜索引擎/">#搜索引擎</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/雷人/">#雷人</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/腾讯/">#腾讯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/搞笑/">#搞笑</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/日本/">#日本</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/css/">#css</a></button></div></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script></body></html>