<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>前所未有地理解JavaScript执行上下文</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">前所未有地理解JavaScript执行上下文</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-13 03:47:41</div><div class="story_img_container"><img src="http://img.diglog.com/img/2020/6/44d38af3d46f111120e2394493fc32d3.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></div><div class="page_narrow text-break page_content"><p>订阅我的时事通讯，随时了解我的最新博客帖子。每次我发布新东西时都会收到一封电子邮件。</p><p>执行上下文是JavaScript编程语言最基本的部分。在这篇文章中，我们将深入探讨这一概念，它不仅是基本的，而且非常容易理解。</p><p>在许多情况下，从学习的理解和复杂性的角度来看，执行上下文的概念被投射为高级JavaScript概念。是的，如果没有按照正确的顺序用适当的例子学习，这听起来可能很复杂。随之而来的是，每个JavaScript初学者都需要理解，为什么对这个基本概念充满信心是很重要的呢？</p><p>这是名为“JavaScript：破解坚果”系列文章的第二篇。如果您还没有阅读关于JavaScript解释或编译的第一篇文章，请尝试一下。希望你喜欢这本书。</p><p>如果你还没有读过这个系列的前一篇文章，你可以在这里找到它：JavaScript解释的还是编译的？辩论结束了。</p><p>一些研究表明，人脑记忆中的信息量可能和整个互联网上的信息量一样多！但是我们不应该认为这是理所当然的，对吗？因此，一个合理的问题可能是，为什么学习这个概念很重要？</p><p>JavaScript的执行上下文是正确理解许多其他基本概念的基础。我们经常在下面的每一个概念中发现很多误解，仅仅是因为我们误解了执行上下文背后的事实。</p><p>作为JavaScript开发人员，一旦我们对这些概念有了很好的理解，我们就能够</p><p>我不知道为什么，但大多数编程语言都充满了有时可能会令人气馁的繁重术语。这些繁重的单词背后的基本概念大多更简单，更容易掌握。以下是对这篇文章有用的几点：</p><p>解析器：解析器或语法解析器是一个逐行读取代码并了解它如何符合编程语言定义的语法以及它要做什么的程序。正如您在我的上一篇文章中看到的，JavaScript语法解析器获取令牌数组并创建抽象语法树(AST)，以便可以对其进行进一步处理以创建可执行代码。</p><p>词汇环境：单词词汇的意思，与一种语言的单词或词汇有关。词法环境意味着代码的物理编写方式和位置。让我们以这段代码为例，</p><p>在上面的代码中，变量名在函数sayName中。这一点很重要，请注意，您的程序不能像在计算机上那样运行。它必须由编译器翻译。因此，它必须正确地知道和映射什么在词法上所处的位置，以便编译后的输出也是有意义和有效的。</p><p>请注意，通常在您的代码中会有很多词法环境。但不会同时执行所有环境。我们很快就会看到这一点。</p><p>上下文：将单词上下文可视化的最好方法是，想像一个围绕您感兴趣的主题(或我们正在讨论的上下文)的圆圈(或包装器)。上下文是围绕特定事件、情况等的一组情况或事实。</p><p>执行上下文：这意味着当前正在运行的代码及其周围的一切都在帮助运行它。可以有很多可用的词法环境，但是当前运行的是由执行上下文管理的。</p><p>作为软件开发人员，我们喜欢(或希望)以这样一种方式编写代码，它看起来不那么复杂，易于维护，并遵循一些实践、标准等。通过相同的类比，执行上下文允许JavaScript引擎以更好的方式维护代码和管理复杂性。</p><p>无论何时在JavaScript中运行代码，它都会在执行上下文中运行，执行上下文是代码加上我们在这里看到的由JavaScript引擎完成的所有操作(标记化、解析、代码生成等)的组合。</p><p>每当JavaScript代码第一次运行时，它都会创建称为全局执行上下文(Global Execution Context，GEC)的东西。即使在.js文件中没有一行代码并加载它，也会创建全局执行上下文。</p><p>全球这个词在这里是什么意思？函数之外的任何东西都是全局的。</p><p>全局执行上下文也称为基本执行上下文。它为你创造了两个特别的东西，</p><p>称为浏览器的窗口对象的全局对象。如果您在服务器端使用JavaScript，比如NodeJS，那么它将不是Window。</p><p>为简单起见，获取一个名为index.js的空JavaScript文件，并将其导入到一个名为index.html的html文件中，如下所示：</p><p>一旦您将此html加载到浏览器上，将不会加载和执行任何JavaScript，但是，如果您打开调试器控制台(Chrome为F12)并键入以下内容，</p><p>您看，已经为您创建了一个名为“这”的东西。您也可以尝试键入Window，这一次您将打印Window对象，</p><p>您是否注意到，Window对象和this变量在全局执行上下文中都是相等的？试试这个来确认一下，</p><p>当全局执行上下文刚刚在没有任何JavaScript代码的情况下被创建时，可以将其可视化为，</p><p>现在让我们向js文件添加一些代码。我们添加了一个名为name的变量，并用值Tom进行了初始化。我们还有一个名为sayName()的函数，它只记录名称。</p><p>您认为现在全球执行环境将会发生什么情况？让我们先在下面的图片演示中看到它，然后再进行解释。</p><p>在全局执行上下文中创建有两个阶段，即创建阶段和执行阶段。</p><p>创建阶段：在这个阶段，创建了两个特殊的东西，即全局对象，如浏览器的Window和一个名为this的变量。</p><p>变量名由一个名为UNDEFINED的特殊值初始化。函数sayName()直接放入内存中，我们将在下一篇关于另一个概念(提升)的文章中看到更多关于它的信息。</p><p>执行阶段：在此阶段，代码实际开始执行。对于上面的示例，唯一要发生的事情是，它会将值Tom赋给变量名。请注意，我们没有调用函数sayName()，尽管我们已经定义了它。因此，此函数将不会执行。我们将在下一节中了解有关函数执行的内容。</p><p>让我们看看下面的例子来理解这个概念。在本例中，我们有一个名为name的全局变量，它被分配了一个名为Tom的值。我们有一个名为tom()的函数来记录名称。最后，我们调用函数tom()。</p><p>请参阅下面的演示，一起理解函数执行上下文和全局执行上下文。</p><p>正如我们在上面看到的，全局执行上下文的创建阶段创建全局对象，此变量为变量和函数创建内存。该变量使用名为unfined的特殊值进行初始化。</p><p>在执行阶段，它为变量赋值并调用函数。因此创建了函数执行上下文。</p><p>函数执行上下文经历相同的阶段，即创建和执行。需要注意的重要一点是，函数执行上下文可以访问一个名为Arguments的特殊变量，它是调用时传递给函数的参数。在我们的示例中，我们不传递任何参数。因此，长度为0。</p><p>一个函数可以调用另一个函数，也可以调用另一个函数，以此类推。对于每个函数调用，都将创建一个函数执行上下文。我们将在即将发布的关于范围的帖子中详细介绍这一概念。</p><p>默认情况下，它指向窗口对象(还有更多内容，我们将在以后的帖子中看到)。</p><p>将任何函数声明放入内存时，为变量声明指定默认值UNDEFINED</p><p>将任何函数声明放入内存时，为变量声明指定默认值UNDEFINED。此外，函数执行上下文创建它们自己的执行堆栈。</p><p>全局和函数执行上下文以及阶段(创建和执行)是需要熟悉的重要概念。这将有助于轻松理解作用域、异步函数、闭合、提升等。我们将在本系列即将发布的文章中详细介绍每个概念。</p><p>如果您不熟悉执行上下文的概念，请在学习此概念时并排使用JavaScript Visualizer工具。编写小函数，使用定义的变量，执行函数，并查看该工具如何将其带过执行上下文的各个阶段。</p><p>如果它对你有用，请点赞/分享，这样其他人也能收到。要获得有关我最新帖子的电子邮件通知，请点击页面顶部的订阅按钮订阅我的博客。</p><p>在本系列的下一篇文章中，我将解释另一个基本概念，即吊装。敬请关注。</p></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.greenroots.info/understanding-javascript-execution-context-like-never-before-ckb8x246k00f56hs1nefzpysq">https://blog.greenroots.info/understanding-javascript-execution-context-like-never-before-ckb8x246k00f56hs1nefzpysq</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/java/">#java</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/理解/">#理解</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1005841.html"><img src="http://img.diglog.com/img/2020/6/thumb_95e30af2803e1b62dc04dbd82ab78efe.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005841.html">现代Java在数据密集型工作负载上的性能，第1部分和第2部分</a></div><span class="my_story_list_date">2020-6-9 20:16</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005795.html"><img src="http://img.diglog.com/img/2020/6/thumb_796f3f73a482b6c569b24a65992c22f1.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005795.html">使用JavaScript代替打字脚本作为内部Deno代码</a></div><span class="my_story_list_date">2020-6-9 10:6</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005663.html"><img src="http://img.diglog.com/img/2020/6/thumb_1fb4830e85264d50d59a51a90b02c1be.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005663.html">js：JavaScript中的机器学习</a></div><span class="my_story_list_date">2020-6-8 13:50</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005521.html"><img src="http://img.diglog.com/img/2020/6/thumb_6c0d98b3b2ad1e4309c9fd0c85650add.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005521.html">新的基于Java的勒索软件瞄准Linux和Windows系统</a></div><span class="my_story_list_date">2020-6-7 9:41</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/冠状病毒/">#冠状病毒</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/app/">#app</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>